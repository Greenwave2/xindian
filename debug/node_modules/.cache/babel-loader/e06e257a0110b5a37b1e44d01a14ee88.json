{"remainingRequest":"/home/alex/kaso-agri/node_modules/babel-loader/lib/index.js!/home/alex/kaso-agri/node_modules/eslint-loader/index.js??ref--13-0!/home/alex/kaso-agri/src/assets/js/jquery.imageplayer.js","dependencies":[{"path":"/home/alex/kaso-agri/src/assets/js/jquery.imageplayer.js","mtime":1547307616272},{"path":"/home/alex/kaso-agri/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/alex/kaso-agri/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/alex/kaso-agri/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.array.find\";\nimport _typeof from \"/home/alex/kaso-agri/node_modules/@babel/runtime/helpers/esm/typeof\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.promise\";\nimport \"core-js/modules/es7.promise.finally\";\n\nif (typeof jQuery == 'undefined') {\n  console.log('jQuery library was not found.');\n}\n\n(function ($) {\n  $.fn.extend({\n    imagePlayer: function imagePlayer(options) {\n      if (options && _typeof(options) == 'object') {\n        options = $.extend({}, $.imagePlayer.settings, options);\n      } else {\n        options = $.imagePlayer.settings;\n      }\n\n      return this.each(function () {\n        try {\n          new $.imagePlayer(this, options);\n        } catch (e) {\n          console.error(e);\n        }\n      });\n    }\n  });\n\n  $.imagePlayer = function (self, options) {\n    var settings = options;\n    var playlist = $(self);\n    var images = [];\n    var imagesEl = [];\n    var imagesLoaded = 0;\n    var body = null;\n    var player,\n        stage,\n        controls,\n        start,\n        prev,\n        play_pause,\n        next,\n        end,\n        scrubber,\n        scrubber_handle,\n        fullscreen,\n        frame_count,\n        caption,\n        image = null;\n    var last_frame_scrubber_pos = 0;\n    var full = false;\n    var pauseOnHover = settings.pauseOnHover;\n    var inc; // delta inc for scrubber\n\n    var i = 0; // current image\n\n    var rotator = null;\n    playlist.find('img').each(function () {\n      images.push(this.src);\n      imagesEl.push(this);\n    });\n\n    if (images.length == 0) {\n      throw \"No images found!\";\n    }\n\n    create_player(); // Check if all images are loaded here. http://api.jquery.com/load-event/\n\n    $.each(imagesEl, function (index, el) {\n      $(el).load(function () {\n        imagesLoaded++;\n\n        if (imagesLoaded >= images.length) {\n          if (settings.autoStart === true) {\n            image_cycle();\n          } else {\n            set_image(images[0]);\n          }\n\n          create_bindings();\n        }\n      });\n    });\n\n    function create_player() {\n      // Player elements.\n      player = $('<div>').addClass('img_player');\n      stage = $('<div>').addClass('stage');\n      controls = $('<div>').addClass('controls');\n      start = $('<a>').attr('href', '#').addClass('start');\n      prev = $('<a>').attr('href', '#').addClass('prev');\n      play_pause = $('<a>').attr('href', '#');\n      next = $('<a>').attr('href', '#').addClass('next');\n      end = $('<a>').attr('href', '#').addClass('end');\n      scrubber = $('<div>').addClass('scrubber');\n      scrubber_handle = $('<a>').attr('href', '#');\n      fullscreen = $('<a>').attr('href', '#').addClass('fullscreen');\n      frame_count = $('<span>').addClass('frame_count');\n      caption = $('<div>').addClass('caption'); // Set dimensions\n\n      player.css({\n        width: settings.stageWidth + 'px',\n        height: settings.stageHeight + 40 + 'px' // 40 is control bar height\n\n      });\n      stage.css({\n        width: settings.stageWidth + 'px',\n        height: settings.stageHeight + 'px'\n      });\n      controls.css({\n        width: settings.stageWidth + 'px'\n      });\n      scrubber.css({\n        width: Math.floor((settings.stageWidth - 297) / images.length * (images.length + 1)) + 'px'\n      }) // Set the right control for play/pause.\n      (settings.autoStart === true) ? play_pause.addClass('pause') : play_pause.addClass('play'); // Build the player.\n\n      player.append(stage.append(caption)).append(controls.append(start).append(prev).append(play_pause).append(next).append(end).append(scrubber.append(scrubber_handle)).append(fullscreen).append(frame_count));\n      playlist.hide().after(player);\n      inc = Math.floor(scrubber.width() / images.length);\n    }\n\n    function create_bindings() {\n      // Bind mouse interactions\n      stage.bind('mouseenter', function (e) {\n        handle_image_hover(e, this);\n      }).bind('mouseleave', function (e) {\n        handle_image_out(e, this);\n      }); // .hover seems not tow work?\n\n      play_pause.bind('click', function (e) {\n        handle_control_click(e, this);\n      });\n      prev.bind('click', function (e) {\n        handle_prev_click(e, this);\n      });\n      next.bind('click', function (e) {\n        handle_next_click(e, this);\n      });\n      start.bind('click', function (e) {\n        handle_start_click(e, this);\n      });\n      end.bind('click', function (e) {\n        handle_end_click(e, this);\n      });\n      fullscreen.bind('click', function (e) {\n        handle_fullscreen_click(e, this);\n      });\n      scrubber.bind('click', function (e) {\n        handle_scrubber_click(e, this);\n      });\n    }\n\n    function set_image(img) {\n      var w = full === true ? $(window).innerWidth() : settings.stageWidth;\n      var h = full === true ? $(window).innerHeight() - 40 : settings.stageHeight;\n      var image_object = {\n        src: img,\n        alt: 'Slide ' + i + 1,\n        width: w,\n        height: h\n      };\n\n      if (image === null) {\n        image = $('<img>').attr(image_object);\n        stage.append(image);\n      } else {\n        image.attr(image_object);\n      }\n\n      set_caption(i + 1);\n      frame_count.html(i + 1 + '/' + images.length);\n    }\n\n    function set_caption(frame) {\n      if (settings.captions === null || !(frame in settings.captions)) return;\n      caption.html(settings.captions[frame]);\n    }\n\n    function image_cycle() {\n      clearTimeout(rotator);\n\n      if (settings.loop === true) {\n        if (i > images.length - 1) {\n          i = 0; // stop animation\n\n          scrubber_handle.stop(true, true);\n          scrubber_handle.css('left', '0');\n        }\n      }\n\n      if (i < images.length) {\n        image_transition(images[i]);\n      }\n\n      i++;\n    }\n\n    function image_transition(img) {\n      set_image(img); // animate scrubber\n\n      last_frame_scrubber_pos = parseFloat(scrubber_handle.css('left'));\n      var remaining = inc * (i + 1) - last_frame_scrubber_pos; // var percent = Math.floor(remaining / inc) \n\n      scrubber_handle.stop(true, true);\n      scrubber_handle.animate({\n        left: '+=' + remaining + 'px'\n      }, settings.delay * 1000, 'linear');\n      rotator = setTimeout(image_cycle, settings.delay * 1000);\n    }\n\n    function handle_image_hover(e, elem) {\n      if (pauseOnHover === true && play_pause.attr('class') === 'pause') {\n        // is playing\n        clearTimeout(rotator);\n        scrubber_handle.stop(true, true);\n      }\n    }\n\n    function handle_image_out(e, elem) {\n      if (pauseOnHover === true && play_pause.attr('class') === 'pause') {\n        image_cycle();\n      }\n    }\n\n    function handle_control_click(e, elem) {\n      e.preventDefault();\n      elem = $(elem, player); // try if we can use \"hasClass\"\n\n      if (elem.attr('class') == 'pause') {\n        // it's playing (then pause)\n        elem.attr('class', 'play');\n        clearTimeout(rotator);\n        scrubber_handle.stop(true, false);\n        scrubber_handle.css('left', last_frame_scrubber_pos + 'px');\n        i--;\n      } else {\n        // paused (we have to resume playback)\n        image_cycle();\n        elem.attr('class', 'pause');\n      }\n    } // TODO: prev/next/start/end have a lot in common\n\n\n    function handle_prev_click(e, elem) {\n      e.preventDefault();\n      elem = $(elem, player);\n      clearTimeout(rotator);\n      scrubber_handle.stop(true, false);\n      i = i - 1 < 0 ? 0 : i - 1;\n      scrubber_handle.css('left', inc * i + 'px');\n\n      if (play_pause.attr('class') === 'pause') {\n        // was playing\n        image_cycle();\n      } else {\n        set_image(images[i]);\n      }\n    }\n\n    function handle_next_click(e, elem) {\n      e.preventDefault();\n      elem = $(elem, player);\n      clearTimeout(rotator);\n      scrubber_handle.stop(true, false);\n      i = i + 1 > images.length - 1 ? images.length - 1 : i + 1;\n      scrubber_handle.css('left', inc * i + 'px');\n\n      if (play_pause.attr('class') === 'pause') {\n        // was playing\n        image_cycle();\n      } else {\n        set_image(images[i]);\n      }\n    }\n\n    function handle_start_click(e, elem) {\n      e.preventDefault();\n      elem = $(elem, player);\n      clearTimeout(rotator);\n      scrubber_handle.stop(true, false);\n      i = 0;\n      scrubber_handle.css('left', '0px');\n\n      if (play_pause.attr('class') === 'pause') {\n        // was playing\n        image_cycle();\n      } else {\n        set_image(images[i]);\n      }\n    }\n\n    function handle_end_click(e, elem) {\n      e.preventDefault();\n      elem = $(elem, player);\n      clearTimeout(rotator);\n      scrubber_handle.stop(true, false);\n      i = images.length - 1;\n      scrubber_handle.css('left', i * inc + 'px');\n\n      if (play_pause.attr('class') === 'pause') {\n        // was playing\n        image_cycle();\n      } else {\n        set_image(images[i]);\n      }\n    }\n\n    function handle_fullscreen_click(e, elem) {\n      e.preventDefault();\n\n      if (!player.hasClass('full')) {\n        full = true;\n        pauseOnHover = false; // while we are in fullscreen\n        // enter fullscreen\n\n        player.addClass('full');\n        player.css('width', $(window).innerWidth() + 'px');\n        player.css('height', $(window).innerHeight() + 'px');\n        stage.css('width', $(window).innerWidth() + 'px');\n        stage.css('height', $(window).innerHeight() - 40 + 'px');\n        image.attr('width', $(window).innerWidth());\n        image.attr('height', $(window).innerHeight() - 40);\n        $(player).siblings().filter(':visible').addClass('invisibleimageplayer');\n      } else {\n        full = false;\n        pauseOnHover = settings.pauseOnHover; // restore\n        // exit fullscreen\n\n        player.removeClass('full');\n        player.css({\n          width: settings.stageWidth + 'px',\n          height: settings.stageHeight + 40 + 'px'\n        });\n        stage.css({\n          width: settings.stageWidth + 'px',\n          height: settings.stageHeight + 'px'\n        });\n        image.attr('width', settings.stageWidth);\n        image.attr('height', settings.stageHeight);\n        $(player).siblings().removeClass('invisibleimageplayer');\n        $('body').scrollTop(player.offset().top);\n      }\n    }\n\n    function handle_scrubber_click(e, elem) {\n      var pos, x_coord, delta_p, delta_n;\n      e.preventDefault();\n      elem = $(elem, player);\n      clearTimeout(rotator);\n      scrubber_handle.stop(true, false);\n      pos = elem.offset();\n      x_coord = Math.ceil(e.pageX - pos.left);\n      i = Math.floor(x_coord / inc);\n      delta_p = Math.abs(inc * i - x_coord);\n      delta_n = Math.abs(inc * (i + 1) - x_coord);\n\n      if (i < images.length) {\n        if (delta_p <= delta_n) {\n          scrubber_handle.css('left', x_coord - delta_p + 'px');\n        } else {\n          scrubber_handle.css('left', x_coord + delta_n + 'px');\n          if (i < images.length - 1) i++;\n        }\n\n        if (play_pause.attr('class') === 'pause') {\n          // was playing\n          image_cycle();\n        } else {\n          set_image(images[i]);\n        }\n      }\n    }\n  };\n\n  $.imagePlayer.settings = {\n    stageWidth: 400,\n    stageHeight: 300,\n    autoStart: false,\n    pauseOnHover: true,\n    delay: 1,\n    loop: true,\n    captions: null\n  };\n})(jQuery);",{"version":3,"sources":["/home/alex/kaso-agri/src/assets/js/jquery.imageplayer.js"],"names":["jQuery","console","log","$","fn","extend","imagePlayer","options","settings","each","e","error","self","playlist","images","imagesEl","imagesLoaded","body","player","stage","controls","start","prev","play_pause","next","end","scrubber","scrubber_handle","fullscreen","frame_count","caption","image","last_frame_scrubber_pos","full","pauseOnHover","inc","i","rotator","find","push","src","length","create_player","index","el","load","autoStart","image_cycle","set_image","create_bindings","addClass","attr","css","width","stageWidth","height","stageHeight","Math","floor","append","hide","after","bind","handle_image_hover","handle_image_out","handle_control_click","handle_prev_click","handle_next_click","handle_start_click","handle_end_click","handle_fullscreen_click","handle_scrubber_click","img","w","window","innerWidth","h","innerHeight","image_object","alt","set_caption","html","frame","captions","clearTimeout","loop","stop","image_transition","parseFloat","remaining","animate","left","delay","setTimeout","elem","preventDefault","hasClass","siblings","filter","removeClass","scrollTop","offset","top","pos","x_coord","delta_p","delta_n","ceil","pageX","abs"],"mappings":"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","sourcesContent":["if (typeof(jQuery) == 'undefined') {\n    console.log('jQuery library was not found.') \n}\n\n(function ($) {\n    \n    $.fn.extend({\n        imagePlayer: function(options) {\n            if (options && typeof(options) == 'object') {\n                options = $.extend({}, $.imagePlayer.settings, options) \n            } else {\n\t\t\t   \t options = $.imagePlayer.settings \n\t\t\t}\n            return this.each(function() {\n                try {\n                    new $.imagePlayer(this, options) \n                } catch (e) {\n                    console.error(e) \n                }\n            }) \n        } \n    }) \n    \n    $.imagePlayer = function (self, options) {\n        var settings = options \n        var playlist = $(self) \n        var images = [] \n        var imagesEl = [] \n        var imagesLoaded = 0 \n        var body = null \n        var player, stage, controls, start, prev, play_pause, next, end, scrubber, scrubber_handle, fullscreen, frame_count, caption, image = null \n        var last_frame_scrubber_pos = 0 \n        var full = false \n        var pauseOnHover = settings.pauseOnHover \n        var inc  // delta inc for scrubber\n        var i = 0  // current image\n        var rotator = null \n        playlist.find('img').each(function() {\n            images.push(this.src) \n            imagesEl.push(this) \n        }) \n        \n        if(images.length == 0) {\n            throw \"No images found!\" \n        }\n\n        create_player() \n        \n        // Check if all images are loaded here. http://api.jquery.com/load-event/\n        $.each(imagesEl, function(index, el) {\n            $(el).load(function() {\n                imagesLoaded++ \n                if(imagesLoaded >= images.length) {\n                    if(settings.autoStart === true) {\n                        image_cycle() \n                    } else {\n                        set_image(images[0]) \n                    }\n                    create_bindings() \n                }\n            }) \n        }) \n\n        function create_player() {\n            // Player elements.\n            player          = $('<div>').addClass('img_player') \n            stage           = $('<div>').addClass('stage') \n            controls        = $('<div>').addClass('controls') \n            start           = $('<a>').attr('href', '#').addClass('start') \n            prev            = $('<a>').attr('href', '#').addClass('prev')             \n            play_pause      = $('<a>').attr('href', '#') \n            next            = $('<a>').attr('href', '#').addClass('next') \n            end             = $('<a>').attr('href', '#').addClass('end') \n            scrubber        = $('<div>').addClass('scrubber') \n            scrubber_handle = $('<a>').attr('href', '#') \n            fullscreen      = $('<a>').attr('href', '#').addClass('fullscreen') \n            frame_count     = $('<span>').addClass('frame_count') \n            caption         = $('<div>').addClass('caption') \n            // Set dimensions\n            player.css({\n                width:settings.stageWidth + 'px',\n                height:settings.stageHeight + 40 + 'px' // 40 is control bar height\n            }) \n            stage.css({\n                width:settings.stageWidth + 'px',\n                height:settings.stageHeight + 'px'\n            }) \n            controls.css({\n                width:settings.stageWidth + 'px'\n            }) \n            scrubber.css({\n                width: Math.floor(((settings.stageWidth - 297) / images.length)*(images.length + 1)) + 'px'\n            }) \n            // Set the right control for play/pause.\n            (settings.autoStart===true) ? play_pause.addClass('pause') : play_pause.addClass('play') \n            // Build the player.\n            player.append(stage.append(caption)).append(controls.append(start).append(prev).append(play_pause).append(next).append(end).append(scrubber.append(scrubber_handle)).append(fullscreen).append(frame_count))          \n            playlist.hide().after(player) \n            inc = Math.floor(scrubber.width() / images.length) \n        }\n        \n        function create_bindings() {\n            // Bind mouse interactions\n            stage.bind('mouseenter', function(e) {\n                handle_image_hover(e, this) \n            }).bind('mouseleave', function(e) {\n                handle_image_out(e, this) \n            })  // .hover seems not tow work?\n            play_pause.bind('click', function(e) {\n                handle_control_click(e, this) \n            }) \n            prev.bind('click', function(e) {\n                handle_prev_click(e, this) \n            }) \n            next.bind('click', function(e) {\n                handle_next_click(e, this) \n            }) \n            start.bind('click', function(e) {\n                handle_start_click(e, this) \n            }) \n            end.bind('click', function(e) {\n                handle_end_click(e, this) \n            }) \n            fullscreen.bind('click', function(e) {\n                handle_fullscreen_click(e, this) \n            }) \n            scrubber.bind('click', function(e) {\n                handle_scrubber_click(e, this) \n            })             \n        }\n        \n        function set_image(img) {\n            var w = (full === true) ? $(window).innerWidth() : settings.stageWidth \n            var h = (full === true) ? $(window).innerHeight() - 40 : settings.stageHeight \n            var image_object = {\n                src: img, \n                alt: 'Slide ' + i + 1, \n                width: w, \n                height: h\n            } \n            if (image === null) {\n                image = $('<img>').attr(image_object) \n                stage.append(image) \n            } else {\n                image.attr(image_object) \n            }\n            set_caption(i+1) \n            frame_count.html(i+1 + '/' + images.length) \n        }\n        \n        function set_caption(frame) {\n            if (settings.captions === null || !(frame in settings.captions)) return \n            caption.html(settings.captions[frame]) \n        }\n        \n        function image_cycle() {\n            clearTimeout(rotator) \n            if(settings.loop === true) {\n                if (i > images.length - 1) {\n                    i = 0 \n                    // stop animation\n                    scrubber_handle.stop(true, true) \n                    scrubber_handle.css('left', '0') \n                }\n            }\n            if (i < images.length) {\n                image_transition(images[i]) \n            }\n            i++ \n        }\n        \n        function image_transition(img) {\n            set_image(img) \n            // animate scrubber\n            last_frame_scrubber_pos = parseFloat(scrubber_handle.css('left')) \n            var remaining = inc*(i+1) - last_frame_scrubber_pos \n            // var percent = Math.floor(remaining / inc) \n            scrubber_handle.stop(true, true) \n            scrubber_handle.animate({\n                left: '+='+remaining+'px'\n            }, settings.delay*1000, 'linear') \n            rotator = setTimeout(image_cycle, settings.delay * 1000) \n        }\n        \n        function handle_image_hover(e, elem) {\n            if(pauseOnHover === true && play_pause.attr('class') === 'pause') { // is playing\n                clearTimeout(rotator) \n                scrubber_handle.stop(true, true)   \n            }\n        }\n        \n        function handle_image_out(e, elem) {\n            if(pauseOnHover === true && play_pause.attr('class') === 'pause') {   \n                image_cycle() \n            }\n        }\n        \n        function handle_control_click(e, elem) {\n            e.preventDefault() \n            elem = $(elem, player) \n            // try if we can use \"hasClass\"\n            if(elem.attr('class') == 'pause') { // it's playing (then pause)\n                elem.attr('class', 'play') \n                clearTimeout(rotator) \n                scrubber_handle.stop(true, false) \n                scrubber_handle.css('left', last_frame_scrubber_pos + 'px') \n                i-- \n            } else { // paused (we have to resume playback)\n                image_cycle() \n                elem.attr('class', 'pause') \n            }\n        }\n\n\t\t  // TODO: prev/next/start/end have a lot in common\n\n        function handle_prev_click(e, elem) {\n            e.preventDefault() \n            elem = $(elem, player) \n            clearTimeout(rotator) \n            scrubber_handle.stop(true, false) \n\t\t\ti = (i - 1 < 0) ? 0 : i - 1 \n            scrubber_handle.css('left', inc*i + 'px') \n            if(play_pause.attr('class') === 'pause') { // was playing\n                image_cycle() \n            } else {\n                set_image(images[i]) \n            }\n        }\n\n        function handle_next_click(e, elem) {\n            e.preventDefault() \n            elem = $(elem, player) \n            clearTimeout(rotator) \n            scrubber_handle.stop(true, false) \n\t\t\ti = (i + 1 > images.length - 1) ? images.length - 1 : i + 1 \n            scrubber_handle.css('left', inc*i + 'px') \n            if(play_pause.attr('class') === 'pause') { // was playing\n                image_cycle() \n            } else {\n                set_image(images[i]) \n            }\n        }\n  \n        function handle_start_click(e, elem) {\n            e.preventDefault() \n            elem = $(elem, player) \n            clearTimeout(rotator) \n            scrubber_handle.stop(true, false) \n            i = 0 \n            scrubber_handle.css('left', '0px') \n            if(play_pause.attr('class') === 'pause') { // was playing\n                image_cycle() \n            } else {\n                set_image(images[i]) \n            }\n        }\n        \n        function handle_end_click(e, elem) {\n            e.preventDefault() \n            elem = $(elem, player) \n            clearTimeout(rotator) \n            scrubber_handle.stop(true, false) \n            i = images.length - 1 \n            scrubber_handle.css('left', i*inc + 'px') \n            if(play_pause.attr('class') === 'pause') { // was playing\n                image_cycle() \n            } else {\n                set_image(images[i]) \n            }\n        }\n        \n        function handle_fullscreen_click(e, elem) {\n            e.preventDefault() \n            if(!player.hasClass('full')) {\n                full = true \n                pauseOnHover = false  // while we are in fullscreen\n                // enter fullscreen\n                player.addClass('full') \n                player.css('width', $(window).innerWidth() + 'px') \n                player.css('height', ($(window).innerHeight()) + 'px') \n                stage.css('width', $(window).innerWidth() + 'px') \n                stage.css('height', ($(window).innerHeight() - 40) + 'px') \n                image.attr('width', $(window).innerWidth()) \n                image.attr('height', $(window).innerHeight() - 40) \n                $(player).siblings().filter(':visible').addClass('invisibleimageplayer') \n            } else {\n                full = false \n                pauseOnHover = settings.pauseOnHover  // restore\n                // exit fullscreen\n                player.removeClass('full') \n                player.css({\n                    width:settings.stageWidth + 'px',\n                    height:settings.stageHeight + 40 + 'px'\n                }) \n                stage.css({\n                    width:settings.stageWidth + 'px',\n                    height:settings.stageHeight + 'px'\n                }) \n                image.attr('width', settings.stageWidth) \n                image.attr('height', settings.stageHeight) \n                $(player).siblings().removeClass('invisibleimageplayer') \n                $('body').scrollTop(player.offset().top) \n            } \n        }\n        \n        function handle_scrubber_click(e, elem) {\n            var pos, x_coord, delta_p, delta_n \n            e.preventDefault() \n            elem = $(elem, player) \n            clearTimeout(rotator) \n            scrubber_handle.stop(true, false) \n            pos = elem.offset() \n            x_coord = Math.ceil(e.pageX - pos.left) \n            i = Math.floor(x_coord / inc) \n            delta_p = Math.abs(inc*i - x_coord) \n            delta_n = Math.abs(inc*(i+1) - x_coord) \n\t\t\tif(i < images.length) {\n               if(delta_p <= delta_n) {\n                \tscrubber_handle.css('left', (x_coord - delta_p) + 'px') \n            \t} else {\n                \tscrubber_handle.css('left', (x_coord + delta_n) + 'px') \n                \tif(i < images.length - 1) i++ \n            \t}\n            \tif(play_pause.attr('class') === 'pause') { // was playing\n                \timage_cycle() \n            \t} else {\n                \tset_image(images[i]) \n            \t}\n\t\t\t}\n        }\n        \n    } \n    \n    $.imagePlayer.settings = {\n        stageWidth:400,\n        stageHeight:300,\n        autoStart:false,\n        pauseOnHover:true,\n        delay:1,\n        loop:true,\n        captions: null\n    } \n    \n})(jQuery) \n"]}]}