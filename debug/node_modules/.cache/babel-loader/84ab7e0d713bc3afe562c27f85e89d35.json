{"remainingRequest":"/Users/alex/kaso-agri/node_modules/babel-loader/lib/index.js!/Users/alex/kaso-agri/node_modules/eslint-loader/index.js??ref--13-0!/Users/alex/kaso-agri/public/static/datePicker/js/bootstrap-datetimepicker.js","dependencies":[{"path":"/Users/alex/kaso-agri/public/static/datePicker/js/bootstrap-datetimepicker.js","mtime":1551956106000},{"path":"/Users/alex/kaso-agri/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/alex/kaso-agri/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/alex/kaso-agri/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.constructor\";\nimport \"core-js/modules/es6.array.fill\";\nimport \"core-js/modules/es6.regexp.replace\";\nimport \"core-js/modules/es6.array.find\";\nimport \"core-js/modules/es6.regexp.match\";\nimport \"core-js/modules/es6.regexp.split\";\nimport \"core-js/modules/es6.regexp.to-string\";\nimport _typeof from \"/Users/alex/kaso-agri/node_modules/@babel/runtime/helpers/esm/typeof\";\n\n/* =========================================================\r\n * bootstrap-datetimepicker.js\r\n * =========================================================\r\n * Copyright 2012 Stefan Petre\r\n *\r\n * Improvements by Andrew Rowls\r\n * Improvements by SÃ©bastien Malot\r\n * Improvements by Yun Lai\r\n * Improvements by Kenneth Henderick\r\n * Improvements by CuGBabyBeaR\r\n * Improvements by Christian Vaas <auspex@auspex.eu>\r\n *\r\n * Project URL : http://www.malot.fr/bootstrap-datetimepicker\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n * http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n * ========================================================= */\n(function (factory) {\n  if (typeof define === 'function' && define.amd) define(['jquery'], factory);else if ((typeof exports === \"undefined\" ? \"undefined\" : _typeof(exports)) === 'object') factory(require('jquery'));else factory(jQuery);\n})(function ($, undefined) {\n  // Add ECMA262-5 Array methods if not supported natively (IE8)\n  if (!('indexOf' in Array.prototype)) {\n    Array.prototype.indexOf = function (find, i) {\n      if (i === undefined) i = 0;\n      if (i < 0) i += this.length;\n      if (i < 0) i = 0;\n\n      for (var n = this.length; i < n; i++) {\n        if (i in this && this[i] === find) {\n          return i;\n        }\n      }\n\n      return -1;\n    };\n  } // Add timezone abbreviation support for ie6+, Chrome, Firefox\n\n\n  function timeZoneAbbreviation() {\n    var abbreviation, date, formattedStr, i, len, matchedStrings, ref, str;\n    date = new Date().toString();\n    formattedStr = ((ref = date.split('(')[1]) != null ? ref.slice(0, -1) : 0) || date.split(' ');\n\n    if (formattedStr instanceof Array) {\n      matchedStrings = [];\n\n      for (var i = 0, len = formattedStr.length; i < len; i++) {\n        str = formattedStr[i];\n\n        if ((abbreviation = (ref = str.match(/\\b[A-Z]+\\b/)) !== null) ? ref[0] : 0) {\n          matchedStrings.push(abbreviation);\n        }\n      }\n\n      formattedStr = matchedStrings.pop();\n    }\n\n    return formattedStr;\n  }\n\n  function UTCDate() {\n    return new Date(Date.UTC.apply(Date, arguments));\n  } // Picker object\n\n\n  var Datetimepicker = function Datetimepicker(element, options) {\n    var that = this;\n    this.element = $(element); // add container for single page application\n    // when page switch the datetimepicker div will be removed also.\n\n    this.container = options.container || 'body';\n    this.language = options.language || this.element.data('date-language') || 'en';\n    this.language = this.language in dates ? this.language : this.language.split('-')[0]; // fr-CA fallback to fr\n\n    this.language = this.language in dates ? this.language : 'en';\n    this.isRTL = dates[this.language].rtl || false;\n    this.formatType = options.formatType || this.element.data('format-type') || 'standard';\n    this.format = DPGlobal.parseFormat(options.format || this.element.data('date-format') || dates[this.language].format || DPGlobal.getDefaultFormat(this.formatType, 'input'), this.formatType);\n    this.isInline = false;\n    this.isVisible = false;\n    this.isInput = this.element.is('input');\n    this.fontAwesome = options.fontAwesome || this.element.data('font-awesome') || false;\n    this.bootcssVer = options.bootcssVer || (this.isInput ? this.element.is('.form-control') ? 3 : 2 : this.bootcssVer = this.element.is('.input-group') ? 3 : 2);\n    this.component = this.element.is('.date') ? this.bootcssVer === 3 ? this.element.find('.input-group-addon .glyphicon-th, .input-group-addon .glyphicon-time, .input-group-addon .glyphicon-remove, .input-group-addon .glyphicon-calendar, .input-group-addon .fa-calendar, .input-group-addon .fa-clock-o').parent() : this.element.find('.add-on .icon-th, .add-on .icon-time, .add-on .icon-calendar, .add-on .fa-calendar, .add-on .fa-clock-o').parent() : false;\n    this.componentReset = this.element.is('.date') ? this.bootcssVer === 3 ? this.element.find('.input-group-addon .glyphicon-remove, .input-group-addon .fa-times').parent() : this.element.find('.add-on .icon-remove, .add-on .fa-times').parent() : false;\n    this.hasInput = this.component && this.element.find('input').length;\n\n    if (this.component && this.component.length === 0) {\n      this.component = false;\n    }\n\n    this.linkField = options.linkField || this.element.data('link-field') || false;\n    this.linkFormat = DPGlobal.parseFormat(options.linkFormat || this.element.data('link-format') || DPGlobal.getDefaultFormat(this.formatType, 'link'), this.formatType);\n    this.minuteStep = options.minuteStep || this.element.data('minute-step') || 5;\n    this.pickerPosition = options.pickerPosition || this.element.data('picker-position') || 'bottom-right';\n    this.showMeridian = options.showMeridian || this.element.data('show-meridian') || false;\n    this.initialDate = options.initialDate || new Date();\n    this.zIndex = options.zIndex || this.element.data('z-index') || undefined;\n    this.title = typeof options.title === 'undefined' ? false : options.title;\n    this.timezone = options.timezone || timeZoneAbbreviation();\n    this.icons = {\n      leftArrow: this.fontAwesome ? 'fa-arrow-left' : this.bootcssVer === 3 ? 'glyphicon-arrow-left' : 'icon-arrow-left',\n      rightArrow: this.fontAwesome ? 'fa-arrow-right' : this.bootcssVer === 3 ? 'glyphicon-arrow-right' : 'icon-arrow-right'\n    };\n    this.icontype = this.fontAwesome ? 'fa' : 'glyphicon';\n\n    this._attachEvents();\n\n    this.clickedOutside = function (e) {\n      // Clicked outside the datetimepicker, hide it\n      if ($(e.target).closest('.datetimepicker').length === 0) {\n        that.hide();\n      }\n    };\n\n    this.formatViewType = 'datetime';\n\n    if ('formatViewType' in options) {\n      this.formatViewType = options.formatViewType;\n    } else if ('formatViewType' in this.element.data()) {\n      this.formatViewType = this.element.data('formatViewType');\n    }\n\n    this.minView = 0;\n\n    if ('minView' in options) {\n      this.minView = options.minView;\n    } else if ('minView' in this.element.data()) {\n      this.minView = this.element.data('min-view');\n    }\n\n    this.minView = DPGlobal.convertViewMode(this.minView);\n    this.maxView = DPGlobal.modes.length - 1;\n\n    if ('maxView' in options) {\n      this.maxView = options.maxView;\n    } else if ('maxView' in this.element.data()) {\n      this.maxView = this.element.data('max-view');\n    }\n\n    this.maxView = DPGlobal.convertViewMode(this.maxView);\n    this.wheelViewModeNavigation = false;\n\n    if ('wheelViewModeNavigation' in options) {\n      this.wheelViewModeNavigation = options.wheelViewModeNavigation;\n    } else if ('wheelViewModeNavigation' in this.element.data()) {\n      this.wheelViewModeNavigation = this.element.data('view-mode-wheel-navigation');\n    }\n\n    this.wheelViewModeNavigationInverseDirection = false;\n\n    if ('wheelViewModeNavigationInverseDirection' in options) {\n      this.wheelViewModeNavigationInverseDirection = options.wheelViewModeNavigationInverseDirection;\n    } else if ('wheelViewModeNavigationInverseDirection' in this.element.data()) {\n      this.wheelViewModeNavigationInverseDirection = this.element.data('view-mode-wheel-navigation-inverse-dir');\n    }\n\n    this.wheelViewModeNavigationDelay = 100;\n\n    if ('wheelViewModeNavigationDelay' in options) {\n      this.wheelViewModeNavigationDelay = options.wheelViewModeNavigationDelay;\n    } else if ('wheelViewModeNavigationDelay' in this.element.data()) {\n      this.wheelViewModeNavigationDelay = this.element.data('view-mode-wheel-navigation-delay');\n    }\n\n    this.startViewMode = 2;\n\n    if ('startView' in options) {\n      this.startViewMode = options.startView;\n    } else if ('startView' in this.element.data()) {\n      this.startViewMode = this.element.data('start-view');\n    }\n\n    this.startViewMode = DPGlobal.convertViewMode(this.startViewMode);\n    this.viewMode = this.startViewMode;\n    this.viewSelect = this.minView;\n\n    if ('viewSelect' in options) {\n      this.viewSelect = options.viewSelect;\n    } else if ('viewSelect' in this.element.data()) {\n      this.viewSelect = this.element.data('view-select');\n    }\n\n    this.viewSelect = DPGlobal.convertViewMode(this.viewSelect);\n    this.forceParse = true;\n\n    if ('forceParse' in options) {\n      this.forceParse = options.forceParse;\n    } else if ('dateForceParse' in this.element.data()) {\n      this.forceParse = this.element.data('date-force-parse');\n    }\n\n    var template = this.bootcssVer === 3 ? DPGlobal.templateV3 : DPGlobal.template;\n\n    while (template.indexOf('{iconType}') !== -1) {\n      template = template.replace('{iconType}', this.icontype);\n    }\n\n    while (template.indexOf('{leftArrow}') !== -1) {\n      template = template.replace('{leftArrow}', this.icons.leftArrow);\n    }\n\n    while (template.indexOf('{rightArrow}') !== -1) {\n      template = template.replace('{rightArrow}', this.icons.rightArrow);\n    }\n\n    this.picker = $(template).appendTo(this.isInline ? this.element : this.container) // 'body')\n    .on({\n      click: $.proxy(this.click, this),\n      mousedown: $.proxy(this.mousedown, this)\n    });\n\n    if (this.wheelViewModeNavigation) {\n      if ($.fn.mousewheel) {\n        this.picker.on({\n          mousewheel: $.proxy(this.mousewheel, this)\n        });\n      } else {\n        console.log('Mouse Wheel event is not supported. Please include the jQuery Mouse Wheel plugin before enabling this option');\n      }\n    }\n\n    if (this.isInline) {\n      this.picker.addClass('datetimepicker-inline');\n    } else {\n      this.picker.addClass('datetimepicker-dropdown-' + this.pickerPosition + ' dropdown-menu');\n    }\n\n    if (this.isRTL) {\n      this.picker.addClass('datetimepicker-rtl');\n      var selector = this.bootcssVer === 3 ? '.prev span, .next span' : '.prev i, .next i';\n      this.picker.find(selector).toggleClass(this.icons.leftArrow + ' ' + this.icons.rightArrow);\n    }\n\n    $(document).on('mousedown touchend', this.clickedOutside);\n    this.autoclose = false;\n\n    if ('autoclose' in options) {\n      this.autoclose = options.autoclose;\n    } else if ('dateAutoclose' in this.element.data()) {\n      this.autoclose = this.element.data('date-autoclose');\n    }\n\n    this.keyboardNavigation = true;\n\n    if ('keyboardNavigation' in options) {\n      this.keyboardNavigation = options.keyboardNavigation;\n    } else if ('dateKeyboardNavigation' in this.element.data()) {\n      this.keyboardNavigation = this.element.data('date-keyboard-navigation');\n    }\n\n    this.todayBtn = options.todayBtn || this.element.data('date-today-btn') || false;\n    this.clearBtn = options.clearBtn || this.element.data('date-clear-btn') || false;\n    this.todayHighlight = options.todayHighlight || this.element.data('date-today-highlight') || false;\n    this.weekStart = 0;\n\n    if (typeof options.weekStart !== 'undefined') {\n      this.weekStart = options.weekStart;\n    } else if (typeof this.element.data('date-weekstart') !== 'undefined') {\n      this.weekStart = this.element.data('date-weekstart');\n    } else if (typeof dates[this.language].weekStart !== 'undefined') {\n      this.weekStart = dates[this.language].weekStart;\n    }\n\n    this.weekStart = this.weekStart % 7;\n    this.weekEnd = (this.weekStart + 6) % 7;\n\n    this.onRenderDay = function (date) {\n      var render = (options.onRenderDay || function () {\n        return [];\n      })(date);\n\n      if (typeof render === 'string') {\n        render = [render];\n      }\n\n      var res = ['day'];\n      return res.concat(render ? render : []);\n    };\n\n    this.onRenderHour = function (date) {\n      var render = (options.onRenderHour || function () {\n        return [];\n      })(date);\n\n      var res = ['hour'];\n\n      if (typeof render === 'string') {\n        render = [render];\n      }\n\n      return res.concat(render ? render : []);\n    };\n\n    this.onRenderMinute = function (date) {\n      var render = (options.onRenderMinute || function () {\n        return [];\n      })(date);\n\n      var res = ['minute'];\n\n      if (typeof render === 'string') {\n        render = [render];\n      }\n\n      if (date < this.startDate || date > this.endDate) {\n        res.push('disabled');\n      } else if (Math.floor(this.date.getUTCMinutes() / this.minuteStep) === Math.floor(date.getUTCMinutes() / this.minuteStep)) {\n        res.push('active');\n      }\n\n      return res.concat(render ? render : []);\n    };\n\n    this.onRenderYear = function (date) {\n      var render = (options.onRenderYear || function () {\n        return [];\n      })(date);\n\n      var res = ['year'];\n\n      if (typeof render === 'string') {\n        render = [render];\n      }\n\n      if (this.date.getUTCFullYear() === date.getUTCFullYear()) {\n        res.push('active');\n      }\n\n      var currentYear = date.getUTCFullYear();\n      var endYear = this.endDate.getUTCFullYear();\n\n      if (date < this.startDate || currentYear > endYear) {\n        res.push('disabled');\n      }\n\n      return res.concat(render ? render : []);\n    };\n\n    this.onRenderMonth = function (date) {\n      var render = (options.onRenderMonth || function () {\n        return [];\n      })(date);\n\n      var res = ['month'];\n\n      if (typeof render === 'string') {\n        render = [render];\n      }\n\n      return res.concat(render ? render : []);\n    };\n\n    this.startDate = new Date(-8639968443048000);\n    this.endDate = new Date(8639968443048000);\n    this.datesDisabled = [];\n    this.daysOfWeekDisabled = [];\n    this.setStartDate(options.startDate || this.element.data('date-startdate'));\n    this.setEndDate(options.endDate || this.element.data('date-enddate'));\n    this.setDatesDisabled(options.datesDisabled || this.element.data('date-dates-disabled'));\n    this.setDaysOfWeekDisabled(options.daysOfWeekDisabled || this.element.data('date-days-of-week-disabled'));\n    this.setMinutesDisabled(options.minutesDisabled || this.element.data('date-minute-disabled'));\n    this.setHoursDisabled(options.hoursDisabled || this.element.data('date-hour-disabled'));\n    this.fillDow();\n    this.fillMonths();\n    this.update();\n    this.showMode();\n\n    if (this.isInline) {\n      this.show();\n    }\n  };\n\n  Datetimepicker.prototype = {\n    constructor: Datetimepicker,\n    _events: [],\n    _attachEvents: function _attachEvents() {\n      this._detachEvents();\n\n      if (this.isInput) {\n        // single input\n        this._events = [[this.element, {\n          focus: $.proxy(this.show, this),\n          keyup: $.proxy(this.update, this),\n          keydown: $.proxy(this.keydown, this)\n        }]];\n      } else if (this.component && this.hasInput) {\n        // component: input + button\n        this._events = [// For components that are not readonly, allow keyboard nav\n        [this.element.find('input'), {\n          focus: $.proxy(this.show, this),\n          keyup: $.proxy(this.update, this),\n          keydown: $.proxy(this.keydown, this)\n        }], [this.component, {\n          click: $.proxy(this.show, this)\n        }]];\n\n        if (this.componentReset) {\n          this._events.push([this.componentReset, {\n            click: $.proxy(this.reset, this)\n          }]);\n        }\n      } else if (this.element.is('div')) {\n        // inline datetimepicker\n        this.isInline = true;\n      } else {\n        this._events = [[this.element, {\n          click: $.proxy(this.show, this)\n        }]];\n      }\n\n      for (var i = 0, el, ev; i < this._events.length; i++) {\n        el = this._events[i][0];\n        ev = this._events[i][1];\n        el.on(ev);\n      }\n    },\n    _detachEvents: function _detachEvents() {\n      for (var i = 0, el, ev; i < this._events.length; i++) {\n        el = this._events[i][0];\n        ev = this._events[i][1];\n        el.off(ev);\n      }\n\n      this._events = [];\n    },\n    show: function show(e) {\n      this.picker.show();\n      this.height = this.component ? this.component.outerHeight() : this.element.outerHeight();\n\n      if (this.forceParse) {\n        this.update();\n      }\n\n      this.place();\n      $(window).on('resize', $.proxy(this.place, this));\n\n      if (e) {\n        e.stopPropagation();\n        e.preventDefault();\n      }\n\n      this.isVisible = true;\n      this.element.trigger({\n        type: 'show',\n        date: this.date\n      });\n    },\n    hide: function hide() {\n      if (!this.isVisible) return;\n      if (this.isInline) return;\n      this.picker.hide();\n      $(window).off('resize', this.place);\n      this.viewMode = this.startViewMode;\n      this.showMode();\n\n      if (!this.isInput) {\n        $(document).off('mousedown', this.hide);\n      }\n\n      if (this.forceParse && (this.isInput && this.element.val() || this.hasInput && this.element.find('input').val())) this.setValue();\n      this.isVisible = false;\n      this.element.trigger({\n        type: 'hide',\n        date: this.date\n      });\n    },\n    remove: function remove() {\n      this._detachEvents();\n\n      $(document).off('mousedown', this.clickedOutside);\n      this.picker.remove();\n      delete this.picker;\n      delete this.element.data().datetimepicker;\n    },\n    getDate: function getDate() {\n      var d = this.getUTCDate();\n\n      if (d === null) {\n        return null;\n      }\n\n      return new Date(d.getTime() + d.getTimezoneOffset() * 60000);\n    },\n    getUTCDate: function getUTCDate() {\n      return this.date;\n    },\n    getInitialDate: function getInitialDate() {\n      return this.initialDate;\n    },\n    setInitialDate: function setInitialDate(initialDate) {\n      this.initialDate = initialDate;\n    },\n    setDate: function setDate(d) {\n      this.setUTCDate(new Date(d.getTime() - d.getTimezoneOffset() * 60000));\n    },\n    setUTCDate: function setUTCDate(d) {\n      if (d >= this.startDate && d <= this.endDate) {\n        this.date = d;\n        this.setValue();\n        this.viewDate = this.date;\n        this.fill();\n      } else {\n        this.element.trigger({\n          type: 'outOfRange',\n          date: d,\n          startDate: this.startDate,\n          endDate: this.endDate\n        });\n      }\n    },\n    setFormat: function setFormat(format) {\n      this.format = DPGlobal.parseFormat(format, this.formatType);\n      var element;\n\n      if (this.isInput) {\n        element = this.element;\n      } else if (this.component) {\n        element = this.element.find('input');\n      }\n\n      if (element && element.val()) {\n        this.setValue();\n      }\n    },\n    setValue: function setValue() {\n      var formatted = this.getFormattedDate();\n\n      if (!this.isInput) {\n        if (this.component) {\n          this.element.find('input').val(formatted);\n        }\n\n        this.element.data('date', formatted);\n      } else {\n        this.element.val(formatted);\n      }\n\n      if (this.linkField) {\n        $('#' + this.linkField).val(this.getFormattedDate(this.linkFormat));\n      }\n    },\n    getFormattedDate: function getFormattedDate(format) {\n      format = format || this.format;\n      return DPGlobal.formatDate(this.date, format, this.language, this.formatType, this.timezone);\n    },\n    setStartDate: function setStartDate(startDate) {\n      this.startDate = startDate || this.startDate;\n\n      if (this.startDate.valueOf() !== 8639968443048000) {\n        this.startDate = DPGlobal.parseDate(this.startDate, this.format, this.language, this.formatType, this.timezone);\n      }\n\n      this.update();\n      this.updateNavArrows();\n    },\n    setEndDate: function setEndDate(endDate) {\n      this.endDate = endDate || this.endDate;\n\n      if (this.endDate.valueOf() !== 8639968443048000) {\n        this.endDate = DPGlobal.parseDate(this.endDate, this.format, this.language, this.formatType, this.timezone);\n      }\n\n      this.update();\n      this.updateNavArrows();\n    },\n    setDatesDisabled: function setDatesDisabled(datesDisabled) {\n      this.datesDisabled = datesDisabled || [];\n\n      if (!$.isArray(this.datesDisabled)) {\n        this.datesDisabled = this.datesDisabled.split(/,\\s*/);\n      }\n\n      var mThis = this;\n      this.datesDisabled = $.map(this.datesDisabled, function (d) {\n        return DPGlobal.parseDate(d, mThis.format, mThis.language, mThis.formatType, mThis.timezone).toDateString();\n      });\n      this.update();\n      this.updateNavArrows();\n    },\n    setTitle: function setTitle(selector, value) {\n      return this.picker.find(selector).find('th:eq(1)').text(this.title === false ? value : this.title);\n    },\n    setDaysOfWeekDisabled: function setDaysOfWeekDisabled(daysOfWeekDisabled) {\n      this.daysOfWeekDisabled = daysOfWeekDisabled || [];\n\n      if (!$.isArray(this.daysOfWeekDisabled)) {\n        this.daysOfWeekDisabled = this.daysOfWeekDisabled.split(/,\\s*/);\n      }\n\n      this.daysOfWeekDisabled = $.map(this.daysOfWeekDisabled, function (d) {\n        return parseInt(d, 10);\n      });\n      this.update();\n      this.updateNavArrows();\n    },\n    setMinutesDisabled: function setMinutesDisabled(minutesDisabled) {\n      this.minutesDisabled = minutesDisabled || [];\n\n      if (!$.isArray(this.minutesDisabled)) {\n        this.minutesDisabled = this.minutesDisabled.split(/,\\s*/);\n      }\n\n      this.minutesDisabled = $.map(this.minutesDisabled, function (d) {\n        return parseInt(d, 10);\n      });\n      this.update();\n      this.updateNavArrows();\n    },\n    setHoursDisabled: function setHoursDisabled(hoursDisabled) {\n      this.hoursDisabled = hoursDisabled || [];\n\n      if (!$.isArray(this.hoursDisabled)) {\n        this.hoursDisabled = this.hoursDisabled.split(/,\\s*/);\n      }\n\n      this.hoursDisabled = $.map(this.hoursDisabled, function (d) {\n        return parseInt(d, 10);\n      });\n      this.update();\n      this.updateNavArrows();\n    },\n    place: function place() {\n      if (this.isInline) return;\n\n      if (!this.zIndex) {\n        var index_highest = 0;\n        $('div').each(function () {\n          var index_current = parseInt($(this).css('zIndex'), 10);\n\n          if (index_current > index_highest) {\n            index_highest = index_current;\n          }\n        });\n        this.zIndex = index_highest + 10;\n      }\n\n      var offset, top, left, containerOffset;\n\n      if (this.container instanceof $) {\n        containerOffset = this.container.offset();\n      } else {\n        containerOffset = $(this.container).offset();\n      }\n\n      if (this.component) {\n        offset = this.component.offset();\n        left = offset.left;\n\n        if (this.pickerPosition === 'bottom-left' || this.pickerPosition === 'top-left') {\n          left += this.component.outerWidth() - this.picker.outerWidth();\n        }\n      } else {\n        offset = this.element.offset();\n        left = offset.left;\n\n        if (this.pickerPosition === 'bottom-left' || this.pickerPosition === 'top-left') {\n          left += this.element.outerWidth() - this.picker.outerWidth();\n        }\n      }\n\n      var bodyWidth = document.body.clientWidth || window.innerWidth;\n\n      if (left + 220 > bodyWidth) {\n        left = bodyWidth - 220;\n      }\n\n      if (this.pickerPosition === 'top-left' || this.pickerPosition === 'top-right') {\n        top = offset.top - this.picker.outerHeight();\n      } else {\n        top = offset.top + this.height;\n      }\n\n      top = top - containerOffset.top;\n      left = left - containerOffset.left;\n      this.picker.css({\n        top: top,\n        left: left,\n        zIndex: this.zIndex\n      });\n    },\n    hour_minute: \"^([0-9]|0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]\",\n    update: function update() {\n      var date,\n          fromArgs = false;\n\n      if (arguments && arguments.length && (typeof arguments[0] === 'string' || arguments[0] instanceof Date)) {\n        date = arguments[0];\n        fromArgs = true;\n      } else {\n        date = (this.isInput ? this.element.val() : this.element.find('input').val()) || this.element.data('date') || this.initialDate;\n\n        if (typeof date === 'string') {\n          date = date.replace(/^\\s+|\\s+$/g, '');\n        }\n      }\n\n      if (!date) {\n        date = new Date();\n        fromArgs = false;\n      }\n\n      if (typeof date === \"string\") {\n        if (new RegExp(this.hour_minute).test(date) || new RegExp(this.hour_minute + \":[0-5][0-9]\").test(date)) {\n          date = this.getDate();\n        }\n      }\n\n      this.date = DPGlobal.parseDate(date, this.format, this.language, this.formatType, this.timezone);\n      if (fromArgs) this.setValue();\n\n      if (this.date < this.startDate) {\n        this.viewDate = new Date(this.startDate);\n      } else if (this.date > this.endDate) {\n        this.viewDate = new Date(this.endDate);\n      } else {\n        this.viewDate = new Date(this.date);\n      }\n\n      this.fill();\n    },\n    fillDow: function fillDow() {\n      var dowCnt = this.weekStart,\n          html = '<tr>';\n\n      while (dowCnt < this.weekStart + 7) {\n        html += '<th class=\"dow\">' + dates[this.language].daysMin[dowCnt++ % 7] + '</th>';\n      }\n\n      html += '</tr>';\n      this.picker.find('.datetimepicker-days thead').append(html);\n    },\n    fillMonths: function fillMonths() {\n      var html = '';\n      var d = new Date(this.viewDate);\n\n      for (var i = 0; i < 12; i++) {\n        d.setUTCMonth(i);\n        var classes = this.onRenderMonth(d);\n        html += '<span class=\"' + classes.join(' ') + '\">' + dates[this.language].monthsShort[i] + '</span>';\n      }\n\n      this.picker.find('.datetimepicker-months td').html(html);\n    },\n    fill: function fill() {\n      if (!this.date || !this.viewDate) {\n        return;\n      }\n\n      var d = new Date(this.viewDate),\n          year = d.getUTCFullYear(),\n          month = d.getUTCMonth(),\n          dayMonth = d.getUTCDate(),\n          hours = d.getUTCHours(),\n          startYear = this.startDate.getUTCFullYear(),\n          startMonth = this.startDate.getUTCMonth(),\n          endYear = this.endDate.getUTCFullYear(),\n          endMonth = this.endDate.getUTCMonth() + 1,\n          currentDate = new UTCDate(this.date.getUTCFullYear(), this.date.getUTCMonth(), this.date.getUTCDate()).valueOf(),\n          today = new Date();\n      this.setTitle('.datetimepicker-days', year + 'å¹´ ' + dates[this.language].months[month] + 'æ ');\n\n      if (this.formatViewType === 'time') {\n        var formatted = this.getFormattedDate();\n        this.setTitle('.datetimepicker-hours', formatted);\n        this.setTitle('.datetimepicker-minutes', formatted);\n      } else {\n        this.setTitle('.datetimepicker-hours', year + 'å¹´ ' + dates[this.language].months[month] + 'æ ' + dayMonth + 'æ¥ ');\n        this.setTitle('.datetimepicker-minutes', year + 'å¹´ ' + dates[this.language].months[month] + 'æ ' + dayMonth + 'æ¥ ');\n      }\n\n      this.picker.find('tfoot th.today').text(dates[this.language].today || dates['en'].today).toggle(this.todayBtn !== false);\n      this.picker.find('tfoot th.clear').text(dates[this.language].clear || dates['en'].clear).toggle(this.clearBtn !== false);\n      this.updateNavArrows();\n      this.fillMonths();\n      var prevMonth = UTCDate(year, month - 1, 28, 0, 0, 0, 0),\n          day = DPGlobal.getDaysInMonth(prevMonth.getUTCFullYear(), prevMonth.getUTCMonth());\n      prevMonth.setUTCDate(day);\n      prevMonth.setUTCDate(day - (prevMonth.getUTCDay() - this.weekStart + 7) % 7);\n      var nextMonth = new Date(prevMonth);\n      nextMonth.setUTCDate(nextMonth.getUTCDate() + 42);\n      nextMonth = nextMonth.valueOf();\n      var html = [];\n      var classes;\n\n      while (prevMonth.valueOf() < nextMonth) {\n        if (prevMonth.getUTCDay() === this.weekStart) {\n          html.push('<tr>');\n        }\n\n        classes = this.onRenderDay(prevMonth);\n\n        if (prevMonth.getUTCFullYear() < year || prevMonth.getUTCFullYear() === year && prevMonth.getUTCMonth() < month) {\n          classes.push('old');\n        } else if (prevMonth.getUTCFullYear() > year || prevMonth.getUTCFullYear() === year && prevMonth.getUTCMonth() > month) {\n          classes.push('new');\n        } // Compare internal UTC date with local today, not UTC today\n\n\n        if (this.todayHighlight && prevMonth.getUTCFullYear() === today.getFullYear() && prevMonth.getUTCMonth() === today.getMonth() && prevMonth.getUTCDate() === today.getDate()) {\n          classes.push('today');\n        }\n\n        if (prevMonth.valueOf() === currentDate) {\n          classes.push('active');\n        }\n\n        if (prevMonth.valueOf() + 86400000 <= this.startDate || prevMonth.valueOf() > this.endDate || $.inArray(prevMonth.getUTCDay(), this.daysOfWeekDisabled) !== -1 || $.inArray(prevMonth.toDateString(), this.datesDisabled) !== -1) {\n          classes.push('disabled');\n        }\n\n        html.push('<td class=\"' + classes.join(' ') + '\">' + prevMonth.getUTCDate() + '</td>');\n\n        if (prevMonth.getUTCDay() === this.weekEnd) {\n          html.push('</tr>');\n        }\n\n        prevMonth.setUTCDate(prevMonth.getUTCDate() + 1);\n      }\n\n      this.picker.find('.datetimepicker-days tbody').empty().append(html.join(''));\n      html = [];\n      var txt = '',\n          meridian = '',\n          meridianOld = '';\n      var hoursDisabled = this.hoursDisabled || [];\n      d = new Date(this.viewDate);\n\n      for (var i = 0; i < 24; i++) {\n        d.setUTCHours(i);\n        classes = this.onRenderHour(d);\n\n        if (hoursDisabled.indexOf(i) !== -1) {\n          classes.push('disabled');\n        }\n\n        var actual = UTCDate(year, month, dayMonth, i); // We want the previous hour for the startDate\n\n        if (actual.valueOf() + 3600000 <= this.startDate || actual.valueOf() > this.endDate) {\n          classes.push('disabled');\n        } else if (hours === i) {\n          classes.push('active');\n        }\n\n        if (this.showMeridian && dates[this.language].meridiem.length === 2) {\n          meridian = i < 12 ? dates[this.language].meridiem[0] : dates[this.language].meridiem[1];\n\n          if (meridian !== meridianOld) {\n            if (meridianOld !== '') {\n              html.push('</fieldset>');\n            }\n\n            html.push('<fieldset class=\"hour\"><legend>' + meridian.toUpperCase() + '</legend>');\n          }\n\n          meridianOld = meridian;\n          txt = i % 12 ? i % 12 : 12;\n\n          if (i < 12) {\n            classes.push('hour_am');\n          } else {\n            classes.push('hour_pm');\n          }\n\n          html.push('<span class=\"' + classes.join(' ') + '\">' + txt + '</span>');\n\n          if (i === 23) {\n            html.push('</fieldset>');\n          }\n        } else {\n          txt = i + ':00';\n          html.push('<span class=\"' + classes.join(' ') + '\">' + txt + '</span>');\n        }\n      }\n\n      this.picker.find('.datetimepicker-hours td').html(html.join(''));\n      html = [];\n      txt = '';\n      meridian = '';\n      meridianOld = '';\n      var minutesDisabled = this.minutesDisabled || [];\n      d = new Date(this.viewDate);\n\n      for (var i = 0; i < 60; i += this.minuteStep) {\n        if (minutesDisabled.indexOf(i) !== -1) continue;\n        d.setUTCMinutes(i);\n        d.setUTCSeconds(0);\n        classes = this.onRenderMinute(d);\n\n        if (this.showMeridian && dates[this.language].meridiem.length === 2) {\n          meridian = hours < 12 ? dates[this.language].meridiem[0] : dates[this.language].meridiem[1];\n\n          if (meridian !== meridianOld) {\n            if (meridianOld !== '') {\n              html.push('</fieldset>');\n            }\n\n            html.push('<fieldset class=\"minute\"><legend>' + meridian.toUpperCase() + '</legend>');\n          }\n\n          meridianOld = meridian;\n          txt = hours % 12 ? hours % 12 : 12;\n          html.push('<span class=\"' + classes.join(' ') + '\">' + txt + ':' + (i < 10 ? '0' + i : i) + '</span>');\n\n          if (i === 59) {\n            html.push('</fieldset>');\n          }\n        } else {\n          txt = i + ':00';\n          html.push('<span class=\"' + classes.join(' ') + '\">' + hours + ':' + (i < 10 ? '0' + i : i) + '</span>');\n        }\n      }\n\n      this.picker.find('.datetimepicker-minutes td').html(html.join(''));\n      var currentYear = this.date.getUTCFullYear();\n      var months = this.setTitle('.datetimepicker-months', year).end().find('.month').removeClass('active');\n\n      if (currentYear === year) {\n        // getUTCMonths() returns 0 based, and we need to select the next one\n        // To cater bootstrap 2 we don't need to select the next one\n        months.eq(this.date.getUTCMonth()).addClass('active');\n      }\n\n      if (year < startYear || year > endYear) {\n        months.addClass('disabled');\n      }\n\n      if (year === startYear) {\n        months.slice(0, startMonth).addClass('disabled');\n      }\n\n      if (year === endYear) {\n        months.slice(endMonth).addClass('disabled');\n      }\n\n      html = '';\n      year = parseInt(year / 10, 10) * 10;\n      var yearCont = this.setTitle('.datetimepicker-years', year + '-' + (year + 9)).end().find('td');\n      year -= 1;\n      d = new Date(this.viewDate);\n\n      for (var i = -1; i < 11; i++) {\n        d.setUTCFullYear(year);\n        classes = this.onRenderYear(d);\n\n        if (i === -1 || i === 10) {\n          classes.push(old);\n        }\n\n        html += '<span class=\"' + classes.join(' ') + '\">' + year + '</span>';\n        year += 1;\n      }\n\n      yearCont.html(html);\n      this.place();\n    },\n    updateNavArrows: function updateNavArrows() {\n      var d = new Date(this.viewDate),\n          year = d.getUTCFullYear(),\n          month = d.getUTCMonth(),\n          day = d.getUTCDate(),\n          hour = d.getUTCHours();\n\n      switch (this.viewMode) {\n        case 0:\n          if (year <= this.startDate.getUTCFullYear() && month <= this.startDate.getUTCMonth() && day <= this.startDate.getUTCDate() && hour <= this.startDate.getUTCHours()) {\n            this.picker.find('.prev').css({\n              visibility: 'hidden'\n            });\n          } else {\n            this.picker.find('.prev').css({\n              visibility: 'visible'\n            });\n          }\n\n          if (year >= this.endDate.getUTCFullYear() && month >= this.endDate.getUTCMonth() && day >= this.endDate.getUTCDate() && hour >= this.endDate.getUTCHours()) {\n            this.picker.find('.next').css({\n              visibility: 'hidden'\n            });\n          } else {\n            this.picker.find('.next').css({\n              visibility: 'visible'\n            });\n          }\n\n          break;\n\n        case 1:\n          if (year <= this.startDate.getUTCFullYear() && month <= this.startDate.getUTCMonth() && day <= this.startDate.getUTCDate()) {\n            this.picker.find('.prev').css({\n              visibility: 'hidden'\n            });\n          } else {\n            this.picker.find('.prev').css({\n              visibility: 'visible'\n            });\n          }\n\n          if (year >= this.endDate.getUTCFullYear() && month >= this.endDate.getUTCMonth() && day >= this.endDate.getUTCDate()) {\n            this.picker.find('.next').css({\n              visibility: 'hidden'\n            });\n          } else {\n            this.picker.find('.next').css({\n              visibility: 'visible'\n            });\n          }\n\n          break;\n\n        case 2:\n          if (year <= this.startDate.getUTCFullYear() && month <= this.startDate.getUTCMonth()) {\n            this.picker.find('.prev').css({\n              visibility: 'hidden'\n            });\n          } else {\n            this.picker.find('.prev').css({\n              visibility: 'visible'\n            });\n          }\n\n          if (year >= this.endDate.getUTCFullYear() && month >= this.endDate.getUTCMonth()) {\n            this.picker.find('.next').css({\n              visibility: 'hidden'\n            });\n          } else {\n            this.picker.find('.next').css({\n              visibility: 'visible'\n            });\n          }\n\n          break;\n\n        case 3:\n        case 4:\n          if (year <= this.startDate.getUTCFullYear()) {\n            this.picker.find('.prev').css({\n              visibility: 'hidden'\n            });\n          } else {\n            this.picker.find('.prev').css({\n              visibility: 'visible'\n            });\n          }\n\n          if (year >= this.endDate.getUTCFullYear()) {\n            this.picker.find('.next').css({\n              visibility: 'hidden'\n            });\n          } else {\n            this.picker.find('.next').css({\n              visibility: 'visible'\n            });\n          }\n\n          break;\n      }\n    },\n    mousewheel: function mousewheel(e) {\n      e.preventDefault();\n      e.stopPropagation();\n\n      if (this.wheelPause) {\n        return;\n      }\n\n      this.wheelPause = true;\n      var originalEvent = e.originalEvent;\n      var delta = originalEvent.wheelDelta;\n      var mode = delta > 0 ? 1 : delta === 0 ? 0 : -1;\n\n      if (this.wheelViewModeNavigationInverseDirection) {\n        mode = -mode;\n      }\n\n      this.showMode(mode);\n      setTimeout($.proxy(function () {\n        this.wheelPause = false;\n      }, this), this.wheelViewModeNavigationDelay);\n    },\n    click: function click(e) {\n      e.stopPropagation();\n      e.preventDefault();\n      var target = $(e.target).closest('span, td, th, legend');\n\n      if (target.is('.' + this.icontype)) {\n        target = $(target).parent().closest('span, td, th, legend');\n      }\n\n      if (target.length === 1) {\n        if (target.is('.disabled')) {\n          this.element.trigger({\n            type: 'outOfRange',\n            date: this.viewDate,\n            startDate: this.startDate,\n            endDate: this.endDate\n          });\n          return;\n        }\n\n        switch (target[0].nodeName.toLowerCase()) {\n          case 'th':\n            switch (target[0].className) {\n              case 'switch':\n                this.showMode(1);\n                break;\n\n              case 'prev':\n              case 'next':\n                var dir = DPGlobal.modes[this.viewMode].navStep * (target[0].className === 'prev' ? -1 : 1);\n\n                switch (this.viewMode) {\n                  case 0:\n                    this.viewDate = this.moveHour(this.viewDate, dir);\n                    break;\n\n                  case 1:\n                    this.viewDate = this.moveDate(this.viewDate, dir);\n                    break;\n\n                  case 2:\n                    this.viewDate = this.moveMonth(this.viewDate, dir);\n                    break;\n\n                  case 3:\n                  case 4:\n                    this.viewDate = this.moveYear(this.viewDate, dir);\n                    break;\n                }\n\n                this.fill();\n                this.element.trigger({\n                  type: target[0].className + ':' + this.convertViewModeText(this.viewMode),\n                  date: this.viewDate,\n                  startDate: this.startDate,\n                  endDate: this.endDate\n                });\n                break;\n\n              case 'clear':\n                this.reset();\n\n                if (this.autoclose) {\n                  this.hide();\n                }\n\n                break;\n\n              case 'today':\n                var date = new Date();\n                date = UTCDate(date.getFullYear(), date.getMonth(), date.getDate(), date.getHours(), date.getMinutes(), date.getSeconds(), 0); // Respect startDate and endDate.\n\n                if (date < this.startDate) date = this.startDate;else if (date > this.endDate) date = this.endDate;\n                this.viewMode = this.startViewMode;\n                this.showMode(0);\n\n                this._setDate(date);\n\n                this.fill();\n\n                if (this.autoclose) {\n                  this.hide();\n                }\n\n                break;\n            }\n\n            break;\n\n          case 'span':\n            if (!target.is('.disabled')) {\n              var year = this.viewDate.getUTCFullYear(),\n                  month = this.viewDate.getUTCMonth(),\n                  day = this.viewDate.getUTCDate(),\n                  hours = this.viewDate.getUTCHours(),\n                  minutes = this.viewDate.getUTCMinutes(),\n                  seconds = this.viewDate.getUTCSeconds();\n\n              if (target.is('.month')) {\n                this.viewDate.setUTCDate(1);\n                month = target.parent().find('span').index(target);\n                day = this.viewDate.getUTCDate();\n                this.viewDate.setUTCMonth(month);\n                this.element.trigger({\n                  type: 'changeMonth',\n                  date: this.viewDate\n                });\n\n                if (this.viewSelect >= 3) {\n                  this._setDate(UTCDate(year, month, day, hours, minutes, seconds, 0));\n                }\n              } else if (target.is('.year')) {\n                this.viewDate.setUTCDate(1);\n                year = parseInt(target.text(), 10) || 0;\n                this.viewDate.setUTCFullYear(year);\n                this.element.trigger({\n                  type: 'changeYear',\n                  date: this.viewDate\n                });\n\n                if (this.viewSelect >= 4) {\n                  this._setDate(UTCDate(year, month, day, hours, minutes, seconds, 0));\n                }\n              } else if (target.is('.hour')) {\n                hours = parseInt(target.text(), 10) || 0;\n\n                if (target.hasClass('hour_am') || target.hasClass('hour_pm')) {\n                  if (hours === 12 && target.hasClass('hour_am')) {\n                    hours = 0;\n                  } else if (hours !== 12 && target.hasClass('hour_pm')) {\n                    hours += 12;\n                  }\n                }\n\n                this.viewDate.setUTCHours(hours);\n                this.element.trigger({\n                  type: 'changeHour',\n                  date: this.viewDate\n                });\n\n                if (this.viewSelect >= 1) {\n                  this._setDate(UTCDate(year, month, day, hours, minutes, seconds, 0));\n                }\n              } else if (target.is('.minute')) {\n                minutes = parseInt(target.text().substr(target.text().indexOf(':') + 1), 10) || 0;\n                this.viewDate.setUTCMinutes(minutes);\n                this.element.trigger({\n                  type: 'changeMinute',\n                  date: this.viewDate\n                });\n\n                if (this.viewSelect >= 0) {\n                  this._setDate(UTCDate(year, month, day, hours, minutes, seconds, 0));\n                }\n              }\n\n              if (this.viewMode !== 0) {\n                var oldViewMode = this.viewMode;\n                this.showMode(-1);\n                this.fill();\n\n                if (oldViewMode === this.viewMode && this.autoclose) {\n                  this.hide();\n                }\n              } else {\n                this.fill();\n\n                if (this.autoclose) {\n                  this.hide();\n                }\n              }\n            }\n\n            break;\n\n          case 'td':\n            if (target.is('.day') && !target.is('.disabled')) {\n              var day = parseInt(target.text(), 10) || 1;\n              var year = this.viewDate.getUTCFullYear(),\n                  month = this.viewDate.getUTCMonth(),\n                  hours = this.viewDate.getUTCHours(),\n                  minutes = this.viewDate.getUTCMinutes(),\n                  seconds = this.viewDate.getUTCSeconds();\n\n              if (target.is('.old')) {\n                if (month === 0) {\n                  month = 11;\n                  year -= 1;\n                } else {\n                  month -= 1;\n                }\n              } else if (target.is('.new')) {\n                if (month === 11) {\n                  month = 0;\n                  year += 1;\n                } else {\n                  month += 1;\n                }\n              }\n\n              this.viewDate.setUTCFullYear(year);\n              this.viewDate.setUTCMonth(month, day);\n              this.element.trigger({\n                type: 'changeDay',\n                date: this.viewDate\n              });\n\n              if (this.viewSelect >= 2) {\n                this._setDate(UTCDate(year, month, day, hours, minutes, seconds, 0));\n              }\n            }\n\n            var oldViewMode = this.viewMode;\n            this.showMode(-1);\n            this.fill();\n\n            if (oldViewMode === this.viewMode && this.autoclose) {\n              this.hide();\n            }\n\n            break;\n        }\n      }\n    },\n    _setDate: function _setDate(date, which) {\n      if (!which || which === 'date') this.date = date;\n      if (!which || which === 'view') this.viewDate = date;\n      this.fill();\n      this.setValue();\n      var element;\n\n      if (this.isInput) {\n        element = this.element;\n      } else if (this.component) {\n        element = this.element.find('input');\n      }\n\n      if (element) {\n        element.change();\n      }\n\n      this.element.trigger({\n        type: 'changeDate',\n        date: this.getDate()\n      });\n      if (date === null) this.date = this.viewDate;\n    },\n    moveMinute: function moveMinute(date, dir) {\n      if (!dir) return date;\n      var new_date = new Date(date.valueOf()); //dir = dir > 0 ? 1 : -1;\n\n      new_date.setUTCMinutes(new_date.getUTCMinutes() + dir * this.minuteStep);\n      return new_date;\n    },\n    moveHour: function moveHour(date, dir) {\n      if (!dir) return date;\n      var new_date = new Date(date.valueOf()); //dir = dir > 0 ? 1 : -1;\n\n      new_date.setUTCHours(new_date.getUTCHours() + dir);\n      return new_date;\n    },\n    moveDate: function moveDate(date, dir) {\n      if (!dir) return date;\n      var new_date = new Date(date.valueOf()); //dir = dir > 0 ? 1 : -1;\n\n      new_date.setUTCDate(new_date.getUTCDate() + dir);\n      return new_date;\n    },\n    moveMonth: function moveMonth(date, dir) {\n      if (!dir) return date;\n      var new_date = new Date(date.valueOf()),\n          day = new_date.getUTCDate(),\n          month = new_date.getUTCMonth(),\n          mag = Math.abs(dir),\n          new_month,\n          test;\n      dir = dir > 0 ? 1 : -1;\n\n      if (mag === 1) {\n        test = dir === -1 // If going back one month, make sure month is not current month\n        // (eg, Mar 31 -> Feb 31 === Feb 28, not Mar 02)\n        ? function () {\n          return new_date.getUTCMonth() === month;\n        } // If going forward one month, make sure month is as expected\n        // (eg, Jan 31 -> Feb 31 === Feb 28, not Mar 02)\n        : function () {\n          return new_date.getUTCMonth() !== new_month;\n        };\n        new_month = month + dir;\n        new_date.setUTCMonth(new_month); // Dec -> Jan (12) or Jan -> Dec (-1) -- limit expected date to 0-11\n\n        if (new_month < 0 || new_month > 11) new_month = (new_month + 12) % 12;\n      } else {\n        // For magnitudes >1, move one month at a time...\n        for (var i = 0; i < mag; i++) {\n          // ...which might decrease the day (eg, Jan 31 to Feb 28, etc)...\n          new_date = this.moveMonth(new_date, dir);\n        } // ...then reset the day, keeping it in the new month\n\n\n        new_month = new_date.getUTCMonth();\n        new_date.setUTCDate(day);\n\n        test = function test() {\n          return new_month !== new_date.getUTCMonth();\n        };\n      } // Common date-resetting loop -- if date is beyond end of month, make it\n      // end of month\n\n\n      while (test()) {\n        new_date.setUTCDate(--day);\n        new_date.setUTCMonth(new_month);\n      }\n\n      return new_date;\n    },\n    moveYear: function moveYear(date, dir) {\n      return this.moveMonth(date, dir * 12);\n    },\n    dateWithinRange: function dateWithinRange(date) {\n      return date >= this.startDate && date <= this.endDate;\n    },\n    keydown: function keydown(e) {\n      if (this.picker.is(':not(:visible)')) {\n        if (e.keyCode === 27) // allow escape to hide and re-show picker\n          this.show();\n        return;\n      }\n\n      var dateChanged = false,\n          dir,\n          newDate,\n          newViewDate;\n\n      switch (e.keyCode) {\n        case 27:\n          // escape\n          this.hide();\n          e.preventDefault();\n          break;\n\n        case 37: // left\n\n        case 39:\n          // right\n          if (!this.keyboardNavigation) break;\n          dir = e.keyCode === 37 ? -1 : 1;\n          var viewMode = this.viewMode;\n\n          if (e.ctrlKey) {\n            viewMode += 2;\n          } else if (e.shiftKey) {\n            viewMode += 1;\n          }\n\n          if (viewMode === 4) {\n            newDate = this.moveYear(this.date, dir);\n            newViewDate = this.moveYear(this.viewDate, dir);\n          } else if (viewMode === 3) {\n            newDate = this.moveMonth(this.date, dir);\n            newViewDate = this.moveMonth(this.viewDate, dir);\n          } else if (viewMode === 2) {\n            newDate = this.moveDate(this.date, dir);\n            newViewDate = this.moveDate(this.viewDate, dir);\n          } else if (viewMode === 1) {\n            newDate = this.moveHour(this.date, dir);\n            newViewDate = this.moveHour(this.viewDate, dir);\n          } else if (viewMode === 0) {\n            newDate = this.moveMinute(this.date, dir);\n            newViewDate = this.moveMinute(this.viewDate, dir);\n          }\n\n          if (this.dateWithinRange(newDate)) {\n            this.date = newDate;\n            this.viewDate = newViewDate;\n            this.setValue();\n            this.update();\n            e.preventDefault();\n            dateChanged = true;\n          }\n\n          break;\n\n        case 38: // up\n\n        case 40:\n          // down\n          if (!this.keyboardNavigation) break;\n          dir = e.keyCode === 38 ? -1 : 1;\n          viewMode = this.viewMode;\n\n          if (e.ctrlKey) {\n            viewMode += 2;\n          } else if (e.shiftKey) {\n            viewMode += 1;\n          }\n\n          if (viewMode === 4) {\n            newDate = this.moveYear(this.date, dir);\n            newViewDate = this.moveYear(this.viewDate, dir);\n          } else if (viewMode === 3) {\n            newDate = this.moveMonth(this.date, dir);\n            newViewDate = this.moveMonth(this.viewDate, dir);\n          } else if (viewMode === 2) {\n            newDate = this.moveDate(this.date, dir * 7);\n            newViewDate = this.moveDate(this.viewDate, dir * 7);\n          } else if (viewMode === 1) {\n            if (this.showMeridian) {\n              newDate = this.moveHour(this.date, dir * 6);\n              newViewDate = this.moveHour(this.viewDate, dir * 6);\n            } else {\n              newDate = this.moveHour(this.date, dir * 4);\n              newViewDate = this.moveHour(this.viewDate, dir * 4);\n            }\n          } else if (viewMode === 0) {\n            newDate = this.moveMinute(this.date, dir * 4);\n            newViewDate = this.moveMinute(this.viewDate, dir * 4);\n          }\n\n          if (this.dateWithinRange(newDate)) {\n            this.date = newDate;\n            this.viewDate = newViewDate;\n            this.setValue();\n            this.update();\n            e.preventDefault();\n            dateChanged = true;\n          }\n\n          break;\n\n        case 13:\n          // enter\n          if (this.viewMode !== 0) {\n            var oldViewMode = this.viewMode;\n            this.showMode(-1);\n            this.fill();\n\n            if (oldViewMode === this.viewMode && this.autoclose) {\n              this.hide();\n            }\n          } else {\n            this.fill();\n\n            if (this.autoclose) {\n              this.hide();\n            }\n          }\n\n          e.preventDefault();\n          break;\n\n        case 9:\n          // tab\n          this.hide();\n          break;\n      }\n\n      if (dateChanged) {\n        var element;\n\n        if (this.isInput) {\n          element = this.element;\n        } else if (this.component) {\n          element = this.element.find('input');\n        }\n\n        if (element) {\n          element.change();\n        }\n\n        this.element.trigger({\n          type: 'changeDate',\n          date: this.getDate()\n        });\n      }\n    },\n    showMode: function showMode(dir) {\n      if (dir) {\n        var newViewMode = Math.max(0, Math.min(DPGlobal.modes.length - 1, this.viewMode + dir));\n\n        if (newViewMode >= this.minView && newViewMode <= this.maxView) {\n          this.element.trigger({\n            type: 'changeMode',\n            date: this.viewDate,\n            oldViewMode: this.viewMode,\n            newViewMode: newViewMode\n          });\n          this.viewMode = newViewMode;\n        }\n      }\n      /*\r\n       vitalets: fixing bug of very special conditions:\r\n       jquery 1.7.1 + webkit + show inline datetimepicker in bootstrap popover.\r\n       Method show() does not set display css correctly and datetimepicker is not shown.\r\n       Changed to .css('display', 'block') solve the problem.\r\n       See https://github.com/vitalets/x-editable/issues/37\r\n         In jquery 1.7.2+ everything works fine.\r\n       */\n      //this.picker.find('>div').hide().filter('.datetimepicker-'+DPGlobal.modes[this.viewMode].clsName).show();\n\n\n      this.picker.find('>div').hide().filter('.datetimepicker-' + DPGlobal.modes[this.viewMode].clsName).css('display', 'block');\n      this.updateNavArrows();\n    },\n    reset: function reset() {\n      this._setDate(null, 'date');\n    },\n    convertViewModeText: function convertViewModeText(viewMode) {\n      switch (viewMode) {\n        case 4:\n          return 'decade';\n\n        case 3:\n          return 'year';\n\n        case 2:\n          return 'month';\n\n        case 1:\n          return 'day';\n\n        case 0:\n          return 'hour';\n      }\n    }\n  };\n  var old = $.fn.datetimepicker;\n\n  $.fn.datetimepicker = function (option) {\n    var args = Array.apply(null, arguments);\n    args.shift();\n    var internal_return;\n    this.each(function () {\n      var $this = $(this),\n          data = $this.data('datetimepicker'),\n          options = _typeof(option) === 'object' && option;\n\n      if (!data) {\n        $this.data('datetimepicker', data = new Datetimepicker(this, $.extend({}, $.fn.datetimepicker.defaults, options)));\n      }\n\n      if (typeof option === 'string' && typeof data[option] === 'function') {\n        internal_return = data[option].apply(data, args);\n\n        if (internal_return !== undefined) {\n          return false;\n        }\n      }\n    });\n    if (internal_return !== undefined) return internal_return;else return this;\n  };\n\n  $.fn.datetimepicker.defaults = {};\n  $.fn.datetimepicker.Constructor = Datetimepicker;\n  var dates = $.fn.datetimepicker.dates = {\n    en: {\n      days: ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday'],\n      daysShort: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],\n      daysMin: ['Su', 'Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa', 'Su'],\n      months: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'],\n      monthsShort: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],\n      meridiem: ['am', 'pm'],\n      suffix: ['st', 'nd', 'rd', 'th'],\n      today: 'Today',\n      clear: 'Clear'\n    },\n    jp: {\n      days: ['æ¥', 'æ', 'ç«', 'æ°´', 'æ¨', 'é', 'å', 'æ¥'],\n      daysShort: ['æ¥', 'æ', 'ç«', 'æ°´', 'æ¨', 'é', 'å', 'æ¥'],\n      daysMin: ['æ¥', 'æ', 'ç«', 'æ°´', 'æ¨', 'é', 'å', 'æ¥'],\n      months: ['1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12'],\n      monthsShort: ['1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12'],\n      meridiem: ['am', 'pm'],\n      suffix: ['st', 'nd', 'rd', 'th'],\n      today: 'ç¾å¨',\n      clear: 'Clear'\n    }\n  };\n  var DPGlobal = {\n    modes: [{\n      clsName: 'minutes',\n      navFnc: 'Hours',\n      navStep: 1\n    }, {\n      clsName: 'hours',\n      navFnc: 'Date',\n      navStep: 1\n    }, {\n      clsName: 'days',\n      navFnc: 'Month',\n      navStep: 1\n    }, {\n      clsName: 'months',\n      navFnc: 'FullYear',\n      navStep: 1\n    }, {\n      clsName: 'years',\n      navFnc: 'FullYear',\n      navStep: 10\n    }],\n    isLeapYear: function isLeapYear(year) {\n      return year % 4 === 0 && year % 100 !== 0 || year % 400 === 0;\n    },\n    getDaysInMonth: function getDaysInMonth(year, month) {\n      return [31, DPGlobal.isLeapYear(year) ? 29 : 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31][month];\n    },\n    getDefaultFormat: function getDefaultFormat(type, field) {\n      if (type === 'standard') {\n        if (field === 'input') return 'yyyy-mm-dd hh:ii';else return 'yyyy-mm-dd hh:ii:ss';\n      } else if (type === 'php') {\n        if (field === 'input') return 'Y-m-d H:i';else return 'Y-m-d H:i:s';\n      } else {\n        throw new Error('Invalid format type.');\n      }\n    },\n    validParts: function validParts(type) {\n      if (type === 'standard') {\n        return /t|hh?|HH?|p|P|z|Z|ii?|ss?|dd?|DD?|mm?|MM?|yy(?:yy)?/g;\n      } else if (type === 'php') {\n        return /[dDjlNwzFmMnStyYaABgGhHis]/g;\n      } else {\n        throw new Error('Invalid format type.');\n      }\n    },\n    nonpunctuation: /[^ -\\/:-@\\[-`{-~\\t\\n\\rTZ]+/g,\n    parseFormat: function parseFormat(format, type) {\n      // IE treats \\0 as a string end in inputs (truncating the value),\n      // so it's a bad format delimiter, anyway\n      var separators = format.replace(this.validParts(type), '\\0').split('\\0'),\n          parts = format.match(this.validParts(type));\n\n      if (!separators || !separators.length || !parts || parts.length === 0) {\n        throw new Error('Invalid date format.');\n      }\n\n      return {\n        separators: separators,\n        parts: parts\n      };\n    },\n    parseDate: function parseDate(date, format, language, type, timezone) {\n      if (date instanceof Date) {\n        var dateUTC = new Date(date.valueOf() - date.getTimezoneOffset() * 60000);\n        dateUTC.setMilliseconds(0);\n        return dateUTC;\n      }\n\n      if (/^\\d{4}\\-\\d{1,2}\\-\\d{1,2}$/.test(date)) {\n        format = this.parseFormat('yyyy-mm-dd', type);\n      }\n\n      if (/^\\d{4}\\-\\d{1,2}\\-\\d{1,2}[T ]\\d{1,2}\\:\\d{1,2}$/.test(date)) {\n        format = this.parseFormat('yyyy-mm-dd hh:ii', type);\n      }\n\n      if (/^\\d{4}\\-\\d{1,2}\\-\\d{1,2}[T ]\\d{1,2}\\:\\d{1,2}\\:\\d{1,2}[Z]{0,1}$/.test(date)) {\n        format = this.parseFormat('yyyy-mm-dd hh:ii:ss', type);\n      }\n\n      if (/^[-+]\\d+[dmwy]([\\s,]+[-+]\\d+[dmwy])*$/.test(date)) {\n        var part_re = /([-+]\\d+)([dmwy])/,\n            parts = date.match(/([-+]\\d+)([dmwy])/g),\n            part,\n            dir;\n        date = new Date();\n\n        for (var i = 0; i < parts.length; i++) {\n          part = part_re.exec(parts[i]);\n          dir = parseInt(part[1]);\n\n          switch (part[2]) {\n            case 'd':\n              date.setUTCDate(date.getUTCDate() + dir);\n              break;\n\n            case 'm':\n              date = Datetimepicker.prototype.moveMonth.call(Datetimepicker.prototype, date, dir);\n              break;\n\n            case 'w':\n              date.setUTCDate(date.getUTCDate() + dir * 7);\n              break;\n\n            case 'y':\n              date = Datetimepicker.prototype.moveYear.call(Datetimepicker.prototype, date, dir);\n              break;\n          }\n        }\n\n        return UTCDate(date.getUTCFullYear(), date.getUTCMonth(), date.getUTCDate(), date.getUTCHours(), date.getUTCMinutes(), date.getUTCSeconds(), 0);\n      }\n\n      var parts = date && date.toString().match(this.nonpunctuation) || [],\n          date = new Date(0, 0, 0, 0, 0, 0, 0),\n          parsed = {},\n          setters_order = ['hh', 'h', 'ii', 'i', 'ss', 's', 'yyyy', 'yy', 'M', 'MM', 'm', 'mm', 'D', 'DD', 'd', 'dd', 'H', 'HH', 'p', 'P', 'z', 'Z'],\n          setters_map = {\n        hh: function hh(d, v) {\n          return d.setUTCHours(v);\n        },\n        h: function h(d, v) {\n          return d.setUTCHours(v);\n        },\n        HH: function HH(d, v) {\n          return d.setUTCHours(v === 12 ? 0 : v);\n        },\n        H: function H(d, v) {\n          return d.setUTCHours(v === 12 ? 0 : v);\n        },\n        ii: function ii(d, v) {\n          return d.setUTCMinutes(v);\n        },\n        i: function i(d, v) {\n          return d.setUTCMinutes(v);\n        },\n        ss: function ss(d, v) {\n          return d.setUTCSeconds(v);\n        },\n        s: function s(d, v) {\n          return d.setUTCSeconds(v);\n        },\n        yyyy: function yyyy(d, v) {\n          return d.setUTCFullYear(v);\n        },\n        yy: function yy(d, v) {\n          return d.setUTCFullYear(2000 + v);\n        },\n        m: function m(d, v) {\n          v -= 1;\n\n          while (v < 0) {\n            v += 12;\n          }\n\n          v %= 12;\n          d.setUTCMonth(v);\n\n          while (d.getUTCMonth() !== v) {\n            if (isNaN(d.getUTCMonth())) return d;else d.setUTCDate(d.getUTCDate() - 1);\n          }\n\n          return d;\n        },\n        d: function d(_d, v) {\n          return _d.setUTCDate(v);\n        },\n        p: function p(d, v) {\n          return d.setUTCHours(v === 1 ? d.getUTCHours() + 12 : d.getUTCHours());\n        },\n        z: function z() {\n          return timezone;\n        }\n      },\n          val,\n          filtered,\n          part;\n      setters_map['M'] = setters_map['MM'] = setters_map['mm'] = setters_map['m'];\n      setters_map['dd'] = setters_map['d'];\n      setters_map['P'] = setters_map['p'];\n      setters_map['Z'] = setters_map['z'];\n      date = UTCDate(date.getFullYear(), date.getMonth(), date.getDate(), date.getHours(), date.getMinutes(), date.getSeconds());\n\n      if (parts.length === format.parts.length) {\n        for (var i = 0, cnt = format.parts.length; i < cnt; i++) {\n          val = parseInt(parts[i], 10);\n          part = format.parts[i];\n\n          if (isNaN(val)) {\n            switch (part) {\n              case 'MM':\n                filtered = $(dates[language].months).filter(function () {\n                  var m = this.slice(0, parts[i].length),\n                      p = parts[i].slice(0, m.length);\n                  return m === p;\n                });\n                val = $.inArray(filtered[0], dates[language].months) + 1;\n                break;\n\n              case 'M':\n                filtered = $(dates[language].monthsShort).filter(function () {\n                  var m = this.slice(0, parts[i].length),\n                      p = parts[i].slice(0, m.length);\n                  return m.toLowerCase() === p.toLowerCase();\n                });\n                val = $.inArray(filtered[0], dates[language].monthsShort) + 1;\n                break;\n\n              case 'p':\n              case 'P':\n                val = $.inArray(parts[i].toLowerCase(), dates[language].meridiem);\n                break;\n\n              case 'z':\n              case 'Z':\n                timezone;\n                break;\n            }\n          }\n\n          parsed[part] = val;\n        }\n\n        for (var i = 0, s; i < setters_order.length; i++) {\n          s = setters_order[i];\n          if (s in parsed && !isNaN(parsed[s])) setters_map[s](date, parsed[s]);\n        }\n      }\n\n      return date;\n    },\n    formatDate: function formatDate(date, format, language, type, timezone) {\n      if (date === null) {\n        return '';\n      }\n\n      var val;\n\n      if (type === 'standard') {\n        val = {\n          t: date.getTime(),\n          // year\n          yy: date.getUTCFullYear().toString().substring(2),\n          yyyy: date.getUTCFullYear(),\n          // month\n          m: date.getUTCMonth() + 1,\n          M: dates[language].monthsShort[date.getUTCMonth()],\n          MM: dates[language].months[date.getUTCMonth()],\n          // day\n          d: date.getUTCDate(),\n          D: dates[language].daysShort[date.getUTCDay()],\n          DD: dates[language].days[date.getUTCDay()],\n          p: dates[language].meridiem.length === 2 ? dates[language].meridiem[date.getUTCHours() < 12 ? 0 : 1] : '',\n          // hour\n          h: date.getUTCHours(),\n          // minute\n          i: date.getUTCMinutes(),\n          // second\n          s: date.getUTCSeconds(),\n          // timezone\n          z: timezone\n        };\n\n        if (dates[language].meridiem.length === 2) {\n          val.H = val.h % 12 === 0 ? 12 : val.h % 12;\n        } else {\n          val.H = val.h;\n        }\n\n        val.HH = (val.H < 10 ? '0' : '') + val.H;\n        val.P = val.p.toUpperCase();\n        val.Z = val.z;\n        val.hh = (val.h < 10 ? '0' : '') + val.h;\n        val.ii = (val.i < 10 ? '0' : '') + val.i;\n        val.ss = (val.s < 10 ? '0' : '') + val.s;\n        val.dd = (val.d < 10 ? '0' : '') + val.d;\n        val.mm = (val.m < 10 ? '0' : '') + val.m;\n      } else if (type === 'php') {\n        // php format\n        val = {\n          // year\n          y: date.getUTCFullYear().toString().substring(2),\n          Y: date.getUTCFullYear(),\n          // month\n          F: dates[language].months[date.getUTCMonth()],\n          M: dates[language].monthsShort[date.getUTCMonth()],\n          n: date.getUTCMonth() + 1,\n          t: DPGlobal.getDaysInMonth(date.getUTCFullYear(), date.getUTCMonth()),\n          // day\n          j: date.getUTCDate(),\n          l: dates[language].days[date.getUTCDay()],\n          D: dates[language].daysShort[date.getUTCDay()],\n          w: date.getUTCDay(),\n          // 0 -> 6\n          N: date.getUTCDay() === 0 ? 7 : date.getUTCDay(),\n          // 1 -> 7\n          S: date.getUTCDate() % 10 <= dates[language].suffix.length ? dates[language].suffix[date.getUTCDate() % 10 - 1] : '',\n          // hour\n          a: dates[language].meridiem.length === 2 ? dates[language].meridiem[date.getUTCHours() < 12 ? 0 : 1] : '',\n          g: date.getUTCHours() % 12 === 0 ? 12 : date.getUTCHours() % 12,\n          G: date.getUTCHours(),\n          // minute\n          i: date.getUTCMinutes(),\n          // second\n          s: date.getUTCSeconds()\n        };\n        val.m = (val.n < 10 ? '0' : '') + val.n;\n        val.d = (val.j < 10 ? '0' : '') + val.j;\n        val.A = val.a.toString().toUpperCase();\n        val.h = (val.g < 10 ? '0' : '') + val.g;\n        val.H = (val.G < 10 ? '0' : '') + val.G;\n        val.i = (val.i < 10 ? '0' : '') + val.i;\n        val.s = (val.s < 10 ? '0' : '') + val.s;\n      } else {\n        throw new Error('Invalid format type.');\n      }\n\n      var date = [],\n          seps = $.extend([], format.separators);\n\n      for (var i = 0, cnt = format.parts.length; i < cnt; i++) {\n        if (seps.length) {\n          date.push(seps.shift());\n        }\n\n        date.push(val[format.parts[i]]);\n      }\n\n      if (seps.length) {\n        date.push(seps.shift());\n      }\n\n      return date.join('');\n    },\n    convertViewMode: function convertViewMode(viewMode) {\n      switch (viewMode) {\n        case 4:\n        case 'decade':\n          viewMode = 4;\n          break;\n\n        case 3:\n        case 'year':\n          viewMode = 3;\n          break;\n\n        case 2:\n        case 'month':\n          viewMode = 2;\n          break;\n\n        case 1:\n        case 'day':\n          viewMode = 1;\n          break;\n\n        case 0:\n        case 'hour':\n          viewMode = 0;\n          break;\n      }\n\n      return viewMode;\n    },\n    headTemplate: '<thead>' + '<tr>' + '<th class=\"prev\"><i class=\"{iconType} {leftArrow}\"/></th>' + '<th colspan=\"5\" class=\"switch\"></th>' + '<th class=\"next\"><i class=\"{iconType} {rightArrow}\"/></th>' + '</tr>' + '</thead>',\n    headTemplateV3: '<thead>' + '<tr>' + '<th class=\"prev\"><span class=\"{iconType} {leftArrow}\"></span> </th>' + '<th colspan=\"5\" class=\"switch\"></th>' + '<th class=\"next\"><span class=\"{iconType} {rightArrow}\"></span> </th>' + '</tr>' + '</thead>',\n    contTemplate: '<tbody><tr><td colspan=\"7\"></td></tr></tbody>',\n    footTemplate: '<tfoot>' + '<tr><th colspan=\"7\" class=\"today\"></th></tr>' + '<tr><th colspan=\"7\" class=\"clear\"></th></tr>' + '</tfoot>'\n  };\n  DPGlobal.template = '<div class=\"datetimepicker\">' + '<div class=\"datetimepicker-minutes\">' + '<table class=\" table-condensed\">' + DPGlobal.headTemplate + DPGlobal.contTemplate + DPGlobal.footTemplate + '</table>' + '</div>' + '<div class=\"datetimepicker-hours\">' + '<table class=\" table-condensed\">' + DPGlobal.headTemplate + DPGlobal.contTemplate + DPGlobal.footTemplate + '</table>' + '</div>' + '<div class=\"datetimepicker-days\">' + '<table class=\" table-condensed\">' + DPGlobal.headTemplate + '<tbody></tbody>' + DPGlobal.footTemplate + '</table>' + '</div>' + '<div class=\"datetimepicker-months\">' + '<table class=\"table-condensed\">' + DPGlobal.headTemplate + DPGlobal.contTemplate + DPGlobal.footTemplate + '</table>' + '</div>' + '<div class=\"datetimepicker-years\">' + '<table class=\"table-condensed\">' + DPGlobal.headTemplate + DPGlobal.contTemplate + DPGlobal.footTemplate + '</table>' + '</div>' + '</div>';\n  DPGlobal.templateV3 = '<div class=\"datetimepicker\">' + '<div class=\"datetimepicker-minutes\">' + '<table class=\" table-condensed\">' + DPGlobal.headTemplateV3 + DPGlobal.contTemplate + DPGlobal.footTemplate + '</table>' + '</div>' + '<div class=\"datetimepicker-hours\">' + '<table class=\" table-condensed\">' + DPGlobal.headTemplateV3 + DPGlobal.contTemplate + DPGlobal.footTemplate + '</table>' + '</div>' + '<div class=\"datetimepicker-days\">' + '<table class=\" table-condensed\">' + DPGlobal.headTemplateV3 + '<tbody></tbody>' + DPGlobal.footTemplate + '</table>' + '</div>' + '<div class=\"datetimepicker-months\">' + '<table class=\"table-condensed\">' + DPGlobal.headTemplateV3 + DPGlobal.contTemplate + DPGlobal.footTemplate + '</table>' + '</div>' + '<div class=\"datetimepicker-years\">' + '<table class=\"table-condensed\">' + DPGlobal.headTemplateV3 + DPGlobal.contTemplate + DPGlobal.footTemplate + '</table>' + '</div>' + '</div>';\n  $.fn.datetimepicker.DPGlobal = DPGlobal;\n  /* DATETIMEPICKER NO CONFLICT\r\n   * =================== */\n\n  $.fn.datetimepicker.noConflict = function () {\n    $.fn.datetimepicker = old;\n    return this;\n  };\n  /* DATETIMEPICKER DATA-API\r\n   * ================== */\n\n\n  $(document).on('focus.datetimepicker.data-api click.datetimepicker.data-api', '[data-provide=\"datetimepicker\"]', function (e) {\n    var $this = $(this);\n    if ($this.data('datetimepicker')) return;\n    e.preventDefault(); // component click requires us to explicitly show it\n\n    $this.datetimepicker('show');\n  });\n  $(function () {\n    $('[data-provide=\"datetimepicker-inline\"]').datetimepicker();\n  });\n});",{"version":3,"sources":["/Users/alex/kaso-agri/public/static/datePicker/js/bootstrap-datetimepicker.js"],"names":["factory","define","amd","exports","require","jQuery","$","undefined","Array","prototype","indexOf","find","i","length","n","timeZoneAbbreviation","abbreviation","date","formattedStr","len","matchedStrings","ref","str","Date","toString","split","slice","match","push","pop","UTCDate","UTC","apply","arguments","Datetimepicker","element","options","that","container","language","data","dates","isRTL","rtl","formatType","format","DPGlobal","parseFormat","getDefaultFormat","isInline","isVisible","isInput","is","fontAwesome","bootcssVer","component","parent","componentReset","hasInput","linkField","linkFormat","minuteStep","pickerPosition","showMeridian","initialDate","zIndex","title","timezone","icons","leftArrow","rightArrow","icontype","_attachEvents","clickedOutside","e","target","closest","hide","formatViewType","minView","convertViewMode","maxView","modes","wheelViewModeNavigation","wheelViewModeNavigationInverseDirection","wheelViewModeNavigationDelay","startViewMode","startView","viewMode","viewSelect","forceParse","template","templateV3","replace","picker","appendTo","on","click","proxy","mousedown","fn","mousewheel","console","log","addClass","selector","toggleClass","document","autoclose","keyboardNavigation","todayBtn","clearBtn","todayHighlight","weekStart","weekEnd","onRenderDay","render","res","concat","onRenderHour","onRenderMinute","startDate","endDate","Math","floor","getUTCMinutes","onRenderYear","getUTCFullYear","currentYear","endYear","onRenderMonth","datesDisabled","daysOfWeekDisabled","setStartDate","setEndDate","setDatesDisabled","setDaysOfWeekDisabled","setMinutesDisabled","minutesDisabled","setHoursDisabled","hoursDisabled","fillDow","fillMonths","update","showMode","show","constructor","_events","_detachEvents","focus","keyup","keydown","reset","el","ev","off","height","outerHeight","place","window","stopPropagation","preventDefault","trigger","type","val","setValue","remove","datetimepicker","getDate","d","getUTCDate","getTime","getTimezoneOffset","getInitialDate","setInitialDate","setDate","setUTCDate","viewDate","fill","setFormat","formatted","getFormattedDate","formatDate","valueOf","parseDate","updateNavArrows","isArray","mThis","map","toDateString","setTitle","value","text","parseInt","index_highest","each","index_current","css","offset","top","left","containerOffset","outerWidth","bodyWidth","body","clientWidth","innerWidth","hour_minute","fromArgs","RegExp","test","dowCnt","html","daysMin","append","setUTCMonth","classes","join","monthsShort","year","month","getUTCMonth","dayMonth","hours","getUTCHours","startYear","startMonth","endMonth","currentDate","today","months","toggle","clear","prevMonth","day","getDaysInMonth","getUTCDay","nextMonth","getFullYear","getMonth","inArray","empty","txt","meridian","meridianOld","setUTCHours","actual","meridiem","toUpperCase","setUTCMinutes","setUTCSeconds","end","removeClass","eq","yearCont","setUTCFullYear","old","hour","visibility","wheelPause","originalEvent","delta","wheelDelta","mode","setTimeout","nodeName","toLowerCase","className","dir","navStep","moveHour","moveDate","moveMonth","moveYear","convertViewModeText","getHours","getMinutes","getSeconds","_setDate","minutes","seconds","getUTCSeconds","index","hasClass","substr","oldViewMode","which","change","moveMinute","new_date","mag","abs","new_month","dateWithinRange","keyCode","dateChanged","newDate","newViewDate","ctrlKey","shiftKey","newViewMode","max","min","filter","clsName","option","args","shift","internal_return","$this","extend","defaults","Constructor","en","days","daysShort","suffix","jp","navFnc","isLeapYear","field","Error","validParts","nonpunctuation","separators","parts","dateUTC","setMilliseconds","part_re","part","exec","call","parsed","setters_order","setters_map","hh","v","h","HH","H","ii","ss","s","yyyy","yy","m","isNaN","p","z","filtered","cnt","t","substring","M","MM","D","DD","P","Z","dd","mm","y","Y","F","j","l","w","N","S","a","g","G","A","seps","headTemplate","headTemplateV3","contTemplate","footTemplate","noConflict"],"mappings":"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","sourcesContent":["/* =========================================================\r\n * bootstrap-datetimepicker.js\r\n * =========================================================\r\n * Copyright 2012 Stefan Petre\r\n *\r\n * Improvements by Andrew Rowls\r\n * Improvements by SÃ©bastien Malot\r\n * Improvements by Yun Lai\r\n * Improvements by Kenneth Henderick\r\n * Improvements by CuGBabyBeaR\r\n * Improvements by Christian Vaas <auspex@auspex.eu>\r\n *\r\n * Project URL : http://www.malot.fr/bootstrap-datetimepicker\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n * http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n * ========================================================= */\r\n\r\n(function(factory){\r\n    if (typeof define === 'function' && define.amd)\r\n      define(['jquery'], factory);\r\n    else if (typeof exports === 'object')\r\n      factory(require('jquery'));\r\n    else\r\n      factory(jQuery);\r\n\r\n}(function($, undefined){\r\n\r\n  // Add ECMA262-5 Array methods if not supported natively (IE8)\r\n  if (!('indexOf' in Array.prototype)) {\r\n    Array.prototype.indexOf = function (find, i) {\r\n      if (i === undefined) i = 0;\r\n      if (i < 0) i += this.length;\r\n      if (i < 0) i = 0;\r\n      for (var n = this.length; i < n; i++) {\r\n        if (i in this && this[i] === find) {\r\n          return i;\r\n        }\r\n      }\r\n      return -1;\r\n    }\r\n  }\r\n\r\n  // Add timezone abbreviation support for ie6+, Chrome, Firefox\r\n  function timeZoneAbbreviation() {\r\n    var abbreviation, date, formattedStr, i, len, matchedStrings, ref, str;\r\n    date = (new Date()).toString();\r\n    formattedStr = ((ref = date.split('(')[1]) != null ? ref.slice(0, -1) : 0) || date.split(' ');\r\n    if (formattedStr instanceof Array) {\r\n      matchedStrings = [];\r\n      for (var i = 0, len = formattedStr.length; i < len; i++) {\r\n        str = formattedStr[i];\r\n        if ((abbreviation = (ref = str.match(/\\b[A-Z]+\\b/)) !== null) ? ref[0] : 0) {\r\n          matchedStrings.push(abbreviation);\r\n        }\r\n      }\r\n      formattedStr = matchedStrings.pop();\r\n    }\r\n    return formattedStr;\r\n  }\r\n\r\n  function UTCDate() {\r\n    return new Date(Date.UTC.apply(Date, arguments));\r\n  }\r\n\r\n  // Picker object\r\n  var Datetimepicker = function (element, options) {\r\n    var that = this;\r\n\r\n    this.element = $(element);\r\n\r\n    // add container for single page application\r\n    // when page switch the datetimepicker div will be removed also.\r\n    this.container = options.container || 'body';\r\n\r\n    this.language = options.language || this.element.data('date-language') || 'en';\r\n    this.language = this.language in dates ? this.language : this.language.split('-')[0]; // fr-CA fallback to fr\r\n    this.language = this.language in dates ? this.language : 'en';\r\n    this.isRTL = dates[this.language].rtl || false;\r\n    this.formatType = options.formatType || this.element.data('format-type') || 'standard';\r\n    this.format = DPGlobal.parseFormat(options.format || this.element.data('date-format') || dates[this.language].format || DPGlobal.getDefaultFormat(this.formatType, 'input'), this.formatType);\r\n    this.isInline = false;\r\n    this.isVisible = false;\r\n    this.isInput = this.element.is('input');\r\n    this.fontAwesome = options.fontAwesome || this.element.data('font-awesome') || false;\r\n\r\n    this.bootcssVer = options.bootcssVer || (this.isInput ? (this.element.is('.form-control') ? 3 : 2) : ( this.bootcssVer = this.element.is('.input-group') ? 3 : 2 ));\r\n\r\n    this.component = this.element.is('.date') ? ( this.bootcssVer === 3 ? this.element.find('.input-group-addon .glyphicon-th, .input-group-addon .glyphicon-time, .input-group-addon .glyphicon-remove, .input-group-addon .glyphicon-calendar, .input-group-addon .fa-calendar, .input-group-addon .fa-clock-o').parent() : this.element.find('.add-on .icon-th, .add-on .icon-time, .add-on .icon-calendar, .add-on .fa-calendar, .add-on .fa-clock-o').parent()) : false;\r\n    this.componentReset = this.element.is('.date') ? ( this.bootcssVer === 3 ? this.element.find('.input-group-addon .glyphicon-remove, .input-group-addon .fa-times').parent():this.element.find('.add-on .icon-remove, .add-on .fa-times').parent()) : false;\r\n    this.hasInput = this.component && this.element.find('input').length;\r\n    if (this.component && this.component.length === 0) {\r\n      this.component = false;\r\n    }\r\n    this.linkField = options.linkField || this.element.data('link-field') || false;\r\n    this.linkFormat = DPGlobal.parseFormat(options.linkFormat || this.element.data('link-format') || DPGlobal.getDefaultFormat(this.formatType, 'link'), this.formatType);\r\n    this.minuteStep = options.minuteStep || this.element.data('minute-step') || 5;\r\n    this.pickerPosition = options.pickerPosition || this.element.data('picker-position') || 'bottom-right';\r\n    this.showMeridian = options.showMeridian || this.element.data('show-meridian') || false;\r\n    this.initialDate = options.initialDate || new Date();\r\n    this.zIndex = options.zIndex || this.element.data('z-index') || undefined;\r\n    this.title = typeof options.title === 'undefined' ? false : options.title;\r\n    this.timezone = options.timezone || timeZoneAbbreviation();\r\n\r\n    this.icons = {\r\n      leftArrow: this.fontAwesome ? 'fa-arrow-left' : (this.bootcssVer === 3 ? 'glyphicon-arrow-left' : 'icon-arrow-left'),\r\n      rightArrow: this.fontAwesome ? 'fa-arrow-right' : (this.bootcssVer === 3 ? 'glyphicon-arrow-right' : 'icon-arrow-right')\r\n    }\r\n    this.icontype = this.fontAwesome ? 'fa' : 'glyphicon';\r\n\r\n    this._attachEvents();\r\n\r\n    this.clickedOutside = function (e) {\r\n        // Clicked outside the datetimepicker, hide it\r\n        if ($(e.target).closest('.datetimepicker').length === 0) {\r\n            that.hide();\r\n        }\r\n    }\r\n\r\n    this.formatViewType = 'datetime';\r\n    if ('formatViewType' in options) {\r\n      this.formatViewType = options.formatViewType;\r\n    } else if ('formatViewType' in this.element.data()) {\r\n      this.formatViewType = this.element.data('formatViewType');\r\n    }\r\n\r\n    this.minView = 0;\r\n    if ('minView' in options) {\r\n      this.minView = options.minView;\r\n    } else if ('minView' in this.element.data()) {\r\n      this.minView = this.element.data('min-view');\r\n    }\r\n    this.minView = DPGlobal.convertViewMode(this.minView);\r\n\r\n    this.maxView = DPGlobal.modes.length - 1;\r\n    if ('maxView' in options) {\r\n      this.maxView = options.maxView;\r\n    } else if ('maxView' in this.element.data()) {\r\n      this.maxView = this.element.data('max-view');\r\n    }\r\n    this.maxView = DPGlobal.convertViewMode(this.maxView);\r\n\r\n    this.wheelViewModeNavigation = false;\r\n    if ('wheelViewModeNavigation' in options) {\r\n      this.wheelViewModeNavigation = options.wheelViewModeNavigation;\r\n    } else if ('wheelViewModeNavigation' in this.element.data()) {\r\n      this.wheelViewModeNavigation = this.element.data('view-mode-wheel-navigation');\r\n    }\r\n\r\n    this.wheelViewModeNavigationInverseDirection = false;\r\n\r\n    if ('wheelViewModeNavigationInverseDirection' in options) {\r\n      this.wheelViewModeNavigationInverseDirection = options.wheelViewModeNavigationInverseDirection;\r\n    } else if ('wheelViewModeNavigationInverseDirection' in this.element.data()) {\r\n      this.wheelViewModeNavigationInverseDirection = this.element.data('view-mode-wheel-navigation-inverse-dir');\r\n    }\r\n\r\n    this.wheelViewModeNavigationDelay = 100;\r\n    if ('wheelViewModeNavigationDelay' in options) {\r\n      this.wheelViewModeNavigationDelay = options.wheelViewModeNavigationDelay;\r\n    } else if ('wheelViewModeNavigationDelay' in this.element.data()) {\r\n      this.wheelViewModeNavigationDelay = this.element.data('view-mode-wheel-navigation-delay');\r\n    }\r\n\r\n    this.startViewMode = 2;\r\n    if ('startView' in options) {\r\n      this.startViewMode = options.startView;\r\n    } else if ('startView' in this.element.data()) {\r\n      this.startViewMode = this.element.data('start-view');\r\n    }\r\n    this.startViewMode = DPGlobal.convertViewMode(this.startViewMode);\r\n    this.viewMode = this.startViewMode;\r\n\r\n    this.viewSelect = this.minView;\r\n    if ('viewSelect' in options) {\r\n      this.viewSelect = options.viewSelect;\r\n    } else if ('viewSelect' in this.element.data()) {\r\n      this.viewSelect = this.element.data('view-select');\r\n    }\r\n    this.viewSelect = DPGlobal.convertViewMode(this.viewSelect);\r\n\r\n    this.forceParse = true;\r\n    if ('forceParse' in options) {\r\n      this.forceParse = options.forceParse;\r\n    } else if ('dateForceParse' in this.element.data()) {\r\n      this.forceParse = this.element.data('date-force-parse');\r\n    }\r\n    var template = this.bootcssVer === 3 ? DPGlobal.templateV3 : DPGlobal.template;\r\n    while (template.indexOf('{iconType}') !== -1) {\r\n      template = template.replace('{iconType}', this.icontype);\r\n    }\r\n    while (template.indexOf('{leftArrow}') !== -1) {\r\n      template = template.replace('{leftArrow}', this.icons.leftArrow);\r\n    }\r\n    while (template.indexOf('{rightArrow}') !== -1) {\r\n      template = template.replace('{rightArrow}', this.icons.rightArrow);\r\n    }\r\n    this.picker = $(template)\r\n      .appendTo(this.isInline ? this.element : this.container) // 'body')\r\n      .on({\r\n        click:     $.proxy(this.click, this),\r\n        mousedown: $.proxy(this.mousedown, this)\r\n      });\r\n\r\n    if (this.wheelViewModeNavigation) {\r\n      if ($.fn.mousewheel) {\r\n        this.picker.on({mousewheel: $.proxy(this.mousewheel, this)});\r\n      } else {\r\n        console.log('Mouse Wheel event is not supported. Please include the jQuery Mouse Wheel plugin before enabling this option');\r\n      }\r\n    }\r\n\r\n    if (this.isInline) {\r\n      this.picker.addClass('datetimepicker-inline');\r\n    } else {\r\n      this.picker.addClass('datetimepicker-dropdown-' + this.pickerPosition + ' dropdown-menu');\r\n    }\r\n    if (this.isRTL) {\r\n      this.picker.addClass('datetimepicker-rtl');\r\n      var selector = this.bootcssVer === 3 ? '.prev span, .next span' : '.prev i, .next i';\r\n      this.picker.find(selector).toggleClass(this.icons.leftArrow + ' ' + this.icons.rightArrow);\r\n    }\r\n\r\n    $(document).on('mousedown touchend', this.clickedOutside);\r\n\r\n    this.autoclose = false;\r\n    if ('autoclose' in options) {\r\n      this.autoclose = options.autoclose;\r\n    } else if ('dateAutoclose' in this.element.data()) {\r\n      this.autoclose = this.element.data('date-autoclose');\r\n    }\r\n\r\n    this.keyboardNavigation = true;\r\n    if ('keyboardNavigation' in options) {\r\n      this.keyboardNavigation = options.keyboardNavigation;\r\n    } else if ('dateKeyboardNavigation' in this.element.data()) {\r\n      this.keyboardNavigation = this.element.data('date-keyboard-navigation');\r\n    }\r\n\r\n    this.todayBtn = (options.todayBtn || this.element.data('date-today-btn') || false);\r\n    this.clearBtn = (options.clearBtn || this.element.data('date-clear-btn') || false);\r\n    this.todayHighlight = (options.todayHighlight || this.element.data('date-today-highlight') || false);\r\n\r\n    this.weekStart = 0;\r\n    if (typeof options.weekStart !== 'undefined') {\r\n      this.weekStart = options.weekStart;\r\n    } else if (typeof this.element.data('date-weekstart') !== 'undefined') {\r\n      this.weekStart = this.element.data('date-weekstart');\r\n    } else if (typeof dates[this.language].weekStart !== 'undefined') {\r\n      this.weekStart = dates[this.language].weekStart;\r\n    }\r\n    this.weekStart = this.weekStart % 7;\r\n    this.weekEnd = ((this.weekStart + 6) % 7);\r\n    this.onRenderDay = function (date) {\r\n      var render = (options.onRenderDay || function () { return []; })(date);\r\n      if (typeof render === 'string') {\r\n        render = [render];\r\n      }\r\n      var res = ['day'];\r\n      return res.concat((render ? render : []));\r\n    };\r\n    this.onRenderHour = function (date) {\r\n      var render = (options.onRenderHour || function () { return []; })(date);\r\n      var res = ['hour'];\r\n      if (typeof render === 'string') {\r\n        render = [render];\r\n      }\r\n      return res.concat((render ? render : []));\r\n    };\r\n    this.onRenderMinute = function (date) {\r\n      var render = (options.onRenderMinute || function () { return []; })(date);\r\n      var res = ['minute'];\r\n      if (typeof render === 'string') {\r\n        render = [render];\r\n      }\r\n      if (date < this.startDate || date > this.endDate) {\r\n        res.push('disabled');\r\n      } else if (Math.floor(this.date.getUTCMinutes() / this.minuteStep) === Math.floor(date.getUTCMinutes() / this.minuteStep)) {\r\n        res.push('active');\r\n      }\r\n      return res.concat((render ? render : []));\r\n    };\r\n    this.onRenderYear = function (date) {\r\n      var render = (options.onRenderYear || function () { return []; })(date);\r\n      var res = ['year'];\r\n      if (typeof render === 'string') {\r\n        render = [render];\r\n      }\r\n      if (this.date.getUTCFullYear() === date.getUTCFullYear()) {\r\n        res.push('active');\r\n      }\r\n      var currentYear = date.getUTCFullYear();\r\n      var endYear = this.endDate.getUTCFullYear();\r\n      if (date < this.startDate || currentYear > endYear) {\r\n        res.push('disabled');\r\n      }\r\n      return res.concat((render ? render : []));\r\n    }\r\n    this.onRenderMonth = function (date) {\r\n      var render = (options.onRenderMonth || function () { return []; })(date);\r\n      var res = ['month'];\r\n      if (typeof render === 'string') {\r\n        render = [render];\r\n      }\r\n      return res.concat((render ? render : []));\r\n    }\r\n    this.startDate = new Date(-8639968443048000);\r\n    this.endDate = new Date(8639968443048000);\r\n    this.datesDisabled = [];\r\n    this.daysOfWeekDisabled = [];\r\n    this.setStartDate(options.startDate || this.element.data('date-startdate'));\r\n    this.setEndDate(options.endDate || this.element.data('date-enddate'));\r\n    this.setDatesDisabled(options.datesDisabled || this.element.data('date-dates-disabled'));\r\n    this.setDaysOfWeekDisabled(options.daysOfWeekDisabled || this.element.data('date-days-of-week-disabled'));\r\n    this.setMinutesDisabled(options.minutesDisabled || this.element.data('date-minute-disabled'));\r\n    this.setHoursDisabled(options.hoursDisabled || this.element.data('date-hour-disabled'));\r\n    this.fillDow();\r\n    this.fillMonths();\r\n    this.update();\r\n    this.showMode();\r\n\r\n    if (this.isInline) {\r\n      this.show();\r\n    }\r\n  };\r\n\r\n  Datetimepicker.prototype = {\r\n    constructor: Datetimepicker,\r\n\r\n    _events:       [],\r\n    _attachEvents: function () {\r\n      this._detachEvents();\r\n      if (this.isInput) { // single input\r\n        this._events = [\r\n          [this.element, {\r\n            focus:   $.proxy(this.show, this),\r\n            keyup:   $.proxy(this.update, this),\r\n            keydown: $.proxy(this.keydown, this)\r\n          }]\r\n        ];\r\n      }\r\n      else if (this.component && this.hasInput) { // component: input + button\r\n        this._events = [\r\n          // For components that are not readonly, allow keyboard nav\r\n          [this.element.find('input'), {\r\n            focus:   $.proxy(this.show, this),\r\n            keyup:   $.proxy(this.update, this),\r\n            keydown: $.proxy(this.keydown, this)\r\n          }],\r\n          [this.component, {\r\n            click: $.proxy(this.show, this)\r\n          }]\r\n        ];\r\n        if (this.componentReset) {\r\n          this._events.push([\r\n            this.componentReset,\r\n            {click: $.proxy(this.reset, this)}\r\n          ]);\r\n        }\r\n      }\r\n      else if (this.element.is('div')) {  // inline datetimepicker\r\n        this.isInline = true;\r\n      }\r\n      else {\r\n        this._events = [\r\n          [this.element, {\r\n            click: $.proxy(this.show, this)\r\n          }]\r\n        ];\r\n      }\r\n      for (var i = 0, el, ev; i < this._events.length; i++) {\r\n        el = this._events[i][0];\r\n        ev = this._events[i][1];\r\n        el.on(ev);\r\n      }\r\n    },\r\n\r\n    _detachEvents: function () {\r\n      for (var i = 0, el, ev; i < this._events.length; i++) {\r\n        el = this._events[i][0];\r\n        ev = this._events[i][1];\r\n        el.off(ev);\r\n      }\r\n      this._events = [];\r\n    },\r\n\r\n    show: function (e) {\r\n      this.picker.show();\r\n      this.height = this.component ? this.component.outerHeight() : this.element.outerHeight();\r\n      if (this.forceParse) {\r\n        this.update();\r\n      }\r\n      this.place();\r\n      $(window).on('resize', $.proxy(this.place, this));\r\n      if (e) {\r\n        e.stopPropagation();\r\n        e.preventDefault();\r\n      }\r\n      this.isVisible = true;\r\n      this.element.trigger({\r\n        type: 'show',\r\n        date: this.date\r\n      });\r\n    },\r\n\r\n    hide: function () {\r\n      if (!this.isVisible) return;\r\n      if (this.isInline) return;\r\n      this.picker.hide();\r\n      $(window).off('resize', this.place);\r\n      this.viewMode = this.startViewMode;\r\n      this.showMode();\r\n      if (!this.isInput) {\r\n        $(document).off('mousedown', this.hide);\r\n      }\r\n\r\n      if (\r\n        this.forceParse &&\r\n          (\r\n            this.isInput && this.element.val() ||\r\n              this.hasInput && this.element.find('input').val()\r\n            )\r\n        )\r\n        this.setValue();\r\n      this.isVisible = false;\r\n      this.element.trigger({\r\n        type: 'hide',\r\n        date: this.date\r\n      });\r\n    },\r\n\r\n    remove: function () {\r\n      this._detachEvents();\r\n      $(document).off('mousedown', this.clickedOutside);\r\n      this.picker.remove();\r\n      delete this.picker;\r\n      delete this.element.data().datetimepicker;\r\n    },\r\n\r\n    getDate: function () {\r\n      var d = this.getUTCDate();\r\n      if (d === null) {\r\n        return null;\r\n      }\r\n      return new Date(d.getTime() + (d.getTimezoneOffset() * 60000));\r\n    },\r\n\r\n    getUTCDate: function () {\r\n      return this.date;\r\n    },\r\n\r\n    getInitialDate: function () {\r\n      return this.initialDate\r\n    },\r\n\r\n    setInitialDate: function (initialDate) {\r\n      this.initialDate = initialDate;\r\n    },\r\n\r\n    setDate: function (d) {\r\n      this.setUTCDate(new Date(d.getTime() - (d.getTimezoneOffset() * 60000)));\r\n    },\r\n\r\n    setUTCDate: function (d) {\r\n      if (d >= this.startDate && d <= this.endDate) {\r\n        this.date = d;\r\n        this.setValue();\r\n        this.viewDate = this.date;\r\n        this.fill();\r\n      } else {\r\n        this.element.trigger({\r\n          type:      'outOfRange',\r\n          date:      d,\r\n          startDate: this.startDate,\r\n          endDate:   this.endDate\r\n        });\r\n      }\r\n    },\r\n\r\n    setFormat: function (format) {\r\n      this.format = DPGlobal.parseFormat(format, this.formatType);\r\n      var element;\r\n      if (this.isInput) {\r\n        element = this.element;\r\n      } else if (this.component) {\r\n        element = this.element.find('input');\r\n      }\r\n      if (element && element.val()) {\r\n        this.setValue();\r\n      }\r\n    },\r\n\r\n    setValue: function () {\r\n      var formatted = this.getFormattedDate();\r\n      if (!this.isInput) {\r\n        if (this.component) {\r\n          this.element.find('input').val(formatted);\r\n        }\r\n        this.element.data('date', formatted);\r\n      } else {\r\n        this.element.val(formatted);\r\n      }\r\n      if (this.linkField) {\r\n        $('#' + this.linkField).val(this.getFormattedDate(this.linkFormat));\r\n      }\r\n    },\r\n\r\n    getFormattedDate: function (format) {\r\n      format = format || this.format;\r\n      return DPGlobal.formatDate(this.date, format, this.language, this.formatType, this.timezone);\r\n    },\r\n\r\n    setStartDate: function (startDate) {\r\n      this.startDate = startDate || this.startDate;\r\n      if (this.startDate.valueOf() !== 8639968443048000) {\r\n        this.startDate = DPGlobal.parseDate(this.startDate, this.format, this.language, this.formatType, this.timezone);\r\n      }\r\n      this.update();\r\n      this.updateNavArrows();\r\n    },\r\n\r\n    setEndDate: function (endDate) {\r\n      this.endDate = endDate || this.endDate;\r\n      if (this.endDate.valueOf() !== 8639968443048000) {\r\n        this.endDate = DPGlobal.parseDate(this.endDate, this.format, this.language, this.formatType, this.timezone);\r\n      }\r\n      this.update();\r\n      this.updateNavArrows();\r\n    },\r\n\r\n    setDatesDisabled: function (datesDisabled) {\r\n      this.datesDisabled = datesDisabled || [];\r\n      if (!$.isArray(this.datesDisabled)) {\r\n        this.datesDisabled = this.datesDisabled.split(/,\\s*/);\r\n      }\r\n      var mThis = this;\r\n      this.datesDisabled = $.map(this.datesDisabled, function (d) {\r\n        return DPGlobal.parseDate(d, mThis.format, mThis.language, mThis.formatType, mThis.timezone).toDateString();\r\n      });\r\n      this.update();\r\n      this.updateNavArrows();\r\n    },\r\n\r\n    setTitle: function (selector, value) {\r\n      return this.picker.find(selector)\r\n        .find('th:eq(1)')\r\n        .text(this.title === false ? value : this.title);\r\n    },\r\n\r\n    setDaysOfWeekDisabled: function (daysOfWeekDisabled) {\r\n      this.daysOfWeekDisabled = daysOfWeekDisabled || [];\r\n      if (!$.isArray(this.daysOfWeekDisabled)) {\r\n        this.daysOfWeekDisabled = this.daysOfWeekDisabled.split(/,\\s*/);\r\n      }\r\n      this.daysOfWeekDisabled = $.map(this.daysOfWeekDisabled, function (d) {\r\n        return parseInt(d, 10);\r\n      });\r\n      this.update();\r\n      this.updateNavArrows();\r\n    },\r\n\r\n    setMinutesDisabled: function (minutesDisabled) {\r\n      this.minutesDisabled = minutesDisabled || [];\r\n      if (!$.isArray(this.minutesDisabled)) {\r\n        this.minutesDisabled = this.minutesDisabled.split(/,\\s*/);\r\n      }\r\n      this.minutesDisabled = $.map(this.minutesDisabled, function (d) {\r\n        return parseInt(d, 10);\r\n      });\r\n      this.update();\r\n      this.updateNavArrows();\r\n    },\r\n\r\n    setHoursDisabled: function (hoursDisabled) {\r\n      this.hoursDisabled = hoursDisabled || [];\r\n      if (!$.isArray(this.hoursDisabled)) {\r\n        this.hoursDisabled = this.hoursDisabled.split(/,\\s*/);\r\n      }\r\n      this.hoursDisabled = $.map(this.hoursDisabled, function (d) {\r\n        return parseInt(d, 10);\r\n      });\r\n      this.update();\r\n      this.updateNavArrows();\r\n    },\r\n\r\n    place: function () {\r\n      if (this.isInline) return;\r\n\r\n      if (!this.zIndex) {\r\n        var index_highest = 0;\r\n        $('div').each(function () {\r\n          var index_current = parseInt($(this).css('zIndex'), 10);\r\n          if (index_current > index_highest) {\r\n            index_highest = index_current;\r\n          }\r\n        });\r\n        this.zIndex = index_highest + 10;\r\n      }\r\n\r\n      var offset, top, left, containerOffset;\r\n      if (this.container instanceof $) {\r\n        containerOffset = this.container.offset();\r\n      } else {\r\n        containerOffset = $(this.container).offset();\r\n      }\r\n\r\n      if (this.component) {\r\n        offset = this.component.offset();\r\n        left = offset.left;\r\n        if (this.pickerPosition === 'bottom-left' || this.pickerPosition === 'top-left') {\r\n          left += this.component.outerWidth() - this.picker.outerWidth();\r\n        }\r\n      } else {\r\n        offset = this.element.offset();\r\n        left = offset.left;\r\n        if (this.pickerPosition === 'bottom-left' || this.pickerPosition === 'top-left') {\r\n          left += this.element.outerWidth() - this.picker.outerWidth();\r\n        }\r\n      }\r\n\r\n      var bodyWidth = document.body.clientWidth || window.innerWidth;\r\n      if (left + 220 > bodyWidth) {\r\n        left = bodyWidth - 220;\r\n      }\r\n\r\n      if (this.pickerPosition === 'top-left' || this.pickerPosition === 'top-right') {\r\n        top = offset.top - this.picker.outerHeight();\r\n      } else {\r\n        top = offset.top + this.height;\r\n      }\r\n\r\n      top = top - containerOffset.top;\r\n      left = left - containerOffset.left;\r\n\r\n      this.picker.css({\r\n        top:    top,\r\n        left:   left,\r\n        zIndex: this.zIndex\r\n      });\r\n    },\r\n\r\n    hour_minute: \"^([0-9]|0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]\",\r\n\r\n    update: function () {\r\n      var date, fromArgs = false;\r\n      if (arguments && arguments.length && (typeof arguments[0] === 'string' || arguments[0] instanceof Date)) {\r\n        date = arguments[0];\r\n        fromArgs = true;\r\n      } else {\r\n        date = (this.isInput ? this.element.val() : this.element.find('input').val()) || this.element.data('date') || this.initialDate;\r\n        if (typeof date === 'string') {\r\n          date = date.replace(/^\\s+|\\s+$/g,'');\r\n        }\r\n      }\r\n\r\n      if (!date) {\r\n        date = new Date();\r\n        fromArgs = false;\r\n      }\r\n\r\n      if (typeof date === \"string\") {\r\n        if (new RegExp(this.hour_minute).test(date) || new RegExp(this.hour_minute + \":[0-5][0-9]\").test(date)) {\r\n          date = this.getDate()\r\n        }\r\n      }\r\n\r\n      this.date = DPGlobal.parseDate(date, this.format, this.language, this.formatType, this.timezone);\r\n\r\n      if (fromArgs) this.setValue();\r\n\r\n      if (this.date < this.startDate) {\r\n        this.viewDate = new Date(this.startDate);\r\n      } else if (this.date > this.endDate) {\r\n        this.viewDate = new Date(this.endDate);\r\n      } else {\r\n        this.viewDate = new Date(this.date);\r\n      }\r\n      this.fill();\r\n    },\r\n\r\n    fillDow: function () {\r\n      var dowCnt = this.weekStart,\r\n        html = '<tr>';\r\n      while (dowCnt < this.weekStart + 7) {\r\n        html += '<th class=\"dow\">' + dates[this.language].daysMin[(dowCnt++) % 7] + '</th>';\r\n      }\r\n      html += '</tr>';\r\n      this.picker.find('.datetimepicker-days thead').append(html);\r\n    },\r\n\r\n    fillMonths: function () {\r\n      var html = '';\r\n      var d = new Date(this.viewDate);\r\n      for (var i = 0; i < 12; i++) {\r\n        d.setUTCMonth(i);\r\n        var classes = this.onRenderMonth(d);\r\n        html += '<span class=\"' + classes.join(' ') + '\">' + dates[this.language].monthsShort[i] + '</span>';\r\n      }\r\n      this.picker.find('.datetimepicker-months td').html(html);\r\n    },\r\n\r\n    fill: function () {\r\n      if (!this.date || !this.viewDate) {\r\n        return;\r\n      }\r\n      var d = new Date(this.viewDate),\r\n        year = d.getUTCFullYear(),\r\n        month = d.getUTCMonth(),\r\n        dayMonth = d.getUTCDate(),\r\n        hours = d.getUTCHours(),\r\n        startYear = this.startDate.getUTCFullYear(),\r\n        startMonth = this.startDate.getUTCMonth(),\r\n        endYear = this.endDate.getUTCFullYear(),\r\n        endMonth = this.endDate.getUTCMonth() + 1,\r\n        currentDate = (new UTCDate(this.date.getUTCFullYear(), this.date.getUTCMonth(), this.date.getUTCDate())).valueOf(),\r\n        today = new Date();\r\n      this.setTitle('.datetimepicker-days', year+ 'å¹´ ' +dates[this.language].months[month]+'æ '  )\r\n      if (this.formatViewType === 'time') {\r\n        var formatted = this.getFormattedDate();\r\n        this.setTitle('.datetimepicker-hours', formatted);\r\n        this.setTitle('.datetimepicker-minutes', formatted);\r\n      } else {\r\n        this.setTitle('.datetimepicker-hours', year+ 'å¹´ ' +dates[this.language].months[month]+'æ ' +dayMonth+'æ¥ ');\r\n        this.setTitle('.datetimepicker-minutes', year+ 'å¹´ ' +dates[this.language].months[month]+'æ ' +dayMonth+'æ¥ ');\r\n      }\r\n      this.picker.find('tfoot th.today')\r\n        .text(dates[this.language].today || dates['en'].today)\r\n        .toggle(this.todayBtn !== false);\r\n      this.picker.find('tfoot th.clear')\r\n        .text(dates[this.language].clear || dates['en'].clear)\r\n        .toggle(this.clearBtn !== false);\r\n      this.updateNavArrows();\r\n      this.fillMonths();\r\n      var prevMonth = UTCDate(year, month - 1, 28, 0, 0, 0, 0),\r\n        day = DPGlobal.getDaysInMonth(prevMonth.getUTCFullYear(), prevMonth.getUTCMonth());\r\n      prevMonth.setUTCDate(day);\r\n      prevMonth.setUTCDate(day - (prevMonth.getUTCDay() - this.weekStart + 7) % 7);\r\n      var nextMonth = new Date(prevMonth);\r\n      nextMonth.setUTCDate(nextMonth.getUTCDate() + 42);\r\n      nextMonth = nextMonth.valueOf();\r\n      var html = [];\r\n      var classes;\r\n      while (prevMonth.valueOf() < nextMonth) {\r\n        if (prevMonth.getUTCDay() === this.weekStart) {\r\n          html.push('<tr>');\r\n        }\r\n        classes = this.onRenderDay(prevMonth);\r\n        if (prevMonth.getUTCFullYear() < year || (prevMonth.getUTCFullYear() === year && prevMonth.getUTCMonth() < month)) {\r\n          classes.push('old');\r\n        } else if (prevMonth.getUTCFullYear() > year || (prevMonth.getUTCFullYear() === year && prevMonth.getUTCMonth() > month)) {\r\n          classes.push('new');\r\n        }\r\n        // Compare internal UTC date with local today, not UTC today\r\n        if (this.todayHighlight &&\r\n          prevMonth.getUTCFullYear() === today.getFullYear() &&\r\n          prevMonth.getUTCMonth() === today.getMonth() &&\r\n          prevMonth.getUTCDate() === today.getDate()) {\r\n          classes.push('today');\r\n        }\r\n        if (prevMonth.valueOf() === currentDate) {\r\n          classes.push('active');\r\n        }\r\n        if ((prevMonth.valueOf() + 86400000) <= this.startDate || prevMonth.valueOf() > this.endDate ||\r\n          $.inArray(prevMonth.getUTCDay(), this.daysOfWeekDisabled) !== -1 ||\r\n          $.inArray(prevMonth.toDateString(), this.datesDisabled) !== -1) {\r\n          classes.push('disabled');\r\n        }\r\n        html.push('<td class=\"' + classes.join(' ') + '\">' + prevMonth.getUTCDate() + '</td>');\r\n        if (prevMonth.getUTCDay() === this.weekEnd) {\r\n          html.push('</tr>');\r\n        }\r\n        prevMonth.setUTCDate(prevMonth.getUTCDate() + 1);\r\n      }\r\n      this.picker.find('.datetimepicker-days tbody').empty().append(html.join(''));\r\n\r\n      html = [];\r\n      var txt = '', meridian = '', meridianOld = '';\r\n      var hoursDisabled = this.hoursDisabled || [];\r\n      d = new Date(this.viewDate)\r\n      for (var i = 0; i < 24; i++) {\r\n        d.setUTCHours(i);\r\n        classes = this.onRenderHour(d);\r\n        if (hoursDisabled.indexOf(i) !== -1) {\r\n          classes.push('disabled');\r\n        }\r\n        var actual = UTCDate(year, month, dayMonth, i);\r\n        // We want the previous hour for the startDate\r\n        if ((actual.valueOf() + 3600000) <= this.startDate || actual.valueOf() > this.endDate) {\r\n          classes.push('disabled');\r\n        } else if (hours === i) {\r\n          classes.push('active');\r\n        }\r\n        if (this.showMeridian && dates[this.language].meridiem.length === 2) {\r\n          meridian = (i < 12 ? dates[this.language].meridiem[0] : dates[this.language].meridiem[1]);\r\n          if (meridian !== meridianOld) {\r\n            if (meridianOld !== '') {\r\n              html.push('</fieldset>');\r\n            }\r\n            html.push('<fieldset class=\"hour\"><legend>' + meridian.toUpperCase() + '</legend>');\r\n          }\r\n          meridianOld = meridian;\r\n          txt = (i % 12 ? i % 12 : 12);\r\n          if (i < 12) {\r\n            classes.push('hour_am');\r\n          } else {\r\n            classes.push('hour_pm');\r\n          }\r\n          html.push('<span class=\"' + classes.join(' ') + '\">' + txt + '</span>');\r\n          if (i === 23) {\r\n            html.push('</fieldset>');\r\n          }\r\n        } else {\r\n          txt = i + ':00';\r\n          html.push('<span class=\"' + classes.join(' ') + '\">' + txt + '</span>');\r\n        }\r\n      }\r\n      this.picker.find('.datetimepicker-hours td').html(html.join(''));\r\n\r\n      html = [];\r\n      txt = '';\r\n      meridian = '';\r\n      meridianOld = '';\r\n      var minutesDisabled = this.minutesDisabled || [];\r\n      d = new Date(this.viewDate);\r\n      for (var i = 0; i < 60; i += this.minuteStep) {\r\n        if (minutesDisabled.indexOf(i) !== -1) continue;\r\n        d.setUTCMinutes(i);\r\n        d.setUTCSeconds(0);\r\n        classes = this.onRenderMinute(d);\r\n        if (this.showMeridian && dates[this.language].meridiem.length === 2) {\r\n          meridian = (hours < 12 ? dates[this.language].meridiem[0] : dates[this.language].meridiem[1]);\r\n          if (meridian !== meridianOld) {\r\n            if (meridianOld !== '') {\r\n              html.push('</fieldset>');\r\n            }\r\n            html.push('<fieldset class=\"minute\"><legend>' + meridian.toUpperCase() + '</legend>');\r\n          }\r\n          meridianOld = meridian;\r\n          txt = (hours % 12 ? hours % 12 : 12);\r\n          html.push('<span class=\"' + classes.join(' ') + '\">' + txt + ':' + (i < 10 ? '0' + i : i) + '</span>');\r\n          if (i === 59) {\r\n            html.push('</fieldset>');\r\n          }\r\n        } else {\r\n          txt = i + ':00';\r\n          html.push('<span class=\"' + classes.join(' ') + '\">' + hours + ':' + (i < 10 ? '0' + i : i) + '</span>');\r\n        }\r\n      }\r\n      this.picker.find('.datetimepicker-minutes td').html(html.join(''));\r\n\r\n      var currentYear = this.date.getUTCFullYear();\r\n      var months = this.setTitle('.datetimepicker-months', year)\r\n        .end()\r\n        .find('.month').removeClass('active');\r\n      if (currentYear === year) {\r\n        // getUTCMonths() returns 0 based, and we need to select the next one\r\n        // To cater bootstrap 2 we don't need to select the next one\r\n        months.eq(this.date.getUTCMonth()).addClass('active');\r\n      }\r\n      if (year < startYear || year > endYear) {\r\n        months.addClass('disabled');\r\n      }\r\n      if (year === startYear) {\r\n        months.slice(0, startMonth).addClass('disabled');\r\n      }\r\n      if (year === endYear) {\r\n        months.slice(endMonth).addClass('disabled');\r\n      }\r\n\r\n      html = '';\r\n      year = parseInt(year / 10, 10) * 10;\r\n      var yearCont = this.setTitle('.datetimepicker-years', year + '-' + (year + 9))\r\n        .end()\r\n        .find('td');\r\n      year -= 1;\r\n      d = new Date(this.viewDate);\r\n      for (var i = -1; i < 11; i++) {\r\n        d.setUTCFullYear(year);\r\n        classes = this.onRenderYear(d);\r\n        if (i === -1 || i === 10) {\r\n          classes.push(old);\r\n        }\r\n        html += '<span class=\"' + classes.join(' ') + '\">' + year + '</span>';\r\n        year += 1;\r\n      }\r\n      yearCont.html(html);\r\n      this.place();\r\n    },\r\n\r\n    updateNavArrows: function () {\r\n      var d = new Date(this.viewDate),\r\n        year = d.getUTCFullYear(),\r\n        month = d.getUTCMonth(),\r\n        day = d.getUTCDate(),\r\n        hour = d.getUTCHours();\r\n      switch (this.viewMode) {\r\n        case 0:\r\n          if (year <= this.startDate.getUTCFullYear()\r\n            && month <= this.startDate.getUTCMonth()\r\n            && day <= this.startDate.getUTCDate()\r\n            && hour <= this.startDate.getUTCHours()) {\r\n            this.picker.find('.prev').css({visibility: 'hidden'});\r\n          } else {\r\n            this.picker.find('.prev').css({visibility: 'visible'});\r\n          }\r\n          if (year >= this.endDate.getUTCFullYear()\r\n            && month >= this.endDate.getUTCMonth()\r\n            && day >= this.endDate.getUTCDate()\r\n            && hour >= this.endDate.getUTCHours()) {\r\n            this.picker.find('.next').css({visibility: 'hidden'});\r\n          } else {\r\n            this.picker.find('.next').css({visibility: 'visible'});\r\n          }\r\n          break;\r\n        case 1:\r\n          if (year <= this.startDate.getUTCFullYear()\r\n            && month <= this.startDate.getUTCMonth()\r\n            && day <= this.startDate.getUTCDate()) {\r\n            this.picker.find('.prev').css({visibility: 'hidden'});\r\n          } else {\r\n            this.picker.find('.prev').css({visibility: 'visible'});\r\n          }\r\n          if (year >= this.endDate.getUTCFullYear()\r\n            && month >= this.endDate.getUTCMonth()\r\n            && day >= this.endDate.getUTCDate()) {\r\n            this.picker.find('.next').css({visibility: 'hidden'});\r\n          } else {\r\n            this.picker.find('.next').css({visibility: 'visible'});\r\n          }\r\n          break;\r\n        case 2:\r\n          if (year <= this.startDate.getUTCFullYear()\r\n            && month <= this.startDate.getUTCMonth()) {\r\n            this.picker.find('.prev').css({visibility: 'hidden'});\r\n          } else {\r\n            this.picker.find('.prev').css({visibility: 'visible'});\r\n          }\r\n          if (year >= this.endDate.getUTCFullYear()\r\n            && month >= this.endDate.getUTCMonth()) {\r\n            this.picker.find('.next').css({visibility: 'hidden'});\r\n          } else {\r\n            this.picker.find('.next').css({visibility: 'visible'});\r\n          }\r\n          break;\r\n        case 3:\r\n        case 4:\r\n          if (year <= this.startDate.getUTCFullYear()) {\r\n            this.picker.find('.prev').css({visibility: 'hidden'});\r\n          } else {\r\n            this.picker.find('.prev').css({visibility: 'visible'});\r\n          }\r\n          if (year >= this.endDate.getUTCFullYear()) {\r\n            this.picker.find('.next').css({visibility: 'hidden'});\r\n          } else {\r\n            this.picker.find('.next').css({visibility: 'visible'});\r\n          }\r\n          break;\r\n      }\r\n    },\r\n\r\n    mousewheel: function (e) {\r\n\r\n      e.preventDefault();\r\n      e.stopPropagation();\r\n\r\n      if (this.wheelPause) {\r\n        return;\r\n      }\r\n\r\n      this.wheelPause = true;\r\n\r\n      var originalEvent = e.originalEvent;\r\n\r\n      var delta = originalEvent.wheelDelta;\r\n\r\n      var mode = delta > 0 ? 1 : (delta === 0) ? 0 : -1;\r\n\r\n      if (this.wheelViewModeNavigationInverseDirection) {\r\n        mode = -mode;\r\n      }\r\n\r\n      this.showMode(mode);\r\n\r\n      setTimeout($.proxy(function () {\r\n\r\n        this.wheelPause = false\r\n\r\n      }, this), this.wheelViewModeNavigationDelay);\r\n\r\n    },\r\n\r\n    click: function (e) {\r\n      e.stopPropagation();\r\n      e.preventDefault();\r\n      var target = $(e.target).closest('span, td, th, legend');\r\n      if (target.is('.' + this.icontype)) {\r\n        target = $(target).parent().closest('span, td, th, legend');\r\n      }\r\n      if (target.length === 1) {\r\n        if (target.is('.disabled')) {\r\n          this.element.trigger({\r\n            type:      'outOfRange',\r\n            date:      this.viewDate,\r\n            startDate: this.startDate,\r\n            endDate:   this.endDate\r\n          });\r\n          return;\r\n        }\r\n        switch (target[0].nodeName.toLowerCase()) {\r\n          case 'th':\r\n            switch (target[0].className) {\r\n              case 'switch':\r\n                this.showMode(1);\r\n                break;\r\n              case 'prev':\r\n              case 'next':\r\n                var dir = DPGlobal.modes[this.viewMode].navStep * (target[0].className === 'prev' ? -1 : 1);\r\n                switch (this.viewMode) {\r\n                  case 0:\r\n                    this.viewDate = this.moveHour(this.viewDate, dir);\r\n                    break;\r\n                  case 1:\r\n                    this.viewDate = this.moveDate(this.viewDate, dir);\r\n                    break;\r\n                  case 2:\r\n                    this.viewDate = this.moveMonth(this.viewDate, dir);\r\n                    break;\r\n                  case 3:\r\n                  case 4:\r\n                    this.viewDate = this.moveYear(this.viewDate, dir);\r\n                    break;\r\n                }\r\n                this.fill();\r\n                this.element.trigger({\r\n                  type:      target[0].className + ':' + this.convertViewModeText(this.viewMode),\r\n                  date:      this.viewDate,\r\n                  startDate: this.startDate,\r\n                  endDate:   this.endDate\r\n                });\r\n                break;\r\n              case 'clear':\r\n                this.reset();\r\n                if (this.autoclose) {\r\n                  this.hide();\r\n                }\r\n                break;\r\n              case 'today':\r\n                var date = new Date();\r\n                date = UTCDate(date.getFullYear(), date.getMonth(), date.getDate(), date.getHours(), date.getMinutes(), date.getSeconds(), 0);\r\n\r\n                // Respect startDate and endDate.\r\n                if (date < this.startDate) date = this.startDate;\r\n                else if (date > this.endDate) date = this.endDate;\r\n\r\n                this.viewMode = this.startViewMode;\r\n                this.showMode(0);\r\n                this._setDate(date);\r\n                this.fill();\r\n                if (this.autoclose) {\r\n                  this.hide();\r\n                }\r\n                break;\r\n            }\r\n            break;\r\n          case 'span':\r\n            if (!target.is('.disabled')) {\r\n              var year = this.viewDate.getUTCFullYear(),\r\n                month = this.viewDate.getUTCMonth(),\r\n                day = this.viewDate.getUTCDate(),\r\n                hours = this.viewDate.getUTCHours(),\r\n                minutes = this.viewDate.getUTCMinutes(),\r\n                seconds = this.viewDate.getUTCSeconds();\r\n\r\n              if (target.is('.month')) {\r\n                this.viewDate.setUTCDate(1);\r\n                month = target.parent().find('span').index(target);\r\n                day = this.viewDate.getUTCDate();\r\n                this.viewDate.setUTCMonth(month);\r\n                this.element.trigger({\r\n                  type: 'changeMonth',\r\n                  date: this.viewDate\r\n                });\r\n                if (this.viewSelect >= 3) {\r\n                  this._setDate(UTCDate(year, month, day, hours, minutes, seconds, 0));\r\n                }\r\n              } else if (target.is('.year')) {\r\n                this.viewDate.setUTCDate(1);\r\n                year = parseInt(target.text(), 10) || 0;\r\n                this.viewDate.setUTCFullYear(year);\r\n                this.element.trigger({\r\n                  type: 'changeYear',\r\n                  date: this.viewDate\r\n                });\r\n                if (this.viewSelect >= 4) {\r\n                  this._setDate(UTCDate(year, month, day, hours, minutes, seconds, 0));\r\n                }\r\n              } else if (target.is('.hour')) {\r\n                hours = parseInt(target.text(), 10) || 0;\r\n                if (target.hasClass('hour_am') || target.hasClass('hour_pm')) {\r\n                  if (hours === 12 && target.hasClass('hour_am')) {\r\n                    hours = 0;\r\n                  } else if (hours !== 12 && target.hasClass('hour_pm')) {\r\n                    hours += 12;\r\n                  }\r\n                }\r\n                this.viewDate.setUTCHours(hours);\r\n                this.element.trigger({\r\n                  type: 'changeHour',\r\n                  date: this.viewDate\r\n                });\r\n                if (this.viewSelect >= 1) {\r\n                  this._setDate(UTCDate(year, month, day, hours, minutes, seconds, 0));\r\n                }\r\n              } else if (target.is('.minute')) {\r\n                minutes = parseInt(target.text().substr(target.text().indexOf(':') + 1), 10) || 0;\r\n                this.viewDate.setUTCMinutes(minutes);\r\n                this.element.trigger({\r\n                  type: 'changeMinute',\r\n                  date: this.viewDate\r\n                });\r\n                if (this.viewSelect >= 0) {\r\n                  this._setDate(UTCDate(year, month, day, hours, minutes, seconds, 0));\r\n                }\r\n              }\r\n              if (this.viewMode !== 0) {\r\n                var oldViewMode = this.viewMode;\r\n                this.showMode(-1);\r\n                this.fill();\r\n                if (oldViewMode === this.viewMode && this.autoclose) {\r\n                  this.hide();\r\n                }\r\n              } else {\r\n                this.fill();\r\n                if (this.autoclose) {\r\n                  this.hide();\r\n                }\r\n              }\r\n            }\r\n            break;\r\n          case 'td':\r\n            if (target.is('.day') && !target.is('.disabled')) {\r\n              var day = parseInt(target.text(), 10) || 1;\r\n              var year = this.viewDate.getUTCFullYear(),\r\n                month = this.viewDate.getUTCMonth(),\r\n                hours = this.viewDate.getUTCHours(),\r\n                minutes = this.viewDate.getUTCMinutes(),\r\n                seconds = this.viewDate.getUTCSeconds();\r\n              if (target.is('.old')) {\r\n                if (month === 0) {\r\n                  month = 11;\r\n                  year -= 1;\r\n                } else {\r\n                  month -= 1;\r\n                }\r\n              } else if (target.is('.new')) {\r\n                if (month === 11) {\r\n                  month = 0;\r\n                  year += 1;\r\n                } else {\r\n                  month += 1;\r\n                }\r\n              }\r\n              this.viewDate.setUTCFullYear(year);\r\n              this.viewDate.setUTCMonth(month, day);\r\n              this.element.trigger({\r\n                type: 'changeDay',\r\n                date: this.viewDate\r\n              });\r\n              if (this.viewSelect >= 2) {\r\n                this._setDate(UTCDate(year, month, day, hours, minutes, seconds, 0));\r\n              }\r\n            }\r\n            var oldViewMode = this.viewMode;\r\n            this.showMode(-1);\r\n            this.fill();\r\n            if (oldViewMode === this.viewMode && this.autoclose) {\r\n              this.hide();\r\n            }\r\n            break;\r\n        }\r\n      }\r\n    },\r\n\r\n    _setDate: function (date, which) {\r\n      if (!which || which === 'date')\r\n        this.date = date;\r\n      if (!which || which === 'view')\r\n        this.viewDate = date;\r\n      this.fill();\r\n      this.setValue();\r\n      var element;\r\n      if (this.isInput) {\r\n        element = this.element;\r\n      } else if (this.component) {\r\n        element = this.element.find('input');\r\n      }\r\n      if (element) {\r\n        element.change();\r\n      }\r\n      this.element.trigger({\r\n        type: 'changeDate',\r\n        date: this.getDate()\r\n      });\r\n      if(date === null)\r\n        this.date = this.viewDate;\r\n    },\r\n\r\n    moveMinute: function (date, dir) {\r\n      if (!dir) return date;\r\n      var new_date = new Date(date.valueOf());\r\n      //dir = dir > 0 ? 1 : -1;\r\n      new_date.setUTCMinutes(new_date.getUTCMinutes() + (dir * this.minuteStep));\r\n      return new_date;\r\n    },\r\n\r\n    moveHour: function (date, dir) {\r\n      if (!dir) return date;\r\n      var new_date = new Date(date.valueOf());\r\n      //dir = dir > 0 ? 1 : -1;\r\n      new_date.setUTCHours(new_date.getUTCHours() + dir);\r\n      return new_date;\r\n    },\r\n\r\n    moveDate: function (date, dir) {\r\n      if (!dir) return date;\r\n      var new_date = new Date(date.valueOf());\r\n      //dir = dir > 0 ? 1 : -1;\r\n      new_date.setUTCDate(new_date.getUTCDate() + dir);\r\n      return new_date;\r\n    },\r\n\r\n    moveMonth: function (date, dir) {\r\n      if (!dir) return date;\r\n      var new_date = new Date(date.valueOf()),\r\n        day = new_date.getUTCDate(),\r\n        month = new_date.getUTCMonth(),\r\n        mag = Math.abs(dir),\r\n        new_month, test;\r\n      dir = dir > 0 ? 1 : -1;\r\n      if (mag === 1) {\r\n        test = dir === -1\r\n          // If going back one month, make sure month is not current month\r\n          // (eg, Mar 31 -> Feb 31 === Feb 28, not Mar 02)\r\n          ? function () {\r\n          return new_date.getUTCMonth() === month;\r\n        }\r\n          // If going forward one month, make sure month is as expected\r\n          // (eg, Jan 31 -> Feb 31 === Feb 28, not Mar 02)\r\n          : function () {\r\n          return new_date.getUTCMonth() !== new_month;\r\n        };\r\n        new_month = month + dir;\r\n        new_date.setUTCMonth(new_month);\r\n        // Dec -> Jan (12) or Jan -> Dec (-1) -- limit expected date to 0-11\r\n        if (new_month < 0 || new_month > 11)\r\n          new_month = (new_month + 12) % 12;\r\n      } else {\r\n        // For magnitudes >1, move one month at a time...\r\n        for (var i = 0; i < mag; i++)\r\n          // ...which might decrease the day (eg, Jan 31 to Feb 28, etc)...\r\n          new_date = this.moveMonth(new_date, dir);\r\n        // ...then reset the day, keeping it in the new month\r\n        new_month = new_date.getUTCMonth();\r\n        new_date.setUTCDate(day);\r\n        test = function () {\r\n          return new_month !== new_date.getUTCMonth();\r\n        };\r\n      }\r\n      // Common date-resetting loop -- if date is beyond end of month, make it\r\n      // end of month\r\n      while (test()) {\r\n        new_date.setUTCDate(--day);\r\n        new_date.setUTCMonth(new_month);\r\n      }\r\n      return new_date;\r\n    },\r\n\r\n    moveYear: function (date, dir) {\r\n      return this.moveMonth(date, dir * 12);\r\n    },\r\n\r\n    dateWithinRange: function (date) {\r\n      return date >= this.startDate && date <= this.endDate;\r\n    },\r\n\r\n    keydown: function (e) {\r\n      if (this.picker.is(':not(:visible)')) {\r\n        if (e.keyCode === 27) // allow escape to hide and re-show picker\r\n          this.show();\r\n        return;\r\n      }\r\n      var dateChanged = false,\r\n        dir, newDate, newViewDate;\r\n      switch (e.keyCode) {\r\n        case 27: // escape\r\n          this.hide();\r\n          e.preventDefault();\r\n          break;\r\n        case 37: // left\r\n        case 39: // right\r\n          if (!this.keyboardNavigation) break;\r\n          dir = e.keyCode === 37 ? -1 : 1;\r\n          var viewMode = this.viewMode;\r\n          if (e.ctrlKey) {\r\n            viewMode += 2;\r\n          } else if (e.shiftKey) {\r\n            viewMode += 1;\r\n          }\r\n          if (viewMode === 4) {\r\n            newDate = this.moveYear(this.date, dir);\r\n            newViewDate = this.moveYear(this.viewDate, dir);\r\n          } else if (viewMode === 3) {\r\n            newDate = this.moveMonth(this.date, dir);\r\n            newViewDate = this.moveMonth(this.viewDate, dir);\r\n          } else if (viewMode === 2) {\r\n            newDate = this.moveDate(this.date, dir);\r\n            newViewDate = this.moveDate(this.viewDate, dir);\r\n          } else if (viewMode === 1) {\r\n            newDate = this.moveHour(this.date, dir);\r\n            newViewDate = this.moveHour(this.viewDate, dir);\r\n          } else if (viewMode === 0) {\r\n            newDate = this.moveMinute(this.date, dir);\r\n            newViewDate = this.moveMinute(this.viewDate, dir);\r\n          }\r\n          if (this.dateWithinRange(newDate)) {\r\n            this.date = newDate;\r\n            this.viewDate = newViewDate;\r\n            this.setValue();\r\n            this.update();\r\n            e.preventDefault();\r\n            dateChanged = true;\r\n          }\r\n          break;\r\n        case 38: // up\r\n        case 40: // down\r\n          if (!this.keyboardNavigation) break;\r\n          dir = e.keyCode === 38 ? -1 : 1;\r\n          viewMode = this.viewMode;\r\n          if (e.ctrlKey) {\r\n            viewMode += 2;\r\n          } else if (e.shiftKey) {\r\n            viewMode += 1;\r\n          }\r\n          if (viewMode === 4) {\r\n            newDate = this.moveYear(this.date, dir);\r\n            newViewDate = this.moveYear(this.viewDate, dir);\r\n          } else if (viewMode === 3) {\r\n            newDate = this.moveMonth(this.date, dir);\r\n            newViewDate = this.moveMonth(this.viewDate, dir);\r\n          } else if (viewMode === 2) {\r\n            newDate = this.moveDate(this.date, dir * 7);\r\n            newViewDate = this.moveDate(this.viewDate, dir * 7);\r\n          } else if (viewMode === 1) {\r\n            if (this.showMeridian) {\r\n              newDate = this.moveHour(this.date, dir * 6);\r\n              newViewDate = this.moveHour(this.viewDate, dir * 6);\r\n            } else {\r\n              newDate = this.moveHour(this.date, dir * 4);\r\n              newViewDate = this.moveHour(this.viewDate, dir * 4);\r\n            }\r\n          } else if (viewMode === 0) {\r\n            newDate = this.moveMinute(this.date, dir * 4);\r\n            newViewDate = this.moveMinute(this.viewDate, dir * 4);\r\n          }\r\n          if (this.dateWithinRange(newDate)) {\r\n            this.date = newDate;\r\n            this.viewDate = newViewDate;\r\n            this.setValue();\r\n            this.update();\r\n            e.preventDefault();\r\n            dateChanged = true;\r\n          }\r\n          break;\r\n        case 13: // enter\r\n          if (this.viewMode !== 0) {\r\n            var oldViewMode = this.viewMode;\r\n            this.showMode(-1);\r\n            this.fill();\r\n            if (oldViewMode === this.viewMode && this.autoclose) {\r\n              this.hide();\r\n            }\r\n          } else {\r\n            this.fill();\r\n            if (this.autoclose) {\r\n              this.hide();\r\n            }\r\n          }\r\n          e.preventDefault();\r\n          break;\r\n        case 9: // tab\r\n          this.hide();\r\n          break;\r\n      }\r\n      if (dateChanged) {\r\n        var element;\r\n        if (this.isInput) {\r\n          element = this.element;\r\n        } else if (this.component) {\r\n          element = this.element.find('input');\r\n        }\r\n        if (element) {\r\n          element.change();\r\n        }\r\n        this.element.trigger({\r\n          type: 'changeDate',\r\n          date: this.getDate()\r\n        });\r\n      }\r\n    },\r\n\r\n    showMode: function (dir) {\r\n      if (dir) {\r\n        var newViewMode = Math.max(0, Math.min(DPGlobal.modes.length - 1, this.viewMode + dir));\r\n        if (newViewMode >= this.minView && newViewMode <= this.maxView) {\r\n          this.element.trigger({\r\n            type:        'changeMode',\r\n            date:        this.viewDate,\r\n            oldViewMode: this.viewMode,\r\n            newViewMode: newViewMode\r\n          });\r\n\r\n          this.viewMode = newViewMode;\r\n        }\r\n      }\r\n      /*\r\n       vitalets: fixing bug of very special conditions:\r\n       jquery 1.7.1 + webkit + show inline datetimepicker in bootstrap popover.\r\n       Method show() does not set display css correctly and datetimepicker is not shown.\r\n       Changed to .css('display', 'block') solve the problem.\r\n       See https://github.com/vitalets/x-editable/issues/37\r\n\r\n       In jquery 1.7.2+ everything works fine.\r\n       */\r\n      //this.picker.find('>div').hide().filter('.datetimepicker-'+DPGlobal.modes[this.viewMode].clsName).show();\r\n      this.picker.find('>div').hide().filter('.datetimepicker-' + DPGlobal.modes[this.viewMode].clsName).css('display', 'block');\r\n      this.updateNavArrows();\r\n    },\r\n\r\n    reset: function () {\r\n      this._setDate(null, 'date');\r\n    },\r\n\r\n    convertViewModeText:  function (viewMode) {\r\n      switch (viewMode) {\r\n        case 4:\r\n          return 'decade';\r\n        case 3:\r\n          return 'year';\r\n        case 2:\r\n          return 'month';\r\n        case 1:\r\n          return 'day';\r\n        case 0:\r\n          return 'hour';\r\n      }\r\n    }\r\n  };\r\n\r\n  var old = $.fn.datetimepicker;\r\n  $.fn.datetimepicker = function (option) {\r\n    var args = Array.apply(null, arguments);\r\n    args.shift();\r\n    var internal_return;\r\n    this.each(function () {\r\n      var $this = $(this),\r\n        data = $this.data('datetimepicker'),\r\n        options = typeof option === 'object' && option;\r\n      if (!data) {\r\n        $this.data('datetimepicker', (data = new Datetimepicker(this, $.extend({}, $.fn.datetimepicker.defaults, options))));\r\n      }\r\n      if (typeof option === 'string' && typeof data[option] === 'function') {\r\n        internal_return = data[option].apply(data, args);\r\n        if (internal_return !== undefined) {\r\n          return false;\r\n        }\r\n      }\r\n    });\r\n    if (internal_return !== undefined)\r\n      return internal_return;\r\n    else\r\n      return this;\r\n  };\r\n\r\n  $.fn.datetimepicker.defaults = {\r\n  };\r\n  $.fn.datetimepicker.Constructor = Datetimepicker;\r\n  var dates = $.fn.datetimepicker.dates = {\r\n    en: {\r\n      days:        ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday'],\r\n      daysShort:   ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],\r\n      daysMin:     ['Su', 'Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa', 'Su'],\r\n      months:      ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'],\r\n      monthsShort: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],\r\n      meridiem:    ['am', 'pm'],\r\n      suffix:      ['st', 'nd', 'rd', 'th'],\r\n      today:       'Today',\r\n      clear:       'Clear'\r\n    },\r\n    jp: {\r\n      days:        ['æ¥', 'æ', 'ç«', 'æ°´', 'æ¨', 'é', 'å', 'æ¥'],\r\n      daysShort:   ['æ¥', 'æ', 'ç«', 'æ°´', 'æ¨', 'é', 'å', 'æ¥'],\r\n      daysMin:     ['æ¥', 'æ', 'ç«', 'æ°´', 'æ¨', 'é', 'å', 'æ¥'],\r\n      months:      ['1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12'],\r\n      monthsShort: ['1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12'],\r\n      meridiem:    ['am', 'pm'],\r\n      suffix:      ['st', 'nd', 'rd', 'th'],\r\n      today:       'ç¾å¨',\r\n      clear:       'Clear'\r\n    },\r\n  };\r\n\r\n  var DPGlobal = {\r\n    modes:            [\r\n      {\r\n        clsName: 'minutes',\r\n        navFnc:  'Hours',\r\n        navStep: 1\r\n      },\r\n      {\r\n        clsName: 'hours',\r\n        navFnc:  'Date',\r\n        navStep: 1\r\n      },\r\n      {\r\n        clsName: 'days',\r\n        navFnc:  'Month',\r\n        navStep: 1\r\n      },\r\n      {\r\n        clsName: 'months',\r\n        navFnc:  'FullYear',\r\n        navStep: 1\r\n      },\r\n      {\r\n        clsName: 'years',\r\n        navFnc:  'FullYear',\r\n        navStep: 10\r\n      }\r\n    ],\r\n    isLeapYear:       function (year) {\r\n      return (((year % 4 === 0) && (year % 100 !== 0)) || (year % 400 === 0))\r\n    },\r\n    getDaysInMonth:   function (year, month) {\r\n      return [31, (DPGlobal.isLeapYear(year) ? 29 : 28), 31, 30, 31, 30, 31, 31, 30, 31, 30, 31][month]\r\n    },\r\n    getDefaultFormat: function (type, field) {\r\n      if (type === 'standard') {\r\n        if (field === 'input')\r\n          return 'yyyy-mm-dd hh:ii';\r\n        else\r\n          return 'yyyy-mm-dd hh:ii:ss';\r\n      } else if (type === 'php') {\r\n        if (field === 'input')\r\n          return 'Y-m-d H:i';\r\n        else\r\n          return 'Y-m-d H:i:s';\r\n      } else {\r\n        throw new Error('Invalid format type.');\r\n      }\r\n    },\r\n    validParts: function (type) {\r\n      if (type === 'standard') {\r\n        return /t|hh?|HH?|p|P|z|Z|ii?|ss?|dd?|DD?|mm?|MM?|yy(?:yy)?/g;\r\n      } else if (type === 'php') {\r\n        return /[dDjlNwzFmMnStyYaABgGhHis]/g;\r\n      } else {\r\n        throw new Error('Invalid format type.');\r\n      }\r\n    },\r\n    nonpunctuation: /[^ -\\/:-@\\[-`{-~\\t\\n\\rTZ]+/g,\r\n    parseFormat: function (format, type) {\r\n      // IE treats \\0 as a string end in inputs (truncating the value),\r\n      // so it's a bad format delimiter, anyway\r\n      var separators = format.replace(this.validParts(type), '\\0').split('\\0'),\r\n        parts = format.match(this.validParts(type));\r\n      if (!separators || !separators.length || !parts || parts.length === 0) {\r\n        throw new Error('Invalid date format.');\r\n      }\r\n      return {separators: separators, parts: parts};\r\n    },\r\n    parseDate: function (date, format, language, type, timezone) {\r\n      if (date instanceof Date) {\r\n        var dateUTC = new Date(date.valueOf() - date.getTimezoneOffset() * 60000);\r\n        dateUTC.setMilliseconds(0);\r\n        return dateUTC;\r\n      }\r\n      if (/^\\d{4}\\-\\d{1,2}\\-\\d{1,2}$/.test(date)) {\r\n        format = this.parseFormat('yyyy-mm-dd', type);\r\n      }\r\n      if (/^\\d{4}\\-\\d{1,2}\\-\\d{1,2}[T ]\\d{1,2}\\:\\d{1,2}$/.test(date)) {\r\n        format = this.parseFormat('yyyy-mm-dd hh:ii', type);\r\n      }\r\n      if (/^\\d{4}\\-\\d{1,2}\\-\\d{1,2}[T ]\\d{1,2}\\:\\d{1,2}\\:\\d{1,2}[Z]{0,1}$/.test(date)) {\r\n        format = this.parseFormat('yyyy-mm-dd hh:ii:ss', type);\r\n      }\r\n      if (/^[-+]\\d+[dmwy]([\\s,]+[-+]\\d+[dmwy])*$/.test(date)) {\r\n        var part_re = /([-+]\\d+)([dmwy])/,\r\n          parts = date.match(/([-+]\\d+)([dmwy])/g),\r\n          part, dir;\r\n        date = new Date();\r\n        for (var i = 0; i < parts.length; i++) {\r\n          part = part_re.exec(parts[i]);\r\n          dir = parseInt(part[1]);\r\n          switch (part[2]) {\r\n            case 'd':\r\n              date.setUTCDate(date.getUTCDate() + dir);\r\n              break;\r\n            case 'm':\r\n              date = Datetimepicker.prototype.moveMonth.call(Datetimepicker.prototype, date, dir);\r\n              break;\r\n            case 'w':\r\n              date.setUTCDate(date.getUTCDate() + dir * 7);\r\n              break;\r\n            case 'y':\r\n              date = Datetimepicker.prototype.moveYear.call(Datetimepicker.prototype, date, dir);\r\n              break;\r\n          }\r\n        }\r\n        return UTCDate(date.getUTCFullYear(), date.getUTCMonth(), date.getUTCDate(), date.getUTCHours(), date.getUTCMinutes(), date.getUTCSeconds(), 0);\r\n      }\r\n      var parts = date && date.toString().match(this.nonpunctuation) || [],\r\n        date = new Date(0, 0, 0, 0, 0, 0, 0),\r\n        parsed = {},\r\n        setters_order = ['hh', 'h', 'ii', 'i', 'ss', 's', 'yyyy', 'yy', 'M', 'MM', 'm', 'mm', 'D', 'DD', 'd', 'dd', 'H', 'HH', 'p', 'P', 'z', 'Z'],\r\n        setters_map = {\r\n          hh:   function (d, v) {\r\n            return d.setUTCHours(v);\r\n          },\r\n          h:    function (d, v) {\r\n            return d.setUTCHours(v);\r\n          },\r\n          HH:   function (d, v) {\r\n            return d.setUTCHours(v === 12 ? 0 : v);\r\n          },\r\n          H:    function (d, v) {\r\n            return d.setUTCHours(v === 12 ? 0 : v);\r\n          },\r\n          ii:   function (d, v) {\r\n            return d.setUTCMinutes(v);\r\n          },\r\n          i:    function (d, v) {\r\n            return d.setUTCMinutes(v);\r\n          },\r\n          ss:   function (d, v) {\r\n            return d.setUTCSeconds(v);\r\n          },\r\n          s:    function (d, v) {\r\n            return d.setUTCSeconds(v);\r\n          },\r\n          yyyy: function (d, v) {\r\n            return d.setUTCFullYear(v);\r\n          },\r\n          yy:   function (d, v) {\r\n            return d.setUTCFullYear(2000 + v);\r\n          },\r\n          m:    function (d, v) {\r\n            v -= 1;\r\n            while (v < 0) v += 12;\r\n            v %= 12;\r\n            d.setUTCMonth(v);\r\n            while (d.getUTCMonth() !== v)\r\n              if (isNaN(d.getUTCMonth()))\r\n                return d;\r\n              else\r\n                d.setUTCDate(d.getUTCDate() - 1);\r\n            return d;\r\n          },\r\n          d:    function (d, v) {\r\n            return d.setUTCDate(v);\r\n          },\r\n          p:    function (d, v) {\r\n            return d.setUTCHours(v === 1 ? d.getUTCHours() + 12 : d.getUTCHours());\r\n          },\r\n          z:    function () {\r\n            return timezone\r\n          }\r\n        },\r\n        val, filtered, part;\r\n      setters_map['M'] = setters_map['MM'] = setters_map['mm'] = setters_map['m'];\r\n      setters_map['dd'] = setters_map['d'];\r\n      setters_map['P'] = setters_map['p'];\r\n      setters_map['Z'] = setters_map['z'];\r\n      date = UTCDate(date.getFullYear(), date.getMonth(), date.getDate(), date.getHours(), date.getMinutes(), date.getSeconds());\r\n      if (parts.length === format.parts.length) {\r\n        for (var i = 0, cnt = format.parts.length; i < cnt; i++) {\r\n          val = parseInt(parts[i], 10);\r\n          part = format.parts[i];\r\n          if (isNaN(val)) {\r\n            switch (part) {\r\n              case 'MM':\r\n                filtered = $(dates[language].months).filter(function () {\r\n                  var m = this.slice(0, parts[i].length),\r\n                    p = parts[i].slice(0, m.length);\r\n                  return m === p;\r\n                });\r\n                val = $.inArray(filtered[0], dates[language].months) + 1;\r\n                break;\r\n              case 'M':\r\n                filtered = $(dates[language].monthsShort).filter(function () {\r\n                  var m = this.slice(0, parts[i].length),\r\n                    p = parts[i].slice(0, m.length);\r\n                  return m.toLowerCase() === p.toLowerCase();\r\n                });\r\n                val = $.inArray(filtered[0], dates[language].monthsShort) + 1;\r\n                break;\r\n              case 'p':\r\n              case 'P':\r\n                val = $.inArray(parts[i].toLowerCase(), dates[language].meridiem);\r\n                break;\r\n              case 'z':\r\n              case 'Z':\r\n                timezone;\r\n                break;\r\n\r\n            }\r\n          }\r\n          parsed[part] = val;\r\n        }\r\n        for (var i = 0, s; i < setters_order.length; i++) {\r\n          s = setters_order[i];\r\n          if (s in parsed && !isNaN(parsed[s]))\r\n            setters_map[s](date, parsed[s])\r\n        }\r\n      }\r\n      return date;\r\n    },\r\n    formatDate:       function (date, format, language, type, timezone) {\r\n      if (date === null) {\r\n        return '';\r\n      }\r\n      var val;\r\n      if (type === 'standard') {\r\n        val = {\r\n          t:    date.getTime(),\r\n          // year\r\n          yy:   date.getUTCFullYear().toString().substring(2),\r\n          yyyy: date.getUTCFullYear(),\r\n          // month\r\n          m:    date.getUTCMonth() + 1,\r\n          M:    dates[language].monthsShort[date.getUTCMonth()],\r\n          MM:   dates[language].months[date.getUTCMonth()],\r\n          // day\r\n          d:    date.getUTCDate(),\r\n          D:    dates[language].daysShort[date.getUTCDay()],\r\n          DD:   dates[language].days[date.getUTCDay()],\r\n          p:    (dates[language].meridiem.length === 2 ? dates[language].meridiem[date.getUTCHours() < 12 ? 0 : 1] : ''),\r\n          // hour\r\n          h:    date.getUTCHours(),\r\n          // minute\r\n          i:    date.getUTCMinutes(),\r\n          // second\r\n          s:    date.getUTCSeconds(),\r\n          // timezone\r\n          z:    timezone\r\n        };\r\n\r\n        if (dates[language].meridiem.length === 2) {\r\n          val.H = (val.h % 12 === 0 ? 12 : val.h % 12);\r\n        }\r\n        else {\r\n          val.H = val.h;\r\n        }\r\n        val.HH = (val.H < 10 ? '0' : '') + val.H;\r\n        val.P = val.p.toUpperCase();\r\n        val.Z = val.z;\r\n        val.hh = (val.h < 10 ? '0' : '') + val.h;\r\n        val.ii = (val.i < 10 ? '0' : '') + val.i;\r\n        val.ss = (val.s < 10 ? '0' : '') + val.s;\r\n        val.dd = (val.d < 10 ? '0' : '') + val.d;\r\n        val.mm = (val.m < 10 ? '0' : '') + val.m;\r\n      } else if (type === 'php') {\r\n        // php format\r\n        val = {\r\n          // year\r\n          y: date.getUTCFullYear().toString().substring(2),\r\n          Y: date.getUTCFullYear(),\r\n          // month\r\n          F: dates[language].months[date.getUTCMonth()],\r\n          M: dates[language].monthsShort[date.getUTCMonth()],\r\n          n: date.getUTCMonth() + 1,\r\n          t: DPGlobal.getDaysInMonth(date.getUTCFullYear(), date.getUTCMonth()),\r\n          // day\r\n          j: date.getUTCDate(),\r\n          l: dates[language].days[date.getUTCDay()],\r\n          D: dates[language].daysShort[date.getUTCDay()],\r\n          w: date.getUTCDay(), // 0 -> 6\r\n          N: (date.getUTCDay() === 0 ? 7 : date.getUTCDay()),       // 1 -> 7\r\n          S: (date.getUTCDate() % 10 <= dates[language].suffix.length ? dates[language].suffix[date.getUTCDate() % 10 - 1] : ''),\r\n          // hour\r\n          a: (dates[language].meridiem.length === 2 ? dates[language].meridiem[date.getUTCHours() < 12 ? 0 : 1] : ''),\r\n          g: (date.getUTCHours() % 12 === 0 ? 12 : date.getUTCHours() % 12),\r\n          G: date.getUTCHours(),\r\n          // minute\r\n          i: date.getUTCMinutes(),\r\n          // second\r\n          s: date.getUTCSeconds()\r\n        };\r\n        val.m = (val.n < 10 ? '0' : '') + val.n;\r\n        val.d = (val.j < 10 ? '0' : '') + val.j;\r\n        val.A = val.a.toString().toUpperCase();\r\n        val.h = (val.g < 10 ? '0' : '') + val.g;\r\n        val.H = (val.G < 10 ? '0' : '') + val.G;\r\n        val.i = (val.i < 10 ? '0' : '') + val.i;\r\n        val.s = (val.s < 10 ? '0' : '') + val.s;\r\n      } else {\r\n        throw new Error('Invalid format type.');\r\n      }\r\n      var date = [],\r\n        seps = $.extend([], format.separators);\r\n      for (var i = 0, cnt = format.parts.length; i < cnt; i++) {\r\n        if (seps.length) {\r\n          date.push(seps.shift());\r\n        }\r\n        date.push(val[format.parts[i]]);\r\n      }\r\n      if (seps.length) {\r\n        date.push(seps.shift());\r\n      }\r\n      return date.join('');\r\n    },\r\n    convertViewMode:  function (viewMode) {\r\n      switch (viewMode) {\r\n        case 4:\r\n        case 'decade':\r\n          viewMode = 4;\r\n          break;\r\n        case 3:\r\n        case 'year':\r\n          viewMode = 3;\r\n          break;\r\n        case 2:\r\n        case 'month':\r\n          viewMode = 2;\r\n          break;\r\n        case 1:\r\n        case 'day':\r\n          viewMode = 1;\r\n          break;\r\n        case 0:\r\n        case 'hour':\r\n          viewMode = 0;\r\n          break;\r\n      }\r\n\r\n      return viewMode;\r\n    },\r\n    headTemplate: '<thead>' +\r\n                '<tr>' +\r\n                '<th class=\"prev\"><i class=\"{iconType} {leftArrow}\"/></th>' +\r\n                '<th colspan=\"5\" class=\"switch\"></th>' +\r\n                '<th class=\"next\"><i class=\"{iconType} {rightArrow}\"/></th>' +\r\n                '</tr>' +\r\n      '</thead>',\r\n    headTemplateV3: '<thead>' +\r\n                '<tr>' +\r\n                '<th class=\"prev\"><span class=\"{iconType} {leftArrow}\"></span> </th>' +\r\n                '<th colspan=\"5\" class=\"switch\"></th>' +\r\n                '<th class=\"next\"><span class=\"{iconType} {rightArrow}\"></span> </th>' +\r\n                '</tr>' +\r\n      '</thead>',\r\n    contTemplate: '<tbody><tr><td colspan=\"7\"></td></tr></tbody>',\r\n    footTemplate: '<tfoot>' + \r\n                    '<tr><th colspan=\"7\" class=\"today\"></th></tr>' +\r\n                    '<tr><th colspan=\"7\" class=\"clear\"></th></tr>' +\r\n                  '</tfoot>'\r\n  };\r\n  DPGlobal.template = '<div class=\"datetimepicker\">' +\r\n    '<div class=\"datetimepicker-minutes\">' +\r\n    '<table class=\" table-condensed\">' +\r\n    DPGlobal.headTemplate +\r\n    DPGlobal.contTemplate +\r\n    DPGlobal.footTemplate +\r\n    '</table>' +\r\n    '</div>' +\r\n    '<div class=\"datetimepicker-hours\">' +\r\n    '<table class=\" table-condensed\">' +\r\n    DPGlobal.headTemplate +\r\n    DPGlobal.contTemplate +\r\n    DPGlobal.footTemplate +\r\n    '</table>' +\r\n    '</div>' +\r\n    '<div class=\"datetimepicker-days\">' +\r\n    '<table class=\" table-condensed\">' +\r\n    DPGlobal.headTemplate +\r\n    '<tbody></tbody>' +\r\n    DPGlobal.footTemplate +\r\n    '</table>' +\r\n    '</div>' +\r\n    '<div class=\"datetimepicker-months\">' +\r\n    '<table class=\"table-condensed\">' +\r\n    DPGlobal.headTemplate +\r\n    DPGlobal.contTemplate +\r\n    DPGlobal.footTemplate +\r\n    '</table>' +\r\n    '</div>' +\r\n    '<div class=\"datetimepicker-years\">' +\r\n    '<table class=\"table-condensed\">' +\r\n    DPGlobal.headTemplate +\r\n    DPGlobal.contTemplate +\r\n    DPGlobal.footTemplate +\r\n    '</table>' +\r\n    '</div>' +\r\n    '</div>';\r\n  DPGlobal.templateV3 = '<div class=\"datetimepicker\">' +\r\n    '<div class=\"datetimepicker-minutes\">' +\r\n    '<table class=\" table-condensed\">' +\r\n    DPGlobal.headTemplateV3 +\r\n    DPGlobal.contTemplate +\r\n    DPGlobal.footTemplate +\r\n    '</table>' +\r\n    '</div>' +\r\n    '<div class=\"datetimepicker-hours\">' +\r\n    '<table class=\" table-condensed\">' +\r\n    DPGlobal.headTemplateV3 +\r\n    DPGlobal.contTemplate +\r\n    DPGlobal.footTemplate +\r\n    '</table>' +\r\n    '</div>' +\r\n    '<div class=\"datetimepicker-days\">' +\r\n    '<table class=\" table-condensed\">' +\r\n    DPGlobal.headTemplateV3 +\r\n    '<tbody></tbody>' +\r\n    DPGlobal.footTemplate +\r\n    '</table>' +\r\n    '</div>' +\r\n    '<div class=\"datetimepicker-months\">' +\r\n    '<table class=\"table-condensed\">' +\r\n    DPGlobal.headTemplateV3 +\r\n    DPGlobal.contTemplate +\r\n    DPGlobal.footTemplate +\r\n    '</table>' +\r\n    '</div>' +\r\n    '<div class=\"datetimepicker-years\">' +\r\n    '<table class=\"table-condensed\">' +\r\n    DPGlobal.headTemplateV3 +\r\n    DPGlobal.contTemplate +\r\n    DPGlobal.footTemplate +\r\n    '</table>' +\r\n    '</div>' +\r\n    '</div>';\r\n  $.fn.datetimepicker.DPGlobal = DPGlobal;\r\n\r\n  /* DATETIMEPICKER NO CONFLICT\r\n   * =================== */\r\n\r\n  $.fn.datetimepicker.noConflict = function () {\r\n    $.fn.datetimepicker = old;\r\n    return this;\r\n  };\r\n\r\n  /* DATETIMEPICKER DATA-API\r\n   * ================== */\r\n\r\n  $(document).on(\r\n    'focus.datetimepicker.data-api click.datetimepicker.data-api',\r\n    '[data-provide=\"datetimepicker\"]',\r\n    function (e) {\r\n      var $this = $(this);\r\n      if ($this.data('datetimepicker')) return;\r\n      e.preventDefault();\r\n      // component click requires us to explicitly show it\r\n      $this.datetimepicker('show');\r\n    }\r\n  );\r\n  $(function () {\r\n    $('[data-provide=\"datetimepicker-inline\"]').datetimepicker();\r\n  });\r\n\r\n}));\r\n"]}]}