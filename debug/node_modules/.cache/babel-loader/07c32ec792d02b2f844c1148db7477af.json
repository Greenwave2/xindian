{"remainingRequest":"/home/alex/kaso-agri/node_modules/babel-loader/lib/index.js!/home/alex/kaso-agri/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/alex/kaso-agri/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/alex/kaso-agri/src/components/EnvironmentalHistory.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/alex/kaso-agri/src/components/EnvironmentalHistory.vue","mtime":1561542739877},{"path":"/home/alex/kaso-agri/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/alex/kaso-agri/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/alex/kaso-agri/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/alex/kaso-agri/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.replace\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport _$ from 'jquery';\nimport '../../public/static/datePicker/css/bootstrap.min.css';\nimport '../../public/static/datePicker/css/bootstrap-datetimepicker.min.css';\nimport '../../public/static/datePicker/js/bootstrap-datetimepicker.js';\nvar sensorFlag = false;\nexport default {\n  sensorFlag: sensorFlag,\n  name: 'EnvironmentalHistory',\n  data: function data() {\n    return {\n      loginUser: '',\n      loading: false,\n      checkList: {\n        historyData: [],\n        typeTotal: []\n      },\n      checkListType: {\n        temperature: false,\n        //温度\n        humidity: false,\n        //濕度\n        windSpeed: false,\n        //风速\n        rainfall: false,\n        //雨量\n        illumination: false,\n        //照度\n        concentration: false //浓度\n\n      },\n      //type: 1:温度,2:濕度,3:風向,4:風速,5:雨量,6:照度,7:浓度\n      checkboxs: [{\n        id: '1',\n        label: this.$t('History_Param1_Label'),\n        type: 1,\n        disabled: false,\n        checked: false,\n        dataStr: 'LTMP'\n      }, {\n        id: '2',\n        label: this.$t('History_Param2_Label'),\n        type: 1,\n        disabled: false,\n        checked: false,\n        dataStr: 'OTMP'\n      }, {\n        id: '3',\n        label: this.$t('History_Param3_Label'),\n        type: 2,\n        disabled: false,\n        checked: false,\n        dataStr: 'LHM'\n      }, {\n        id: '4',\n        label: this.$t('History_Param4_Label'),\n        type: 2,\n        disabled: false,\n        checked: false,\n        dataStr: 'OHM'\n      }, {\n        id: '5',\n        label: this.$t('History_Param5_Label'),\n        type: 3,\n        // style: { width: '150px' },\n        disabled: false,\n        checked: false,\n        dataStr: 'WDIR'\n      }, {\n        id: '6',\n        label: this.$t('History_Param6_Label'),\n        type: 4,\n        disabled: false,\n        checked: false,\n        dataStr: 'WIND'\n      }, {\n        id: '7',\n        label: this.$t('History_Param7_Label'),\n        type: 4,\n        disabled: false,\n        checked: false,\n        dataStr: 'QWIND'\n      }, {\n        id: '8',\n        label: this.$t('History_Param8_Label'),\n        type: 5,\n        disabled: false,\n        checked: false,\n        dataStr: 'UVI'\n      }, {\n        id: '9',\n        label: this.$t('History_Param9_Label'),\n        type: 5,\n        disabled: false,\n        checked: false,\n        dataStr: 'RAIN1'\n      }, {\n        id: '10',\n        label: this.$t('History_Param10_Label'),\n        type: 6,\n        disabled: false,\n        checked: false,\n        dataStr: 'RAIN2'\n      }, {\n        id: '11',\n        label: this.$t('History_Param11_Label'),\n        type: 7,\n        disabled: false,\n        checked: false,\n        dataStr: 'LIGHT'\n      }, {\n        id: '12',\n        label: this.$t('History_Param12_Label'),\n        type: 7,\n        // style: { width: '150px' },\n        disabled: false,\n        checked: false,\n        dataStr: 'LIGHT10'\n      }, {\n        id: '13',\n        label: this.$t('History_Param13_Label'),\n        type: 7,\n        disabled: false,\n        checked: false,\n        dataStr: 'LIGHT2'\n      }, {\n        id: '14',\n        label: this.$t('History_Param14_Label'),\n        type: 2,\n        disabled: false,\n        checked: false,\n        dataStr: 'STMP'\n      }],\n      // 2019-03-04 時間の変更\n      // historyStartTime: '',\n      // historyStopTime: '',\n      history_start_time_paceholder: this.$t('History_Start_Time_PlaceHolder'),\n      history_end_time_paceholder: this.$t('History_End_Time_PlaceHolder'),\n      history_param_1: this.$t('History_Param1_Label'),\n      history_param_2: this.$t('History_Param2_Label'),\n      history_param_3: this.$t('History_Param3_Label'),\n      history_param_4: this.$t('History_Param4_Label'),\n      history_param_5: this.$t('History_Param5_Label'),\n      history_param_6: this.$t('History_Param6_Label'),\n      history_param_7: this.$t('History_Param7_Label'),\n      history_param_8: this.$t('History_Param8_Label'),\n      history_param_9: this.$t('History_Param9_Label'),\n      history_param_10: this.$t('History_Param10_Label'),\n      history_param_11: this.$t('History_Param11_Label'),\n      history_param_12: this.$t('History_Param12_Label'),\n      history_param_13: this.$t('History_Param13_Label'),\n      history_param_14: this.$t('History_Param14_Label'),\n      between: '',\n      isDayErrorMsg: 'none',\n      isSensorErrorMsg: 'none'\n    };\n  },\n  created: function created() {\n    this.loginUser = this.$session.get('loginUser');\n  },\n  methods: {\n    //時間表示スタイル\n    dateDefault: function dateDefault() {\n      $('.form_datetime').datetimepicker({\n        language: 'jp',\n        format: 'yyyy-mm-dd hh:ii',\n        todayBtn: true,\n        autoclose: true,\n        showMeridian: 1,\n        //時間表示スタイル\n        pickerPosition: 'bottom-right'\n      });\n    },\n    historyDataChange: function historyDataChange(item) {\n      var arr = this.checkList.typeTotal;\n      item.checked = !item.checked; //選択する\n\n      if (item.checked) {\n        //判断是否选择センサーデータを判断するかどうかを判断する\n        this.sensorFlagData();\n        arr.push(item.type);\n        var newArr = this.arrUnique(arr);\n\n        if (newArr.length == 2) {\n          for (var index in this.checkboxs) {\n            if (newArr.indexOf(this.checkboxs[index].type) < 0) {\n              this.checkboxs[index].disabled = true;\n            }\n          }\n        }\n      } else {\n        //判断是否选择センサーデータを判断するかどうかを判断する\n        this.sensorFlagData();\n        var j = arr.indexOf(item.type);\n\n        if (j > -1) {\n          arr.splice(j, 1);\n        }\n\n        var setArr = this.arrUnique(arr);\n\n        if (setArr.length < 2) {\n          for (var i in this.checkboxs) {\n            this.checkboxs[i].disabled = false;\n          }\n        }\n      }\n    },\n\n    /**\r\n     * 繰り返しデータを削除\r\n     * @param {Array} array\r\n     */\n    arrUnique: function arrUnique(array) {\n      var r = [];\n\n      for (var i = 0, l = array.length; i < l; i++) {\n        for (var j = i + 1; j < l; j++) {\n          if (array[i] == array[j]) j == ++i;\n        }\n\n        r.push(array[i]);\n      }\n\n      return r;\n    },\n    dataTimeChange: function dataTimeChange() {\n      this.isDayErrorMsg = 'none';\n    },\n    environmentalHistoryCVS: function environmentalHistoryCVS() {\n      //2019-03-04 時間の変更\n      // var startiso = this.historyStartTime.toISOString()\n      // var endiso = this.historyStopTime.toISOString()\n      var startdt = new Date(_$('#historyStartTime').val().replace(/-/g, '/'));\n      var enddt = new Date(_$('#historyStopTime').val().replace(/-/g, '/'));\n      var startiso = startdt.toISOString();\n      var endiso = enddt.toISOString();\n      this.between = '';\n      var filedstr = 'F';\n\n      for (var i = 0; i < this.checkList.historyData.length; i++) {\n        // console.log(this.checkList.historyData[i])\n        if (this.checkList.historyData[i] == this.history_param_1) filedstr += '-LTMP';\n        if (this.checkList.historyData[i] == this.history_param_2) filedstr += '-OTMP';\n        if (this.checkList.historyData[i] == this.history_param_3) filedstr += '-LHM';\n        if (this.checkList.historyData[i] == this.history_param_4) filedstr += '-OHM';\n        if (this.checkList.historyData[i] == this.history_param_5) filedstr += '-WDIR';\n        if (this.checkList.historyData[i] == this.history_param_6) filedstr += '-WIND';\n        if (this.checkList.historyData[i] == this.history_param_7) filedstr += '-QWIND';\n        if (this.checkList.historyData[i] == this.history_param_8) filedstr += '-RAIN1';\n        if (this.checkList.historyData[i] == this.history_param_9) filedstr += '-RAIN2';\n        if (this.checkList.historyData[i] == this.history_param_10) filedstr += '-UVI';\n        if (this.checkList.historyData[i] == this.history_param_11) filedstr += '-LIGHT';\n        if (this.checkList.historyData[i] == this.history_param_12) filedstr += '-LIGHT10';\n        if (this.checkList.historyData[i] == this.history_param_13) filedstr += '-LIGHT2';\n        if (this.checkList.historyData[i] == this.history_param_14) filedstr += '-STMP';\n      }\n\n      window.open('http://www.iot-fitone.com/sensordata?gwid=' + this.loginUser + '&table=' + filedstr + '&start=' + startiso + '&end=' + endiso + '&csv=1');\n    },\n    getChartsYaxis: function getChartsYaxis() {\n      var arr = this.arrUnique(this.checkList.typeTotal);\n      var yAxis = [];\n\n      for (var i in arr) {\n        switch (arr[i]) {\n          case 1:\n            yAxis.push({\n              type: 'value',\n              name: '温度 °C',\n              custype: 1,\n              scale: true\n            });\n            break;\n\n          case 2:\n            yAxis.push({\n              type: 'value',\n              name: '濕度 %',\n              custype: 2,\n              scale: true\n            });\n            break;\n\n          case 3:\n            yAxis.push({\n              type: 'value',\n              name: '方位(°)',\n              custype: 3,\n              scale: true\n            });\n            break;\n\n          case 4:\n            yAxis.push({\n              type: 'value',\n              name: '風速(m/s)',\n              custype: 4,\n              scale: true\n            });\n            break;\n\n          case 5:\n            yAxis.push({\n              type: 'value',\n              name: '雨量(mm)',\n              custype: 5,\n              scale: true\n            });\n            break;\n\n          case 6:\n            yAxis.push({\n              type: 'value',\n              name: '紫外線(μw/cm²)',\n              custype: 6,\n              scale: true\n            });\n            break;\n\n          case 7:\n            yAxis.push({\n              type: 'value',\n              custype: 7,\n              name: '照度(lux)',\n              scale: true\n            });\n            break;\n        }\n      }\n\n      return yAxis;\n    },\n    sensorDayData: function sensorDayData() {\n      var historyStart = _$('#historyStartTime').val();\n\n      var historyEnd = _$('#historyStopTime').val(); //判断时刻是否选择時刻を判断するかどうかを判断する\n\n\n      if ( //2019-03-04 時間の変更\n      // this.historyStartTime == null ||\n      // this.historyStartTime == undefined ||\n      // this.historyStartTime == '' ||\n      // this.historyStopTime == null ||\n      // this.historyStopTime == undefined ||\n      // this.historyStopTime == ''\n      historyStart == null || historyStart == undefined || historyStart == '' || historyEnd == null || historyEnd == undefined || historyEnd == '') {\n        this.isDayErrorMsg = 'block';\n        this.sensorFlag = false;\n      } else {\n        this.isDayErrorMsg = 'none';\n        this.sensorFlag = true;\n      }\n    },\n    sensorFlagData: function sensorFlagData() {\n      //判断是否选择センサーデータを判断するかどうかを判断する\n      if (this.checkList.historyData.length == 0) {\n        this.isSensorErrorMsg = 'block';\n        this.sensorFlag = false;\n      } else {\n        this.isSensorErrorMsg = 'none';\n        this.sensorFlag = true;\n      }\n    },\n    //判断是否选择「时刻」と「センサーデータ」を判断するかどうかを判断する\n    sensorData: function sensorData() {\n      this.sensorDayData();\n      this.sensorFlagData();\n    },\n    environmentalHistoryCurve2: function environmentalHistoryCurve2() {\n      var _this = this;\n\n      this.sensorData();\n\n      if (this.sensorFlag == false) {\n        return;\n      } //2019-03-04 時間の変更\n      // var startiso = this.historyStartTime.toISOString()\n      // var endiso = this.historyStopTime.toISOString()\n\n\n      var startdt = new Date(_$('#historyStartTime').val().replace(/-/g, '/'));\n      var enddt = new Date(_$('#historyStopTime').val().replace(/-/g, '/'));\n      var startiso = startdt.toISOString();\n      var endiso = enddt.toISOString();\n      var urlstr = 'http://www.iot-fitone.com/sensordata?gwid=' + this.loginUser + '&table=LTMP&start=' + startiso + '&end=' + endiso;\n      this.loading = true;\n      this.$ajax({\n        method: 'GET',\n        url: urlstr\n      }).then(function (res) {\n        var dataZoom = [{\n          show: true\n        }];\n        var xAxis = [{\n          type: 'category',\n          show: true,\n          axisLine: {\n            onZero: false\n          },\n          data: []\n        }];\n        var legend = {\n          data: []\n        };\n\n        var yAxis = _this.getChartsYaxis();\n\n        var series = [];\n\n        if (res.data) {\n          var resData = res.data;\n          var hisData = _this.checkList.historyData;\n\n          for (var j in hisData) {\n            legend.data.push(hisData[j]);\n\n            for (var m in _this.checkboxs) {\n              if (hisData[j] === _this.checkboxs[m].label) {\n                var yIndex = 0;\n\n                if (yAxis[1] && yAxis[1].custype == _this.checkboxs[m].type) {\n                  yIndex = 1;\n                }\n\n                var seriesJosn = {\n                  type: 'line',\n                  yAxisIndex: yIndex,\n                  data: []\n                };\n\n                var arr = _this.arrUnique(_this.checkList.typeTotal);\n\n                arr.indexOf(_this.checkboxs[m]);\n                xAxis[0].data = [];\n\n                for (var i = 0; i < resData.length; i++) {\n                  xAxis[0].data.push(resData[i].showdate);\n                  seriesJosn.name = hisData[j];\n                  seriesJosn.data.push(resData[i][_this.checkboxs[m].dataStr] || 0);\n                }\n\n                series.push(seriesJosn);\n              }\n            }\n          }\n        }\n\n        var myChart = _this.$echarts.init(document.getElementById('environmentalHistoryChart'));\n\n        var option = {};\n        option.xAxis = xAxis;\n        option.yAxis = yAxis;\n        option.legend = legend;\n        option.series = series;\n        option.dataZoom = dataZoom;\n        option.tooltip = {\n          trigger: 'axis'\n        };\n        myChart.clear();\n        myChart.setOption(option);\n        _this.loading = false;\n      }).catch(function (error) {\n        console.log(error);\n        _this.loading = false;\n      });\n    }\n  }\n};",{"version":3,"sources":["EnvironmentalHistory.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqFA,OAAA,EAAA,MAAA,QAAA;AACA,OAAA,sDAAA;AACA,OAAA,qEAAA;AACA,OAAA,+DAAA;AACA,IAAA,UAAA,GAAA,KAAA;AACA,eAAA;AACA,EAAA,UAAA,EAAA,UADA;AAEA,EAAA,IAAA,EAAA,sBAFA;AAGA,EAAA,IAHA,kBAGA;AACA,WAAA;AACA,MAAA,SAAA,EAAA,EADA;AAEA,MAAA,OAAA,EAAA,KAFA;AAGA,MAAA,SAAA,EAAA;AACA,QAAA,WAAA,EAAA,EADA;AAEA,QAAA,SAAA,EAAA;AAFA,OAHA;AAOA,MAAA,aAAA,EAAA;AACA,QAAA,WAAA,EAAA,KADA;AACA;AACA,QAAA,QAAA,EAAA,KAFA;AAEA;AACA,QAAA,SAAA,EAAA,KAHA;AAGA;AACA,QAAA,QAAA,EAAA,KAJA;AAIA;AACA,QAAA,YAAA,EAAA,KALA;AAKA;AACA,QAAA,aAAA,EAAA,KANA,CAMA;;AANA,OAPA;AAeA;AACA,MAAA,SAAA,EAAA,CACA;AACA,QAAA,EAAA,EAAA,GADA;AAEA,QAAA,KAAA,EAAA,KAAA,EAAA,CAAA,sBAAA,CAFA;AAGA,QAAA,IAAA,EAAA,CAHA;AAIA,QAAA,QAAA,EAAA,KAJA;AAKA,QAAA,OAAA,EAAA,KALA;AAMA,QAAA,OAAA,EAAA;AANA,OADA,EASA;AACA,QAAA,EAAA,EAAA,GADA;AAEA,QAAA,KAAA,EAAA,KAAA,EAAA,CAAA,sBAAA,CAFA;AAGA,QAAA,IAAA,EAAA,CAHA;AAIA,QAAA,QAAA,EAAA,KAJA;AAKA,QAAA,OAAA,EAAA,KALA;AAMA,QAAA,OAAA,EAAA;AANA,OATA,EAiBA;AACA,QAAA,EAAA,EAAA,GADA;AAEA,QAAA,KAAA,EAAA,KAAA,EAAA,CAAA,sBAAA,CAFA;AAGA,QAAA,IAAA,EAAA,CAHA;AAIA,QAAA,QAAA,EAAA,KAJA;AAKA,QAAA,OAAA,EAAA,KALA;AAMA,QAAA,OAAA,EAAA;AANA,OAjBA,EAyBA;AACA,QAAA,EAAA,EAAA,GADA;AAEA,QAAA,KAAA,EAAA,KAAA,EAAA,CAAA,sBAAA,CAFA;AAGA,QAAA,IAAA,EAAA,CAHA;AAIA,QAAA,QAAA,EAAA,KAJA;AAKA,QAAA,OAAA,EAAA,KALA;AAMA,QAAA,OAAA,EAAA;AANA,OAzBA,EAiCA;AACA,QAAA,EAAA,EAAA,GADA;AAEA,QAAA,KAAA,EAAA,KAAA,EAAA,CAAA,sBAAA,CAFA;AAGA,QAAA,IAAA,EAAA,CAHA;AAIA;AACA,QAAA,QAAA,EAAA,KALA;AAMA,QAAA,OAAA,EAAA,KANA;AAOA,QAAA,OAAA,EAAA;AAPA,OAjCA,EA0CA;AACA,QAAA,EAAA,EAAA,GADA;AAEA,QAAA,KAAA,EAAA,KAAA,EAAA,CAAA,sBAAA,CAFA;AAGA,QAAA,IAAA,EAAA,CAHA;AAIA,QAAA,QAAA,EAAA,KAJA;AAKA,QAAA,OAAA,EAAA,KALA;AAMA,QAAA,OAAA,EAAA;AANA,OA1CA,EAkDA;AACA,QAAA,EAAA,EAAA,GADA;AAEA,QAAA,KAAA,EAAA,KAAA,EAAA,CAAA,sBAAA,CAFA;AAGA,QAAA,IAAA,EAAA,CAHA;AAIA,QAAA,QAAA,EAAA,KAJA;AAKA,QAAA,OAAA,EAAA,KALA;AAMA,QAAA,OAAA,EAAA;AANA,OAlDA,EA0DA;AACA,QAAA,EAAA,EAAA,GADA;AAEA,QAAA,KAAA,EAAA,KAAA,EAAA,CAAA,sBAAA,CAFA;AAGA,QAAA,IAAA,EAAA,CAHA;AAIA,QAAA,QAAA,EAAA,KAJA;AAKA,QAAA,OAAA,EAAA,KALA;AAMA,QAAA,OAAA,EAAA;AANA,OA1DA,EAkEA;AACA,QAAA,EAAA,EAAA,GADA;AAEA,QAAA,KAAA,EAAA,KAAA,EAAA,CAAA,sBAAA,CAFA;AAGA,QAAA,IAAA,EAAA,CAHA;AAIA,QAAA,QAAA,EAAA,KAJA;AAKA,QAAA,OAAA,EAAA,KALA;AAMA,QAAA,OAAA,EAAA;AANA,OAlEA,EA0EA;AACA,QAAA,EAAA,EAAA,IADA;AAEA,QAAA,KAAA,EAAA,KAAA,EAAA,CAAA,uBAAA,CAFA;AAGA,QAAA,IAAA,EAAA,CAHA;AAIA,QAAA,QAAA,EAAA,KAJA;AAKA,QAAA,OAAA,EAAA,KALA;AAMA,QAAA,OAAA,EAAA;AANA,OA1EA,EAkFA;AACA,QAAA,EAAA,EAAA,IADA;AAEA,QAAA,KAAA,EAAA,KAAA,EAAA,CAAA,uBAAA,CAFA;AAGA,QAAA,IAAA,EAAA,CAHA;AAIA,QAAA,QAAA,EAAA,KAJA;AAKA,QAAA,OAAA,EAAA,KALA;AAMA,QAAA,OAAA,EAAA;AANA,OAlFA,EA0FA;AACA,QAAA,EAAA,EAAA,IADA;AAEA,QAAA,KAAA,EAAA,KAAA,EAAA,CAAA,uBAAA,CAFA;AAGA,QAAA,IAAA,EAAA,CAHA;AAIA;AACA,QAAA,QAAA,EAAA,KALA;AAMA,QAAA,OAAA,EAAA,KANA;AAOA,QAAA,OAAA,EAAA;AAPA,OA1FA,EAmGA;AACA,QAAA,EAAA,EAAA,IADA;AAEA,QAAA,KAAA,EAAA,KAAA,EAAA,CAAA,uBAAA,CAFA;AAGA,QAAA,IAAA,EAAA,CAHA;AAIA,QAAA,QAAA,EAAA,KAJA;AAKA,QAAA,OAAA,EAAA,KALA;AAMA,QAAA,OAAA,EAAA;AANA,OAnGA,EA2GA;AACA,QAAA,EAAA,EAAA,IADA;AAEA,QAAA,KAAA,EAAA,KAAA,EAAA,CAAA,uBAAA,CAFA;AAGA,QAAA,IAAA,EAAA,CAHA;AAIA,QAAA,QAAA,EAAA,KAJA;AAKA,QAAA,OAAA,EAAA,KALA;AAMA,QAAA,OAAA,EAAA;AANA,OA3GA,CAhBA;AAoIA;AACA;AACA;AACA,MAAA,6BAAA,EAAA,KAAA,EAAA,CAAA,gCAAA,CAvIA;AAwIA,MAAA,2BAAA,EAAA,KAAA,EAAA,CAAA,8BAAA,CAxIA;AAyIA,MAAA,eAAA,EAAA,KAAA,EAAA,CAAA,sBAAA,CAzIA;AA0IA,MAAA,eAAA,EAAA,KAAA,EAAA,CAAA,sBAAA,CA1IA;AA2IA,MAAA,eAAA,EAAA,KAAA,EAAA,CAAA,sBAAA,CA3IA;AA4IA,MAAA,eAAA,EAAA,KAAA,EAAA,CAAA,sBAAA,CA5IA;AA6IA,MAAA,eAAA,EAAA,KAAA,EAAA,CAAA,sBAAA,CA7IA;AA8IA,MAAA,eAAA,EAAA,KAAA,EAAA,CAAA,sBAAA,CA9IA;AA+IA,MAAA,eAAA,EAAA,KAAA,EAAA,CAAA,sBAAA,CA/IA;AAgJA,MAAA,eAAA,EAAA,KAAA,EAAA,CAAA,sBAAA,CAhJA;AAiJA,MAAA,eAAA,EAAA,KAAA,EAAA,CAAA,sBAAA,CAjJA;AAkJA,MAAA,gBAAA,EAAA,KAAA,EAAA,CAAA,uBAAA,CAlJA;AAmJA,MAAA,gBAAA,EAAA,KAAA,EAAA,CAAA,uBAAA,CAnJA;AAoJA,MAAA,gBAAA,EAAA,KAAA,EAAA,CAAA,uBAAA,CApJA;AAqJA,MAAA,gBAAA,EAAA,KAAA,EAAA,CAAA,uBAAA,CArJA;AAsJA,MAAA,gBAAA,EAAA,KAAA,EAAA,CAAA,uBAAA,CAtJA;AAuJA,MAAA,OAAA,EAAA,EAvJA;AAwJA,MAAA,aAAA,EAAA,MAxJA;AAyJA,MAAA,gBAAA,EAAA;AAzJA,KAAA;AA2JA,GA/JA;AAgKA,EAAA,OAhKA,qBAgKA;AAEA,SAAA,SAAA,GAAA,KAAA,QAAA,CAAA,GAAA,CAAA,WAAA,CAAA;AAEA,GApKA;AAqKA,EAAA,OAAA,EAAA;AACA;AACA,IAAA,WAFA,yBAEA;AACA,MAAA,CAAA,CAAA,gBAAA,CAAA,CAAA,cAAA,CAAA;AACA,QAAA,QAAA,EAAA,IADA;AAEA,QAAA,MAAA,EAAA,kBAFA;AAGA,QAAA,QAAA,EAAA,IAHA;AAIA,QAAA,SAAA,EAAA,IAJA;AAKA,QAAA,YAAA,EAAA,CALA;AAKA;AACA,QAAA,cAAA,EAAA;AANA,OAAA;AAQA,KAXA;AAYA,IAAA,iBAZA,6BAYA,IAZA,EAYA;AACA,UAAA,GAAA,GAAA,KAAA,SAAA,CAAA,SAAA;AACA,MAAA,IAAA,CAAA,OAAA,GAAA,CAAA,IAAA,CAAA,OAAA,CAFA,CAGA;;AACA,UAAA,IAAA,CAAA,OAAA,EAAA;AACA;AACA,aAAA,cAAA;AAEA,QAAA,GAAA,CAAA,IAAA,CAAA,IAAA,CAAA,IAAA;AACA,YAAA,MAAA,GAAA,KAAA,SAAA,CAAA,GAAA,CAAA;;AACA,YAAA,MAAA,CAAA,MAAA,IAAA,CAAA,EAAA;AACA,eAAA,IAAA,KAAA,IAAA,KAAA,SAAA,EAAA;AACA,gBAAA,MAAA,CAAA,OAAA,CAAA,KAAA,SAAA,CAAA,KAAA,EAAA,IAAA,IAAA,CAAA,EAAA;AACA,mBAAA,SAAA,CAAA,KAAA,EAAA,QAAA,GAAA,IAAA;AACA;AACA;AACA;AACA,OAbA,MAaA;AACA;AACA,aAAA,cAAA;AAEA,YAAA,CAAA,GAAA,GAAA,CAAA,OAAA,CAAA,IAAA,CAAA,IAAA,CAAA;;AAEA,YAAA,CAAA,GAAA,CAAA,CAAA,EAAA;AACA,UAAA,GAAA,CAAA,MAAA,CAAA,CAAA,EAAA,CAAA;AACA;;AACA,YAAA,MAAA,GAAA,KAAA,SAAA,CAAA,GAAA,CAAA;;AACA,YAAA,MAAA,CAAA,MAAA,GAAA,CAAA,EAAA;AACA,eAAA,IAAA,CAAA,IAAA,KAAA,SAAA,EAAA;AACA,iBAAA,SAAA,CAAA,CAAA,EAAA,QAAA,GAAA,KAAA;AACA;AACA;AACA;AACA,KA7CA;;AA8CA;;;;AAIA,IAAA,SAlDA,qBAkDA,KAlDA,EAkDA;AACA,UAAA,CAAA,GAAA,EAAA;;AACA,WAAA,IAAA,CAAA,GAAA,CAAA,EAAA,CAAA,GAAA,KAAA,CAAA,MAAA,EAAA,CAAA,GAAA,CAAA,EAAA,CAAA,EAAA,EAAA;AACA,aAAA,IAAA,CAAA,GAAA,CAAA,GAAA,CAAA,EAAA,CAAA,GAAA,CAAA,EAAA,CAAA,EAAA;AAAA,cAAA,KAAA,CAAA,CAAA,CAAA,IAAA,KAAA,CAAA,CAAA,CAAA,EAAA,CAAA,IAAA,EAAA,CAAA;AAAA;;AACA,QAAA,CAAA,CAAA,IAAA,CAAA,KAAA,CAAA,CAAA,CAAA;AACA;;AACA,aAAA,CAAA;AACA,KAzDA;AA0DA,IAAA,cA1DA,4BA0DA;AACA,WAAA,aAAA,GAAA,MAAA;AACA,KA5DA;AA6DA,IAAA,uBA7DA,qCA6DA;AACA;AACA;AACA;AAEA,UAAA,OAAA,GAAA,IAAA,IAAA,CAAA,EAAA,CAAA,mBAAA,CAAA,CAAA,GAAA,GAAA,OAAA,CAAA,IAAA,EAAA,GAAA,CAAA,CAAA;AACA,UAAA,KAAA,GAAA,IAAA,IAAA,CAAA,EAAA,CAAA,kBAAA,CAAA,CAAA,GAAA,GAAA,OAAA,CAAA,IAAA,EAAA,GAAA,CAAA,CAAA;AACA,UAAA,QAAA,GAAA,OAAA,CAAA,WAAA,EAAA;AACA,UAAA,MAAA,GAAA,KAAA,CAAA,WAAA,EAAA;AAEA,WAAA,OAAA,GAAA,EAAA;AAEA,UAAA,QAAA,GAAA,GAAA;;AAEA,WAAA,IAAA,CAAA,GAAA,CAAA,EAAA,CAAA,GAAA,KAAA,SAAA,CAAA,WAAA,CAAA,MAAA,EAAA,CAAA,EAAA,EAAA;AACA;AACA,YAAA,KAAA,SAAA,CAAA,WAAA,CAAA,CAAA,KAAA,KAAA,eAAA,EAAA,QAAA,IAAA,OAAA;AACA,YAAA,KAAA,SAAA,CAAA,WAAA,CAAA,CAAA,KAAA,KAAA,eAAA,EAAA,QAAA,IAAA,OAAA;AACA,YAAA,KAAA,SAAA,CAAA,WAAA,CAAA,CAAA,KAAA,KAAA,eAAA,EAAA,QAAA,IAAA,MAAA;AACA,YAAA,KAAA,SAAA,CAAA,WAAA,CAAA,CAAA,KAAA,KAAA,eAAA,EAAA,QAAA,IAAA,MAAA;AACA,YAAA,KAAA,SAAA,CAAA,WAAA,CAAA,CAAA,KAAA,KAAA,eAAA,EAAA,QAAA,IAAA,OAAA;AACA,YAAA,KAAA,SAAA,CAAA,WAAA,CAAA,CAAA,KAAA,KAAA,eAAA,EAAA,QAAA,IAAA,OAAA;AACA,YAAA,KAAA,SAAA,CAAA,WAAA,CAAA,CAAA,KAAA,KAAA,eAAA,EAAA,QAAA,IAAA,QAAA;AACA,YAAA,KAAA,SAAA,CAAA,WAAA,CAAA,CAAA,KAAA,KAAA,eAAA,EAAA,QAAA,IAAA,QAAA;AACA,YAAA,KAAA,SAAA,CAAA,WAAA,CAAA,CAAA,KAAA,KAAA,eAAA,EAAA,QAAA,IAAA,QAAA;AACA,YAAA,KAAA,SAAA,CAAA,WAAA,CAAA,CAAA,KAAA,KAAA,gBAAA,EAAA,QAAA,IAAA,MAAA;AACA,YAAA,KAAA,SAAA,CAAA,WAAA,CAAA,CAAA,KAAA,KAAA,gBAAA,EAAA,QAAA,IAAA,QAAA;AACA,YAAA,KAAA,SAAA,CAAA,WAAA,CAAA,CAAA,KAAA,KAAA,gBAAA,EAAA,QAAA,IAAA,UAAA;AACA,YAAA,KAAA,SAAA,CAAA,WAAA,CAAA,CAAA,KAAA,KAAA,gBAAA,EAAA,QAAA,IAAA,SAAA;AACA,YAAA,KAAA,SAAA,CAAA,WAAA,CAAA,CAAA,KAAA,KAAA,gBAAA,EAAA,QAAA,IAAA,OAAA;AACA;;AAEA,MAAA,MAAA,CAAA,IAAA,CAAA,+CAAA,KAAA,SAAA,GAAA,SAAA,GAAA,QAAA,GAAA,SAAA,GAAA,QAAA,GAAA,OAAA,GAAA,MAAA,GAAA,QAAA;AACA,KA9FA;AA+FA,IAAA,cA/FA,4BA+FA;AACA,UAAA,GAAA,GAAA,KAAA,SAAA,CAAA,KAAA,SAAA,CAAA,SAAA,CAAA;AACA,UAAA,KAAA,GAAA,EAAA;;AACA,WAAA,IAAA,CAAA,IAAA,GAAA,EAAA;AACA,gBAAA,GAAA,CAAA,CAAA,CAAA;AACA,eAAA,CAAA;AACA,YAAA,KAAA,CAAA,IAAA,CAAA;AACA,cAAA,IAAA,EAAA,OADA;AAEA,cAAA,IAAA,EAAA,OAFA;AAGA,cAAA,OAAA,EAAA,CAHA;AAIA,cAAA,KAAA,EAAA;AAJA,aAAA;AAMA;;AACA,eAAA,CAAA;AACA,YAAA,KAAA,CAAA,IAAA,CAAA;AACA,cAAA,IAAA,EAAA,OADA;AAEA,cAAA,IAAA,EAAA,MAFA;AAGA,cAAA,OAAA,EAAA,CAHA;AAIA,cAAA,KAAA,EAAA;AAJA,aAAA;AAMA;;AACA,eAAA,CAAA;AACA,YAAA,KAAA,CAAA,IAAA,CAAA;AACA,cAAA,IAAA,EAAA,OADA;AAEA,cAAA,IAAA,EAAA,OAFA;AAGA,cAAA,OAAA,EAAA,CAHA;AAIA,cAAA,KAAA,EAAA;AAJA,aAAA;AAMA;;AACA,eAAA,CAAA;AACA,YAAA,KAAA,CAAA,IAAA,CAAA;AACA,cAAA,IAAA,EAAA,OADA;AAEA,cAAA,IAAA,EAAA,SAFA;AAGA,cAAA,OAAA,EAAA,CAHA;AAIA,cAAA,KAAA,EAAA;AAJA,aAAA;AAOA;;AAEA,eAAA,CAAA;AACA,YAAA,KAAA,CAAA,IAAA,CAAA;AACA,cAAA,IAAA,EAAA,OADA;AAEA,cAAA,IAAA,EAAA,QAFA;AAGA,cAAA,OAAA,EAAA,CAHA;AAIA,cAAA,KAAA,EAAA;AAJA,aAAA;AAOA;;AACA,eAAA,CAAA;AACA,YAAA,KAAA,CAAA,IAAA,CAAA;AACA,cAAA,IAAA,EAAA,OADA;AAEA,cAAA,IAAA,EAAA,aAFA;AAGA,cAAA,OAAA,EAAA,CAHA;AAIA,cAAA,KAAA,EAAA;AAJA,aAAA;AAMA;;AACA,eAAA,CAAA;AACA,YAAA,KAAA,CAAA,IAAA,CAAA;AACA,cAAA,IAAA,EAAA,OADA;AAEA,cAAA,OAAA,EAAA,CAFA;AAGA,cAAA,IAAA,EAAA,SAHA;AAIA,cAAA,KAAA,EAAA;AAJA,aAAA;AAMA;AA3DA;AA6DA;;AAEA,aAAA,KAAA;AACA,KAnKA;AAqKA,IAAA,aArKA,2BAqKA;AACA,UAAA,YAAA,GAAA,EAAA,CAAA,mBAAA,CAAA,CAAA,GAAA,EAAA;;AACA,UAAA,UAAA,GAAA,EAAA,CAAA,kBAAA,CAAA,CAAA,GAAA,EAAA,CAFA,CAGA;;;AACA,WACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAA,YAAA,IAAA,IAAA,IAAA,YAAA,IAAA,SAAA,IAAA,YAAA,IAAA,EAAA,IAAA,UAAA,IAAA,IAAA,IAAA,UAAA,IAAA,SAAA,IAAA,UAAA,IAAA,EARA,EASA;AACA,aAAA,aAAA,GAAA,OAAA;AACA,aAAA,UAAA,GAAA,KAAA;AACA,OAZA,MAYA;AACA,aAAA,aAAA,GAAA,MAAA;AACA,aAAA,UAAA,GAAA,IAAA;AACA;AAEA,KA1LA;AA2LA,IAAA,cA3LA,4BA2LA;AACA;AACA,UAAA,KAAA,SAAA,CAAA,WAAA,CAAA,MAAA,IAAA,CAAA,EAAA;AACA,aAAA,gBAAA,GAAA,OAAA;AACA,aAAA,UAAA,GAAA,KAAA;AACA,OAHA,MAGA;AACA,aAAA,gBAAA,GAAA,MAAA;AACA,aAAA,UAAA,GAAA,IAAA;AACA;AACA,KApMA;AAqMA;AACA,IAAA,UAtMA,wBAsMA;AACA,WAAA,aAAA;AACA,WAAA,cAAA;AACA,KAzMA;AA0MA,IAAA,0BA1MA,wCA0MA;AAAA;;AAEA,WAAA,UAAA;;AACA,UAAA,KAAA,UAAA,IAAA,KAAA,EAAA;AACA;AACA,OALA,CAOA;AACA;AACA;;;AAEA,UAAA,OAAA,GAAA,IAAA,IAAA,CAAA,EAAA,CAAA,mBAAA,CAAA,CAAA,GAAA,GAAA,OAAA,CAAA,IAAA,EAAA,GAAA,CAAA,CAAA;AACA,UAAA,KAAA,GAAA,IAAA,IAAA,CAAA,EAAA,CAAA,kBAAA,CAAA,CAAA,GAAA,GAAA,OAAA,CAAA,IAAA,EAAA,GAAA,CAAA,CAAA;AACA,UAAA,QAAA,GAAA,OAAA,CAAA,WAAA,EAAA;AACA,UAAA,MAAA,GAAA,KAAA,CAAA,WAAA,EAAA;AAEA,UAAA,MAAA,GAAA,+CAAA,KAAA,SAAA,GAAA,oBAAA,GAAA,QAAA,GAAA,OAAA,GAAA,MAAA;AACA,WAAA,OAAA,GAAA,IAAA;AACA,WAAA,KAAA,CAAA;AACA,QAAA,MAAA,EAAA,KADA;AAEA,QAAA,GAAA,EAAA;AAFA,OAAA,EAGA,IAHA,CAGA,UAAA,GAAA,EAAA;AACA,YAAA,QAAA,GAAA,CAAA;AACA,UAAA,IAAA,EAAA;AADA,SAAA,CAAA;AAGA,YAAA,KAAA,GAAA,CACA;AACA,UAAA,IAAA,EAAA,UADA;AAEA,UAAA,IAAA,EAAA,IAFA;AAGA,UAAA,QAAA,EAAA;AAAA,YAAA,MAAA,EAAA;AAAA,WAHA;AAIA,UAAA,IAAA,EAAA;AAJA,SADA,CAAA;AAQA,YAAA,MAAA,GAAA;AACA,UAAA,IAAA,EAAA;AADA,SAAA;;AAGA,YAAA,KAAA,GAAA,KAAA,CAAA,cAAA,EAAA;;AAEA,YAAA,MAAA,GAAA,EAAA;;AACA,YAAA,GAAA,CAAA,IAAA,EAAA;AACA,cAAA,OAAA,GAAA,GAAA,CAAA,IAAA;AACA,cAAA,OAAA,GAAA,KAAA,CAAA,SAAA,CAAA,WAAA;;AACA,eAAA,IAAA,CAAA,IAAA,OAAA,EAAA;AACA,YAAA,MAAA,CAAA,IAAA,CAAA,IAAA,CAAA,OAAA,CAAA,CAAA,CAAA;;AACA,iBAAA,IAAA,CAAA,IAAA,KAAA,CAAA,SAAA,EAAA;AACA,kBAAA,OAAA,CAAA,CAAA,CAAA,KAAA,KAAA,CAAA,SAAA,CAAA,CAAA,EAAA,KAAA,EAAA;AACA,oBAAA,MAAA,GAAA,CAAA;;AACA,oBAAA,KAAA,CAAA,CAAA,CAAA,IAAA,KAAA,CAAA,CAAA,CAAA,CAAA,OAAA,IAAA,KAAA,CAAA,SAAA,CAAA,CAAA,EAAA,IAAA,EAAA;AACA,kBAAA,MAAA,GAAA,CAAA;AACA;;AACA,oBAAA,UAAA,GAAA;AACA,kBAAA,IAAA,EAAA,MADA;AAEA,kBAAA,UAAA,EAAA,MAFA;AAGA,kBAAA,IAAA,EAAA;AAHA,iBAAA;;AAKA,oBAAA,GAAA,GAAA,KAAA,CAAA,SAAA,CAAA,KAAA,CAAA,SAAA,CAAA,SAAA,CAAA;;AACA,gBAAA,GAAA,CAAA,OAAA,CAAA,KAAA,CAAA,SAAA,CAAA,CAAA,CAAA;AACA,gBAAA,KAAA,CAAA,CAAA,CAAA,CAAA,IAAA,GAAA,EAAA;;AACA,qBAAA,IAAA,CAAA,GAAA,CAAA,EAAA,CAAA,GAAA,OAAA,CAAA,MAAA,EAAA,CAAA,EAAA,EAAA;AACA,kBAAA,KAAA,CAAA,CAAA,CAAA,CAAA,IAAA,CAAA,IAAA,CAAA,OAAA,CAAA,CAAA,CAAA,CAAA,QAAA;AACA,kBAAA,UAAA,CAAA,IAAA,GAAA,OAAA,CAAA,CAAA,CAAA;AACA,kBAAA,UAAA,CAAA,IAAA,CAAA,IAAA,CAAA,OAAA,CAAA,CAAA,CAAA,CAAA,KAAA,CAAA,SAAA,CAAA,CAAA,EAAA,OAAA,KAAA,CAAA;AACA;;AACA,gBAAA,MAAA,CAAA,IAAA,CAAA,UAAA;AACA;AACA;AACA;AACA;;AACA,YAAA,OAAA,GAAA,KAAA,CAAA,QAAA,CAAA,IAAA,CAAA,QAAA,CAAA,cAAA,CAAA,2BAAA,CAAA,CAAA;;AAEA,YAAA,MAAA,GAAA,EAAA;AAEA,QAAA,MAAA,CAAA,KAAA,GAAA,KAAA;AACA,QAAA,MAAA,CAAA,KAAA,GAAA,KAAA;AACA,QAAA,MAAA,CAAA,MAAA,GAAA,MAAA;AACA,QAAA,MAAA,CAAA,MAAA,GAAA,MAAA;AACA,QAAA,MAAA,CAAA,QAAA,GAAA,QAAA;AAEA,QAAA,MAAA,CAAA,OAAA,GAAA;AACA,UAAA,OAAA,EAAA;AADA,SAAA;AAIA,QAAA,OAAA,CAAA,KAAA;AACA,QAAA,OAAA,CAAA,SAAA,CAAA,MAAA;AACA,QAAA,KAAA,CAAA,OAAA,GAAA,KAAA;AACA,OAnEA,EAoEA,KApEA,CAoEA,UAAA,KAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,KAAA;AACA,QAAA,KAAA,CAAA,OAAA,GAAA,KAAA;AACA,OAvEA;AAwEA;AApSA;AArKA,CAAA","sourcesContent":["<template>\r\n  <div class=\"bg-write history environmentalHistory\">\r\n    <div\r\n      class=\"second-title\"\r\n      :style=\"{margin:'0 0 16px',padding: '26px 31px 0'}\"\r\n    >{{$t(\"History_Enviroment_Label\")}}</div>\r\n    <el-form ref=\"form\" label-width=\"80px\" class=\"history-message text-align-left\">\r\n      <div class=\"block text-align-left\" :style=\"{display:'inline-flex'}\">\r\n        <!-- 2019-03-04 時間の変更 -->\r\n        <!-- <el-date-picker format=\"yyyy-MM-dd HH:mm\"\r\n          v-model=\"historyStartTime\"\r\n          type=\"datetime\"\r\n          :placeholder=\"history_start_time_paceholder\"\r\n          prefix-icon=\"el-icon-date\"\r\n          style=\"width:200px\"\r\n          @change=\"dataTimeChange\"\r\n        ></el-date-picker>\r\n        <span class=\"input-time-line\">-</span>\r\n        <el-date-picker format=\"yyyy-MM-dd HH:mm\"\r\n          v-model=\"historyStopTime\"\r\n          type=\"datetime\"\r\n          :placeholder=\"history_end_time_paceholder\"\r\n          prefix-icon=\"el-icon-date\"\r\n          style=\"width:200px\"\r\n          @change=\"dataTimeChange\"\r\n        ></el-date-picker> -->\r\n         <div class=\"input-date\" >\r\n          <div class=\"input-append date form_datetime\">\r\n            <input class=\"input-time\" size=\"16\" type=\"text\" :placeholder=\"history_start_time_paceholder\" id=\"historyStartTime\" :style=\"{width:'200px','padding-left':'9px'}\">\r\n            <span class=\"add-on\"> <i class=\"icon-calendar\"></i> </span>\r\n          </div>\r\n         </div>\r\n         <span class=\"input-time-line\" :style=\"{'padding':'5px 15px'}\">-</span>\r\n         <div class=\"input-date\" >\r\n          <div class=\"input-append date form_datetime\">\r\n            <input class=\"input-time\" size=\"16\" type=\"text\" :placeholder=\"history_end_time_paceholder\" id=\"historyStopTime\" :style=\"{width:'200px','padding-left':'9px'}\">\r\n            <span class=\"add-on\"> <i class=\"icon-calendar\"></i> </span>\r\n         </div>\r\n        </div>\r\n      </div>\r\n      <div id=\"day-error-msg\" style=\"margin-top:10px;\" :style=\"{display:isDayErrorMsg}\">\r\n        <el-alert title=\"開始時刻と終了時刻を選んでください\" type=\"error\"></el-alert>\r\n      </div>\r\n      <div class=\"check-list text-align-left\">\r\n        <el-checkbox-group v-model=\"checkList.historyData\">\r\n          <el-checkbox\r\n            v-for=\"item in checkboxs\"\r\n            :key=\"item.id\"\r\n            :label=\"item.label\"\r\n            name=\"historyData\"\r\n            :style=\"item.style\"\r\n            :disabled=\"item.disabled\"\r\n            v-model=\"item.checked\"\r\n            @change=\"historyDataChange(item)\"\r\n          ></el-checkbox>\r\n        </el-checkbox-group>\r\n      </div>\r\n      <div id=\"day-error-msg\" style=\"margin-top:10px;\" :style=\"{display:isSensorErrorMsg}\">\r\n        <el-alert title=\"センサーデータを選んでください\" type=\"error\"></el-alert>\r\n      </div>\r\n      <div class=\"submit-button\">\r\n        <el-button\r\n          type=\"success\"\r\n          @click=\"environmentalHistoryCurve2\"\r\n          :style=\"{width:'80px',height:'36px',padding:'0'}\"\r\n        >{{$t(\"History_Search_Label\")}}</el-button>\r\n\r\n        <el-button\r\n          type=\"success\"\r\n          @click=\"environmentalHistoryCVS\"\r\n          :style=\"{width:'140px',height:'36px',padding:'0'}\"\r\n        >{{$t(\"History_CSV_Label\")}}</el-button>\r\n      </div>\r\n    </el-form>\r\n\r\n    <div class=\"border-top-gray\">\r\n      <div class=\"second-title\">\r\n        <span>{{between}}</span>\r\n      </div>\r\n      <div  v-loading=\"loading\" id=\"environmentalHistoryChart\" :style=\"{width:'100%', height: '500px','margin-bottom':'30px'}\"></div>\r\n      \r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport _$ from 'jquery'\r\nimport '../../public/static/datePicker/css/bootstrap.min.css'\r\nimport '../../public/static/datePicker/css/bootstrap-datetimepicker.min.css'\r\nimport '../../public/static/datePicker/js/bootstrap-datetimepicker.js'\r\nconst sensorFlag = false\r\nexport default {\r\n  sensorFlag,\r\n  name: 'EnvironmentalHistory',\r\n  data() {\r\n    return {\r\n      loginUser: '',\r\n      loading: false,\r\n      checkList: {\r\n        historyData: [],\r\n        typeTotal: [],\r\n      },\r\n      checkListType: {\r\n        temperature: false, //温度\r\n        humidity: false, //濕度\r\n        windSpeed: false, //风速\r\n        rainfall: false, //雨量\r\n        illumination: false, //照度\r\n        concentration: false, //浓度\r\n      },\r\n      //type: 1:温度,2:濕度,3:風向,4:風速,5:雨量,6:照度,7:浓度\r\n      checkboxs: [\r\n        {\r\n          id: '1',\r\n          label: this.$t('History_Param1_Label'),\r\n          type: 1,\r\n          disabled: false,\r\n          checked: false,\r\n          dataStr: 'LTMP',\r\n        },\r\n        {\r\n          id: '2',\r\n          label: this.$t('History_Param2_Label'),\r\n          type: 1,\r\n          disabled: false,\r\n          checked: false,\r\n          dataStr: 'OTMP',\r\n        },\r\n        {\r\n          id: '3',\r\n          label: this.$t('History_Param3_Label'),\r\n          type: 2,\r\n          disabled: false,\r\n          checked: false,\r\n          dataStr: 'LHM',\r\n        },\r\n        {\r\n          id: '4',\r\n          label: this.$t('History_Param4_Label'),\r\n          type: 2,\r\n          disabled: false,\r\n          checked: false,\r\n          dataStr: 'OHM',\r\n        },\r\n        {\r\n          id: '5',\r\n          label: this.$t('History_Param5_Label'),\r\n          type: 3,\r\n          // style: { width: '150px' },\r\n          disabled: false,\r\n          checked: false,\r\n          dataStr: 'WDIR',\r\n        },\r\n        {\r\n          id: '6',\r\n          label: this.$t('History_Param6_Label'),\r\n          type: 4,\r\n          disabled: false,\r\n          checked: false,\r\n          dataStr: 'WIND',\r\n        },\r\n        {\r\n          id: '7',\r\n          label: this.$t('History_Param7_Label'),\r\n          type: 4,\r\n          disabled: false,\r\n          checked: false,\r\n          dataStr: 'QWIND',\r\n        },\r\n        {\r\n          id: '8',\r\n          label: this.$t('History_Param8_Label'),\r\n          type: 5,\r\n          disabled: false,\r\n          checked: false,\r\n          dataStr: 'UVI',\r\n        },\r\n        {\r\n          id: '9',\r\n          label: this.$t('History_Param9_Label'),\r\n          type: 5,\r\n          disabled: false,\r\n          checked: false,\r\n          dataStr: 'RAIN1',\r\n        },\r\n        {\r\n          id: '10',\r\n          label: this.$t('History_Param10_Label'),\r\n          type: 6,\r\n          disabled: false,\r\n          checked: false,\r\n          dataStr: 'RAIN2',\r\n        },\r\n        {\r\n          id: '11',\r\n          label: this.$t('History_Param11_Label'),\r\n          type: 7,\r\n          disabled: false,\r\n          checked: false,\r\n          dataStr: 'LIGHT',\r\n        },\r\n        {\r\n          id: '12',\r\n          label: this.$t('History_Param12_Label'),\r\n          type: 7,\r\n          // style: { width: '150px' },\r\n          disabled: false,\r\n          checked: false,\r\n          dataStr: 'LIGHT10',\r\n        },\r\n        {\r\n          id: '13',\r\n          label: this.$t('History_Param13_Label'),\r\n          type: 7,\r\n          disabled: false,\r\n          checked: false,\r\n          dataStr: 'LIGHT2',\r\n        },\r\n        {\r\n          id: '14',\r\n          label: this.$t('History_Param14_Label'),\r\n          type: 2,\r\n          disabled: false,\r\n          checked: false,\r\n          dataStr: 'STMP',\r\n        },\r\n      ],\r\n      // 2019-03-04 時間の変更\r\n      // historyStartTime: '',\r\n      // historyStopTime: '',\r\n      history_start_time_paceholder: this.$t('History_Start_Time_PlaceHolder'),\r\n      history_end_time_paceholder: this.$t('History_End_Time_PlaceHolder'),\r\n      history_param_1: this.$t('History_Param1_Label'),\r\n      history_param_2: this.$t('History_Param2_Label'),\r\n      history_param_3: this.$t('History_Param3_Label'),\r\n      history_param_4: this.$t('History_Param4_Label'),\r\n      history_param_5: this.$t('History_Param5_Label'),\r\n      history_param_6: this.$t('History_Param6_Label'),\r\n      history_param_7: this.$t('History_Param7_Label'),\r\n      history_param_8: this.$t('History_Param8_Label'),\r\n      history_param_9: this.$t('History_Param9_Label'),\r\n      history_param_10: this.$t('History_Param10_Label'),\r\n      history_param_11: this.$t('History_Param11_Label'),\r\n      history_param_12: this.$t('History_Param12_Label'),\r\n      history_param_13: this.$t('History_Param13_Label'),\r\n      history_param_14: this.$t('History_Param14_Label'),\r\n      between: '',\r\n      isDayErrorMsg: 'none',\r\n      isSensorErrorMsg: 'none',\r\n    }\r\n  },\r\n created() {\r\n    \r\n    this.loginUser = this.$session.get('loginUser')\r\n   \r\n  },\r\n  methods: {\r\n    //時間表示スタイル\r\n    dateDefault() {\r\n      $('.form_datetime').datetimepicker({\r\n        language: 'jp',\r\n        format: 'yyyy-mm-dd hh:ii',\r\n        todayBtn: true, \r\n        autoclose: true, \r\n        showMeridian: 1, //時間表示スタイル\r\n        pickerPosition: 'bottom-right',\r\n      })\r\n    },\r\n    historyDataChange(item) {\r\n      var arr = this.checkList.typeTotal\r\n      item.checked = !item.checked\r\n      //選択する\r\n      if (item.checked) {\r\n        //判断是否选择センサーデータを判断するかどうかを判断する\r\n       this.sensorFlagData()\r\n\r\n        arr.push(item.type)\r\n        var newArr = this.arrUnique(arr)\r\n        if (newArr.length == 2) {\r\n          for (var index in this.checkboxs) {\r\n            if (newArr.indexOf(this.checkboxs[index].type) < 0) {\r\n              this.checkboxs[index].disabled = true\r\n            }\r\n          }\r\n        }\r\n      } else {\r\n        //判断是否选择センサーデータを判断するかどうかを判断する\r\n       this.sensorFlagData()\r\n\r\n        var j = arr.indexOf(item.type)\r\n\r\n        if (j > -1) {\r\n          arr.splice(j, 1)\r\n        }\r\n        var setArr = this.arrUnique(arr)\r\n        if (setArr.length < 2) {\r\n          for (var i in this.checkboxs) {\r\n            this.checkboxs[i].disabled = false\r\n          }\r\n        }\r\n      }\r\n    },\r\n    /**\r\n     * 繰り返しデータを削除\r\n     * @param {Array} array\r\n     */\r\n    arrUnique(array) {\r\n      var r = []\r\n      for (var i = 0, l = array.length; i < l; i++) {\r\n        for (var j = i + 1; j < l; j++) if (array[i] == array[j]) j == ++i\r\n        r.push(array[i])\r\n      }\r\n      return r\r\n    },\r\n    dataTimeChange() {\r\n      this.isDayErrorMsg = 'none'\r\n    },\r\n    environmentalHistoryCVS() {\r\n      //2019-03-04 時間の変更\r\n      // var startiso = this.historyStartTime.toISOString()\r\n      // var endiso = this.historyStopTime.toISOString()\r\n\r\n      var startdt=new Date(_$('#historyStartTime').val().replace(/-/g,'/'))\r\n      var enddt=new Date(_$('#historyStopTime').val().replace(/-/g,'/'))\r\n      var startiso = startdt.toISOString()\r\n      var endiso = enddt.toISOString()\r\n\r\n      this.between = ''\r\n\r\n      var filedstr = 'F'\r\n\r\n      for (var i = 0; i < this.checkList.historyData.length; i++) {\r\n        // console.log(this.checkList.historyData[i])\r\n        if (this.checkList.historyData[i] == this.history_param_1) filedstr += '-LTMP'\r\n        if (this.checkList.historyData[i] == this.history_param_2) filedstr += '-OTMP'\r\n        if (this.checkList.historyData[i] == this.history_param_3) filedstr += '-LHM'\r\n        if (this.checkList.historyData[i] == this.history_param_4) filedstr += '-OHM'\r\n        if (this.checkList.historyData[i] == this.history_param_5) filedstr += '-WDIR'\r\n        if (this.checkList.historyData[i] == this.history_param_6) filedstr += '-WIND'\r\n        if (this.checkList.historyData[i] == this.history_param_7) filedstr += '-QWIND'\r\n        if (this.checkList.historyData[i] == this.history_param_8) filedstr += '-RAIN1'\r\n        if (this.checkList.historyData[i] == this.history_param_9) filedstr += '-RAIN2'\r\n        if (this.checkList.historyData[i] == this.history_param_10) filedstr += '-UVI'\r\n        if (this.checkList.historyData[i] == this.history_param_11) filedstr += '-LIGHT'\r\n        if (this.checkList.historyData[i] == this.history_param_12) filedstr += '-LIGHT10'\r\n        if (this.checkList.historyData[i] == this.history_param_13) filedstr += '-LIGHT2'\r\n        if (this.checkList.historyData[i] == this.history_param_14) filedstr += '-STMP'\r\n      }\r\n\r\n      window.open('http://www.iot-fitone.com/sensordata?gwid=' + this.loginUser + '&table=' + filedstr + '&start=' + startiso + '&end=' + endiso + '&csv=1')\r\n    },\r\n    getChartsYaxis() {\r\n      var arr = this.arrUnique(this.checkList.typeTotal)\r\n      var yAxis = []\r\n      for (var i in arr) {\r\n        switch (arr[i]) {\r\n          case 1:\r\n            yAxis.push({\r\n              type: 'value',\r\n              name: '温度 °C',\r\n              custype: 1,\r\n              scale: true,\r\n            })\r\n            break\r\n          case 2:\r\n            yAxis.push({\r\n              type: 'value',\r\n              name: '濕度 %',\r\n              custype: 2,\r\n              scale: true,\r\n            })\r\n            break\r\n          case 3:\r\n            yAxis.push({\r\n              type: 'value',\r\n              name: '方位(°)',\r\n              custype: 3,\r\n              scale: true,\r\n            })\r\n            break\r\n          case 4:\r\n            yAxis.push({\r\n              type: 'value',\r\n              name: '風速(m/s)',\r\n              custype: 4,\r\n              scale: true,\r\n            })\r\n\r\n            break\r\n\r\n          case 5:\r\n            yAxis.push({\r\n              type: 'value',\r\n              name: '雨量(mm)',\r\n              custype: 5,\r\n              scale: true,\r\n            })\r\n\r\n            break\r\n          case 6:\r\n            yAxis.push({\r\n              type: 'value',\r\n              name: '紫外線(μw/cm²)',\r\n              custype: 6,\r\n              scale: true,\r\n            })\r\n            break\r\n          case 7:\r\n            yAxis.push({\r\n              type: 'value',\r\n              custype: 7,\r\n              name: '照度(lux)',\r\n              scale: true,\r\n            })\r\n            break\r\n        }\r\n      }\r\n\r\n      return yAxis\r\n    },\r\n    \r\n    sensorDayData() {\r\n      var historyStart=_$('#historyStartTime').val()\r\n      var historyEnd=_$('#historyStopTime').val()\r\n      //判断时刻是否选择時刻を判断するかどうかを判断する\r\n      if (\r\n        //2019-03-04 時間の変更\r\n        // this.historyStartTime == null ||\r\n        // this.historyStartTime == undefined ||\r\n        // this.historyStartTime == '' ||\r\n        // this.historyStopTime == null ||\r\n        // this.historyStopTime == undefined ||\r\n        // this.historyStopTime == ''\r\n         historyStart == null || historyStart == undefined || historyStart== '' || historyEnd == null ||historyEnd == undefined ||historyEnd == ''\r\n      ) {\r\n        this.isDayErrorMsg = 'block'\r\n        this.sensorFlag = false\r\n      } else {\r\n        this.isDayErrorMsg = 'none'\r\n        this.sensorFlag = true\r\n      }\r\n     \r\n    },\r\n     sensorFlagData(){\r\n     //判断是否选择センサーデータを判断するかどうかを判断する\r\n      if (this.checkList.historyData.length == 0) {\r\n        this.isSensorErrorMsg = 'block'\r\n        this.sensorFlag = false\r\n      } else {\r\n        this.isSensorErrorMsg = 'none'\r\n        this.sensorFlag = true\r\n      }\r\n    },\r\n    //判断是否选择「时刻」と「センサーデータ」を判断するかどうかを判断する\r\n    sensorData(){\r\n      this.sensorDayData()\r\n      this.sensorFlagData()\r\n    },\r\n    environmentalHistoryCurve2() {\r\n      \r\n      this.sensorData()\r\n      if (this.sensorFlag == false) {\r\n        return\r\n      }\r\n    \r\n      //2019-03-04 時間の変更\r\n      // var startiso = this.historyStartTime.toISOString()\r\n      // var endiso = this.historyStopTime.toISOString()\r\n\r\n      var startdt=new Date(_$('#historyStartTime').val().replace(/-/g,'/'))\r\n      var enddt=new Date(_$('#historyStopTime').val().replace(/-/g,'/'))\r\n      var startiso = startdt.toISOString()\r\n      var endiso = enddt.toISOString()\r\n\r\n      var urlstr = 'http://www.iot-fitone.com/sensordata?gwid=' + this.loginUser + '&table=LTMP&start=' + startiso + '&end=' + endiso\r\n      this.loading=true\r\n      this.$ajax({\r\n        method: 'GET',\r\n        url: urlstr,\r\n      }).then(res => {\r\n          var dataZoom=[{\r\n            show:true,\r\n          }]\r\n          var xAxis = [\r\n            {\r\n              type: 'category',\r\n              show: true,\r\n              axisLine: { onZero: false },\r\n              data: [],\r\n            },\r\n          ]\r\n          var legend = {\r\n            data: [],\r\n          }\r\n          var yAxis = this.getChartsYaxis()\r\n\r\n          var series = []\r\n          if (res.data) {\r\n            var resData = res.data\r\n            var hisData = this.checkList.historyData\r\n            for (var j in hisData) {\r\n              legend.data.push(hisData[j])\r\n              for (var m in this.checkboxs) {\r\n                if (hisData[j] === this.checkboxs[m].label) {\r\n                  var yIndex = 0\r\n                  if (yAxis[1] && yAxis[1].custype == this.checkboxs[m].type) {\r\n                    yIndex = 1\r\n                  }\r\n                  var seriesJosn = {\r\n                    type: 'line',\r\n                    yAxisIndex: yIndex,\r\n                    data: [],\r\n                  }\r\n                  var arr = this.arrUnique(this.checkList.typeTotal)\r\n                  arr.indexOf(this.checkboxs[m])\r\n                  xAxis[0].data = []\r\n                  for (var i = 0; i < resData.length; i++) {\r\n                    xAxis[0].data.push(resData[i].showdate)\r\n                    seriesJosn.name = hisData[j]\r\n                    seriesJosn.data.push(resData[i][this.checkboxs[m].dataStr] || 0)\r\n                  }\r\n                  series.push(seriesJosn)\r\n                }\r\n              }\r\n            }\r\n          }\r\n          let myChart = this.$echarts.init(document.getElementById('environmentalHistoryChart'))\r\n         \r\n          var option = {}\r\n\r\n          option.xAxis = xAxis\r\n          option.yAxis = yAxis\r\n          option.legend = legend\r\n          option.series = series\r\n          option.dataZoom=dataZoom\r\n\r\n          option.tooltip = {\r\n            trigger: 'axis',\r\n          }\r\n\r\n          myChart.clear()\r\n          myChart.setOption(option)\r\n          this.loading = false\r\n        })\r\n        .catch(error => {\r\n          console.log(error)\r\n          this.loading = false\r\n        })\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style  lang=\"scss\" scoped>\r\n#HistoricalData {\r\n  overflow: hidden;\r\n  text-align: left;\r\n}\r\n.border-top-gray {\r\n  border-top: 1px solid #ebedf4;\r\n  .second-title {\r\n    padding: 30px 31px 8px;\r\n    font-family: PingFangSC-Regular;\r\n    font-size: 20px;\r\n    color: #31394d;\r\n    letter-spacing: 0;\r\n    &.echartsTime {\r\n      border-bottom: 1px solid #ebedf4;\r\n    }\r\n  }\r\n}\r\n.history {\r\n  .history-message {\r\n    padding: 0 31px 26px;\r\n    .input-time-line {\r\n      padding: 15px;\r\n    }\r\n  }\r\n  .check-list {\r\n    overflow: hidden;\r\n    display: block;\r\n  }\r\n  .submit-button {\r\n    display: block;\r\n    text-align: center;\r\n    margin: 26px auto 10px;\r\n    .clear-title {\r\n      padding-right: 20px;\r\n      font-family: PingFangSC-Regular;\r\n      font-size: 14px;\r\n      color: rgba(0, 0, 0, 0.65);\r\n      letter-spacing: 0;\r\n    }\r\n    .el-button--success {\r\n      border-color: #00cc99;\r\n      background-color: #00cc99;\r\n    }\r\n  }\r\n\r\n  .el-carousel-record {\r\n    &.el-carousel {\r\n      @media (min-width: 998px) {\r\n        margin: 20px 74px 71px;\r\n        width: 82%;\r\n      }\r\n      @media (min-width: 1024px) {\r\n        margin: 20px 84px 71px;\r\n        width: 80.5%;\r\n      }\r\n      @media (min-width: 1050px) {\r\n        margin: 20px 96px 71px;\r\n        width: 78%;\r\n      }\r\n      @media (min-width: 1070px) {\r\n        margin: 20px 105px 71px;\r\n        width: 75%;\r\n      }\r\n      @media (min-width: 1280px) {\r\n        margin: 20px 115px 71px;\r\n        width: 75%;\r\n      }\r\n      .carousel-text {\r\n        position: relative;\r\n        top: -28px;\r\n        left: -5px;\r\n        text-align: right;\r\n        .img-time {\r\n          font-family: PingFangSC-Regular;\r\n          font-size: 14px;\r\n          color: rgba(255, 255, 255, 0.8);\r\n          letter-spacing: 0;\r\n          padding-right: 10px;\r\n        }\r\n        .img-load {\r\n          opacity: 0.8;\r\n          font-family: PingFangSC-Regular;\r\n          font-size: 14px;\r\n          color: #ffffff;\r\n          text-align: left;\r\n        }\r\n        .el-icon-download {\r\n          color: rgba(255, 255, 255, 0.8);\r\n          border-radius: 1px;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  .ipcam_slide_show {\r\n    width: 640px;\r\n    height: 360px;\r\n  }\r\n}\r\n</style>\r\n\r\n\r\n"],"sourceRoot":"src/components"}]}