{"remainingRequest":"/home/alex/kaso-agri/node_modules/babel-loader/lib/index.js!/home/alex/kaso-agri/node_modules/eslint-loader/index.js??ref--13-0!/home/alex/kaso-agri/public/static/datePicker/js/bootstrap-clockpicker.js","dependencies":[{"path":"/home/alex/kaso-agri/public/static/datePicker/js/bootstrap-clockpicker.js","mtime":1551956106784},{"path":"/home/alex/kaso-agri/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/alex/kaso-agri/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/alex/kaso-agri/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _typeof from \"/home/alex/kaso-agri/node_modules/@babel/runtime/helpers/esm/typeof\";\nimport \"core-js/modules/es6.regexp.split\";\nimport \"core-js/modules/es6.array.find\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.promise\";\nimport \"core-js/modules/es7.promise.finally\";\n\n/*!\r\n * ClockPicker v0.0.6 (http://weareoutman.github.io/clockpicker/)\r\n * Copyright 2014 Wang Shenwei.\r\n * Licensed under MIT (https://github.com/weareoutman/clockpicker/blob/master/LICENSE)\r\n */\n;\n\n(function () {\n  var $ = window.$,\n      $win = $(window),\n      $doc = $(document),\n      $body; // Can I use inline svg ?\n\n  var svgNS = 'http://www.w3.org/2000/svg',\n      svgSupported = 'SVGAngle' in window && function () {\n    var supported,\n        el = document.createElement('div');\n    el.innerHTML = '<svg/>';\n    supported = (el.firstChild && el.firstChild.namespaceURI) == svgNS;\n    el.innerHTML = '';\n    return supported;\n  }(); // Can I use transition ?\n\n\n  var transitionSupported = function () {\n    var style = document.createElement('div').style;\n    return 'transition' in style || 'WebkitTransition' in style || 'MozTransition' in style || 'msTransition' in style || 'OTransition' in style;\n  }(); // Listen touch events in touch screen device, instead of mouse events in desktop.\n\n\n  var touchSupported = 'ontouchstart' in window,\n      mousedownEvent = touchSupported ? 'touchstart' : 'mousedown',\n      mousemoveEvent = touchSupported ? 'touchmove' : 'mousemove',\n      mouseupEvent = touchSupported ? 'touchend' : 'mouseup'; // Vibrate the device if supported\n\n  var vibrate = navigator.vibrate ? 'vibrate' : navigator.webkitVibrate ? 'webkitVibrate' : null;\n\n  function createSvgElement(name) {\n    return document.createElementNS(svgNS, name);\n  }\n\n  function leadingZero(num) {\n    return (num < 10 ? '0' : '') + num;\n  } // Get a unique id\n\n\n  var idCounter = 0;\n\n  function uniqueId(prefix) {\n    var id = ++idCounter + '';\n    return prefix ? prefix + id : id;\n  } // Clock size\n\n\n  var dialRadius = 100,\n      outerRadius = 80,\n      innerRadius = 54,\n      tickRadius = 13,\n      diameter = dialRadius * 2,\n      duration = transitionSupported ? 350 : 1; // Popover template\n\n  var tpl = ['<div class=\"popover clockpicker-popover\">', '<div class=\"arrow\"></div>', '<div class=\"popover-title\">', '<span class=\"clockpicker-span-hours text-primary\"></span>', ' : ', '<span class=\"clockpicker-span-minutes\"></span>', '</div>', '<div class=\"popover-content\">', '<div class=\"clockpicker-plate\">', '<div class=\"clockpicker-canvas\"></div>', '<div class=\"clockpicker-dial clockpicker-hours\"></div>', '<div class=\"clockpicker-dial clockpicker-minutes clockpicker-dial-out\"></div>', '</div>', '</div>', '</div>'].join(''); // ClockPicker\n\n  function ClockPicker(element, options) {\n    var popover = $(tpl),\n        plate = popover.find('.clockpicker-plate'),\n        hoursView = popover.find('.clockpicker-hours'),\n        minutesView = popover.find('.clockpicker-minutes'),\n        isInput = element.prop('tagName') === 'INPUT',\n        input = isInput ? element : element.find('input'),\n        addon = element.find('.input-group-addon'),\n        self = this,\n        timer;\n    this.id = uniqueId('cp');\n    this.element = element;\n    this.options = options;\n    this.isAppended = false;\n    this.isShown = false;\n    this.currentView = 'hours';\n    this.isInput = isInput;\n    this.input = input;\n    this.addon = addon;\n    this.popover = popover;\n    this.plate = plate;\n    this.hoursView = hoursView;\n    this.minutesView = minutesView;\n    this.spanHours = popover.find('.clockpicker-span-hours');\n    this.spanMinutes = popover.find('.clockpicker-span-minutes');\n\n    if (!options.autoclose) {\n      // If autoclose is not setted, append a button\n      $('<button type=\"button\" class=\"btn btn-sm btn-default btn-block clockpicker-button\">' + options.donetext + '</button>').click($.proxy(this.done, this)).appendTo(popover);\n    } // Placement and arrow align\n\n\n    popover.addClass(options.placement);\n    popover.addClass('clockpicker-align-' + options.align);\n    this.spanHours.click($.proxy(this.toggleView, this, 'hours'));\n    this.spanMinutes.click($.proxy(this.toggleView, this, 'minutes')); // Show or toggle\n\n    input.on('focus.clockpicker', $.proxy(this.show, this));\n    addon.on('click.clockpicker', $.proxy(this.toggle, this)); // Build ticks\n\n    var tickTpl = $('<div class=\"clockpicker-tick\"></div>'),\n        i,\n        tick,\n        radian; // Hours view\n\n    for (i = 0; i < 24; i += 1) {\n      tick = tickTpl.clone();\n      radian = i / 6 * Math.PI;\n      var inner = i > 0 && i < 13,\n          radius = inner ? innerRadius : outerRadius;\n      tick.css({\n        left: dialRadius + Math.sin(radian) * radius - tickRadius,\n        top: dialRadius - Math.cos(radian) * radius - tickRadius\n      });\n\n      if (inner) {\n        tick.css('font-size', '120%');\n      }\n\n      tick.html(i === 0 ? '00' : i);\n      hoursView.append(tick);\n      tick.on(mousedownEvent, mousedown);\n    } // Minutes view\n\n\n    for (i = 0; i < 60; i += 5) {\n      tick = tickTpl.clone();\n      radian = i / 30 * Math.PI;\n      tick.css({\n        left: dialRadius + Math.sin(radian) * outerRadius - tickRadius,\n        top: dialRadius - Math.cos(radian) * outerRadius - tickRadius\n      });\n      tick.css('font-size', '120%');\n      tick.html(leadingZero(i));\n      minutesView.append(tick);\n      tick.on(mousedownEvent, mousedown);\n    } // Clicking on minutes view space\n\n\n    plate.on(mousedownEvent, function (e) {\n      if ($(e.target).closest('.clockpicker-tick').length === 0) {\n        mousedown(e, true);\n      }\n    }); // Mousedown or touchstart\n\n    function mousedown(e, space) {\n      var offset = plate.offset(),\n          isTouch = /^touch/.test(e.type),\n          x0 = offset.left + dialRadius,\n          y0 = offset.top + dialRadius,\n          dx = (isTouch ? e.originalEvent.touches[0] : e).pageX - x0,\n          dy = (isTouch ? e.originalEvent.touches[0] : e).pageY - y0,\n          z = Math.sqrt(dx * dx + dy * dy),\n          moved = false; // When clicking on minutes view space, check the mouse position\n\n      if (space && (z < outerRadius - tickRadius || z > outerRadius + tickRadius)) {\n        return;\n      }\n\n      e.preventDefault(); // Set cursor style of body after 200ms\n\n      var movingTimer = setTimeout(function () {\n        $body.addClass('clockpicker-moving');\n      }, 200); // Place the canvas to top\n\n      if (svgSupported) {\n        plate.append(self.canvas);\n      } // Clock\n\n\n      self.setHand(dx, dy, !space, true); // Mousemove on document\n\n      $doc.off(mousemoveEvent + '.clockpicker').on(mousemoveEvent + '.clockpicker', function (e) {\n        e.preventDefault();\n        var x = (isTouch ? e.originalEvent.touches[0] : e).pageX - x0,\n            y = (isTouch ? e.originalEvent.touches[0] : e).pageY - y0;\n\n        if (!moved && x === dx && y === dy) {\n          // Clicking in chrome on windows will trigger a mousemove event\n          return;\n        }\n\n        moved = true;\n        self.setHand(x, y, false, true);\n      }); // Mouseup on document\n\n      $doc.off(mouseupEvent + '.clockpicker').one(mouseupEvent + '.clockpicker', function (e) {\n        e.preventDefault();\n        var x = (isTouch ? e.originalEvent.changedTouches[0] : e).pageX - x0,\n            y = (isTouch ? e.originalEvent.changedTouches[0] : e).pageY - y0;\n\n        if ((space || moved) && x === dx && y === dy) {\n          self.setHand(x, y);\n        }\n\n        if (self.currentView === 'hours') {\n          self.toggleView('minutes', duration / 2);\n        } else {\n          if (options.autoclose) {\n            self.minutesView.addClass('clockpicker-dial-out');\n            setTimeout(function () {\n              self.done();\n            }, duration / 2);\n          }\n        }\n\n        plate.prepend(canvas); // Reset cursor style of body\n\n        clearTimeout(movingTimer);\n        $body.removeClass('clockpicker-moving'); // Unbind mousemove event\n\n        $doc.off(mousemoveEvent + '.clockpicker');\n      });\n    }\n\n    if (svgSupported) {\n      // Draw clock hands and others\n      var canvas = popover.find('.clockpicker-canvas'),\n          svg = createSvgElement('svg');\n      svg.setAttribute('class', 'clockpicker-svg');\n      svg.setAttribute('width', diameter);\n      svg.setAttribute('height', diameter);\n      var g = createSvgElement('g');\n      g.setAttribute('transform', 'translate(' + dialRadius + ',' + dialRadius + ')');\n      var bearing = createSvgElement('circle');\n      bearing.setAttribute('class', 'clockpicker-canvas-bearing');\n      bearing.setAttribute('cx', 0);\n      bearing.setAttribute('cy', 0);\n      bearing.setAttribute('r', 2);\n      var hand = createSvgElement('line');\n      hand.setAttribute('x1', 0);\n      hand.setAttribute('y1', 0);\n      var bg = createSvgElement('circle');\n      bg.setAttribute('class', 'clockpicker-canvas-bg');\n      bg.setAttribute('r', tickRadius);\n      var fg = createSvgElement('circle');\n      fg.setAttribute('class', 'clockpicker-canvas-fg');\n      fg.setAttribute('r', 3.5);\n      g.appendChild(hand);\n      g.appendChild(bg);\n      g.appendChild(fg);\n      g.appendChild(bearing);\n      svg.appendChild(g);\n      canvas.append(svg);\n      this.hand = hand;\n      this.bg = bg;\n      this.fg = fg;\n      this.bearing = bearing;\n      this.g = g;\n      this.canvas = canvas;\n    }\n  } // Default options\n\n\n  ClockPicker.DEFAULTS = {\n    'default': '',\n    // default time, 'now' or '13:14' e.g.\n    fromnow: 0,\n    // set default time to * milliseconds from now (using with default = 'now')\n    placement: 'bottom',\n    // clock popover placement\n    align: 'left',\n    // popover arrow align\n    donetext: '完成',\n    // done button text\n    autoclose: false,\n    // auto close when minute is selected\n    vibrate: true // vibrate the device when dragging clock hand\n\n  }; // Show or hide popover\n\n  ClockPicker.prototype.toggle = function () {\n    this[this.isShown ? 'hide' : 'show']();\n  }; // Set popover position\n\n\n  ClockPicker.prototype.locate = function () {\n    var element = this.element,\n        popover = this.popover,\n        offset = element.offset(),\n        width = element.outerWidth(),\n        height = element.outerHeight(),\n        placement = this.options.placement,\n        align = this.options.align,\n        styles = {},\n        self = this;\n    popover.show(); // Place the popover\n\n    switch (placement) {\n      case 'bottom':\n        styles.top = offset.top + height;\n        break;\n\n      case 'right':\n        styles.left = offset.left + width;\n        break;\n\n      case 'top':\n        styles.top = offset.top - popover.outerHeight();\n        break;\n\n      case 'left':\n        styles.left = offset.left - popover.outerWidth();\n        break;\n    } // Align the popover arrow\n\n\n    switch (align) {\n      case 'left':\n        styles.left = offset.left;\n        break;\n\n      case 'right':\n        styles.left = offset.left + width - popover.outerWidth();\n        break;\n\n      case 'top':\n        styles.top = offset.top;\n        break;\n\n      case 'bottom':\n        styles.top = offset.top + height - popover.outerHeight();\n        break;\n    }\n\n    popover.css(styles);\n  }; // Show popover\n\n\n  ClockPicker.prototype.show = function (e) {\n    // Not show again\n    if (this.isShown) {\n      return;\n    }\n\n    var self = this; // Initialize\n\n    if (!this.isAppended) {\n      // Append popover to body\n      $body = $(document.body).append(this.popover); // Reset position when resize\n\n      $win.on('resize.clockpicker' + this.id, function () {\n        if (self.isShown) {\n          self.locate();\n        }\n      });\n      this.isAppended = true;\n    } // Get the time\n\n\n    var value = ((this.input.prop('value') || this.options['default'] || '') + '').split(':');\n\n    if (value[0] === 'now') {\n      var now = new Date(+new Date() + this.options.fromnow);\n      value = [now.getHours(), now.getMinutes()];\n    }\n\n    this.hours = +value[0] || 0;\n    this.minutes = +value[1] || 0;\n    this.spanHours.html(leadingZero(this.hours));\n    this.spanMinutes.html(leadingZero(this.minutes)); // Toggle to hours view\n\n    this.toggleView('hours'); // Set position\n\n    this.locate();\n    this.isShown = true; // Hide when clicking on any element except the clock, input and addon\n\n    $doc.on('click.clockpicker.' + this.id, function (e) {\n      var target = $(e.target);\n\n      if (target.closest(self.popover).length === 0 && target.closest(self.addon).length === 0 && target.closest(self.input).length === 0) {\n        self.hide();\n      }\n    }); // Hide when ESC is pressed\n\n    $doc.on('keyup.clockpicker.' + this.id, function (e) {\n      if (e.keyCode === 27) {\n        self.hide();\n      }\n    });\n  }; // Hide popover\n\n\n  ClockPicker.prototype.hide = function () {\n    this.isShown = false; // Unbinding events on document\n\n    $doc.off('click.clockpicker.' + this.id);\n    $doc.off('keyup.clockpicker.' + this.id);\n    this.popover.hide();\n  }; // Toggle to hours or minutes view\n\n\n  ClockPicker.prototype.toggleView = function (view, delay) {\n    var isHours = view === 'hours',\n        nextView = isHours ? this.hoursView : this.minutesView,\n        hideView = isHours ? this.minutesView : this.hoursView;\n    this.currentView = view;\n    this.spanHours.toggleClass('text-primary', isHours);\n    this.spanMinutes.toggleClass('text-primary', !isHours); // Let's make transitions\n\n    hideView.addClass('clockpicker-dial-out');\n    nextView.css('visibility', 'visible').removeClass('clockpicker-dial-out'); // Reset clock hand\n\n    this.resetClock(delay); // After transitions ended\n\n    clearTimeout(this.toggleViewTimer);\n    this.toggleViewTimer = setTimeout(function () {\n      hideView.css('visibility', 'hidden');\n    }, duration);\n  }; // Reset clock hand\n\n\n  ClockPicker.prototype.resetClock = function (delay) {\n    var view = this.currentView,\n        value = this[view],\n        isHours = view === 'hours',\n        unit = Math.PI / (isHours ? 6 : 30),\n        radian = value * unit,\n        radius = isHours && value > 0 && value < 13 ? innerRadius : outerRadius,\n        x = Math.sin(radian) * radius,\n        y = -Math.cos(radian) * radius,\n        self = this;\n\n    if (svgSupported && delay) {\n      self.canvas.addClass('clockpicker-canvas-out');\n      setTimeout(function () {\n        self.canvas.removeClass('clockpicker-canvas-out');\n        self.setHand(x, y);\n      }, delay);\n    } else {\n      this.setHand(x, y);\n    }\n  }; // Set clock hand to (x, y)\n\n\n  ClockPicker.prototype.setHand = function (x, y, roundBy5, dragging) {\n    var radian = Math.atan2(x, -y),\n        isHours = this.currentView === 'hours',\n        unit = Math.PI / (isHours || roundBy5 ? 6 : 30),\n        z = Math.sqrt(x * x + y * y),\n        options = this.options,\n        inner = isHours && z < (outerRadius + innerRadius) / 2,\n        radius = inner ? innerRadius : outerRadius,\n        value; // Radian should in range [0, 2PI]\n\n    if (radian < 0) {\n      radian = Math.PI * 2 + radian;\n    } // Get the round value\n\n\n    value = Math.round(radian / unit); // Get the round radian\n\n    radian = value * unit; // Correct the hours or minutes\n\n    if (isHours) {\n      if (value === 12) {\n        value = 0;\n      }\n\n      value = inner ? value === 0 ? 12 : value : value === 0 ? 0 : value + 12;\n    } else {\n      if (roundBy5) {\n        value *= 5;\n      }\n\n      if (value === 60) {\n        value = 0;\n      }\n    } // Once hours or minutes changed, vibrate the device\n\n\n    if (this[this.currentView] !== value) {\n      if (vibrate && this.options.vibrate) {\n        // Do not vibrate too frequently\n        if (!this.vibrateTimer) {\n          navigator[vibrate](10);\n          this.vibrateTimer = setTimeout($.proxy(function () {\n            this.vibrateTimer = null;\n          }, this), 100);\n        }\n      }\n    }\n\n    this[this.currentView] = value;\n    this[isHours ? 'spanHours' : 'spanMinutes'].html(leadingZero(value)); // If svg is not supported, just add an active class to the tick\n\n    if (!svgSupported) {\n      this[isHours ? 'hoursView' : 'minutesView'].find('.clockpicker-tick').each(function () {\n        var tick = $(this);\n        tick.toggleClass('active', value === +tick.html());\n      });\n      return;\n    } // Place clock hand at the top when dragging\n\n\n    if (dragging || !isHours && value % 5) {\n      this.g.insertBefore(this.hand, this.bearing);\n      this.g.insertBefore(this.bg, this.fg);\n      this.bg.setAttribute('class', 'clockpicker-canvas-bg clockpicker-canvas-bg-trans');\n    } else {\n      // Or place it at the bottom\n      this.g.insertBefore(this.hand, this.bg);\n      this.g.insertBefore(this.fg, this.bg);\n      this.bg.setAttribute('class', 'clockpicker-canvas-bg');\n    } // Set clock hand and others' position\n\n\n    var cx = Math.sin(radian) * radius,\n        cy = -Math.cos(radian) * radius;\n    this.hand.setAttribute('x2', cx);\n    this.hand.setAttribute('y2', cy);\n    this.bg.setAttribute('cx', cx);\n    this.bg.setAttribute('cy', cy);\n    this.fg.setAttribute('cx', cx);\n    this.fg.setAttribute('cy', cy);\n  }; // Hours and minuts is selected\n\n\n  ClockPicker.prototype.done = function () {\n    this.hide();\n    var last = this.input.prop('value'),\n        value = leadingZero(this.hours) + ':' + leadingZero(this.minutes);\n    this.input.prop('value', value);\n\n    if (value !== last) {\n      this.input.triggerHandler('change');\n\n      if (!this.isInput) {\n        this.element.trigger('change');\n      }\n    }\n  }; // Remove clockpicker from input\n\n\n  ClockPicker.prototype.remove = function () {\n    this.element.removeData('clockpicker');\n    this.input.off('focus.clockpicker');\n    this.addon.off('click.clockpicker');\n\n    if (this.isShown) {\n      this.hide();\n    }\n\n    if (this.isAppended) {\n      $win.off('resize.clockpicker' + this.id);\n      this.popover.remove();\n    }\n  }; // Extends $.fn.clockpicker\n\n\n  $.fn.clockpicker = function (option) {\n    var args = Array.prototype.slice.call(arguments, 1);\n    return this.each(function () {\n      var $this = $(this),\n          data = $this.data('clockpicker');\n\n      if (!data) {\n        var options = $.extend({}, ClockPicker.DEFAULTS, $this.data(), _typeof(option) == 'object' && option);\n        $this.data('clockpicker', new ClockPicker($this, options));\n      } else {\n        // Manual operatsions. show, hide, remove, e.g.\n        if (typeof data[option] === 'function') {\n          data[option].apply(data, args);\n        }\n      }\n    });\n  };\n})();",{"version":3,"sources":["/home/alex/kaso-agri/public/static/datePicker/js/bootstrap-clockpicker.js"],"names":["$","window","$win","$doc","document","$body","svgNS","svgSupported","supported","el","createElement","innerHTML","firstChild","namespaceURI","transitionSupported","style","touchSupported","mousedownEvent","mousemoveEvent","mouseupEvent","vibrate","navigator","webkitVibrate","createSvgElement","name","createElementNS","leadingZero","num","idCounter","uniqueId","prefix","id","dialRadius","outerRadius","innerRadius","tickRadius","diameter","duration","tpl","join","ClockPicker","element","options","popover","plate","find","hoursView","minutesView","isInput","prop","input","addon","self","timer","isAppended","isShown","currentView","spanHours","spanMinutes","autoclose","donetext","click","proxy","done","appendTo","addClass","placement","align","toggleView","on","show","toggle","tickTpl","i","tick","radian","clone","Math","PI","inner","radius","css","left","sin","top","cos","html","append","mousedown","e","target","closest","length","space","offset","isTouch","test","type","x0","y0","dx","originalEvent","touches","pageX","dy","pageY","z","sqrt","moved","preventDefault","movingTimer","setTimeout","canvas","setHand","off","x","y","one","changedTouches","prepend","clearTimeout","removeClass","svg","setAttribute","g","bearing","hand","bg","fg","appendChild","DEFAULTS","fromnow","prototype","locate","width","outerWidth","height","outerHeight","styles","body","value","split","now","Date","getHours","getMinutes","hours","minutes","hide","keyCode","view","delay","isHours","nextView","hideView","toggleClass","resetClock","toggleViewTimer","unit","roundBy5","dragging","atan2","round","vibrateTimer","each","insertBefore","cx","cy","last","triggerHandler","trigger","remove","removeData","fn","clockpicker","option","args","Array","slice","call","arguments","$this","data","extend","apply"],"mappings":"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","sourcesContent":["/*!\r\n * ClockPicker v0.0.6 (http://weareoutman.github.io/clockpicker/)\r\n * Copyright 2014 Wang Shenwei.\r\n * Licensed under MIT (https://github.com/weareoutman/clockpicker/blob/master/LICENSE)\r\n */\r\n\r\n;(function(){\r\n\tvar $ = window.$,\r\n\t\t$win = $(window),\r\n\t\t$doc = $(document),\r\n\t\t$body;\r\n\r\n\t// Can I use inline svg ?\r\n\tvar svgNS = 'http://www.w3.org/2000/svg',\r\n\t\tsvgSupported = 'SVGAngle' in window && (function(){\r\n\t\t\tvar supported,\r\n\t\t\t\tel = document.createElement('div');\r\n\t\t\tel.innerHTML = '<svg/>';\r\n\t\t\tsupported = (el.firstChild && el.firstChild.namespaceURI) == svgNS;\r\n\t\t\tel.innerHTML = '';\r\n\t\t\treturn supported;\r\n\t\t})();\r\n\r\n\t// Can I use transition ?\r\n\tvar transitionSupported = (function(){\r\n\t\tvar style = document.createElement('div').style;\r\n\t\treturn 'transition' in style ||\r\n\t\t\t'WebkitTransition' in style ||\r\n\t\t\t'MozTransition' in style ||\r\n\t\t\t'msTransition' in style ||\r\n\t\t\t'OTransition' in style;\r\n\t})();\r\n\r\n\t// Listen touch events in touch screen device, instead of mouse events in desktop.\r\n\tvar touchSupported = 'ontouchstart' in window,\r\n\t\tmousedownEvent = touchSupported ? 'touchstart' : 'mousedown',\r\n\t\tmousemoveEvent = touchSupported ? 'touchmove' : 'mousemove',\r\n\t\tmouseupEvent = touchSupported ? 'touchend' : 'mouseup';\r\n\r\n\t// Vibrate the device if supported\r\n\tvar vibrate = navigator.vibrate ? 'vibrate' : navigator.webkitVibrate ? 'webkitVibrate' : null;\r\n\r\n\tfunction createSvgElement(name) {\r\n\t\treturn document.createElementNS(svgNS, name);\r\n\t}\r\n\r\n\tfunction leadingZero(num) {\r\n\t\treturn (num < 10 ? '0' : '') + num;\r\n\t}\r\n\r\n\t// Get a unique id\r\n\tvar idCounter = 0;\r\n\tfunction uniqueId(prefix) {\r\n\t\tvar id = ++idCounter + '';\r\n\t\treturn prefix ? prefix + id : id;\r\n\t}\r\n\r\n\t// Clock size\r\n\tvar dialRadius = 100,\r\n\t\touterRadius = 80,\r\n\t\tinnerRadius = 54,\r\n\t\ttickRadius = 13,\r\n\t\tdiameter = dialRadius * 2,\r\n\t\tduration = transitionSupported ? 350 : 1;\r\n\r\n\t// Popover template\r\n\tvar tpl = [\r\n\t\t'<div class=\"popover clockpicker-popover\">',\r\n\t\t\t'<div class=\"arrow\"></div>',\r\n\t\t\t'<div class=\"popover-title\">',\r\n\t\t\t\t'<span class=\"clockpicker-span-hours text-primary\"></span>',\r\n\t\t\t\t' : ',\r\n\t\t\t\t'<span class=\"clockpicker-span-minutes\"></span>',\r\n\t\t\t'</div>',\r\n\t\t\t'<div class=\"popover-content\">',\r\n\t\t\t\t'<div class=\"clockpicker-plate\">',\r\n\t\t\t\t\t'<div class=\"clockpicker-canvas\"></div>',\r\n\t\t\t\t\t'<div class=\"clockpicker-dial clockpicker-hours\"></div>',\r\n\t\t\t\t\t'<div class=\"clockpicker-dial clockpicker-minutes clockpicker-dial-out\"></div>',\r\n\t\t\t\t'</div>',\r\n\t\t\t'</div>',\r\n\t\t'</div>'\r\n\t].join('');\r\n\r\n\t// ClockPicker\r\n\tfunction ClockPicker(element, options) {\r\n\t\tvar popover = $(tpl),\r\n\t\t\tplate = popover.find('.clockpicker-plate'),\r\n\t\t\thoursView = popover.find('.clockpicker-hours'),\r\n\t\t\tminutesView = popover.find('.clockpicker-minutes'),\r\n\t\t\tisInput = element.prop('tagName') === 'INPUT',\r\n\t\t\tinput = isInput ? element : element.find('input'),\r\n\t\t\taddon = element.find('.input-group-addon'),\r\n\t\t\tself = this,\r\n\t\t\ttimer;\r\n\r\n\t\tthis.id = uniqueId('cp');\r\n\t\tthis.element = element;\r\n\t\tthis.options = options;\r\n\t\tthis.isAppended = false;\r\n\t\tthis.isShown = false;\r\n\t\tthis.currentView = 'hours';\r\n\t\tthis.isInput = isInput;\r\n\t\tthis.input = input;\r\n\t\tthis.addon = addon;\r\n\t\tthis.popover = popover;\r\n\t\tthis.plate = plate;\r\n\t\tthis.hoursView = hoursView;\r\n\t\tthis.minutesView = minutesView;\r\n\t\tthis.spanHours = popover.find('.clockpicker-span-hours');\r\n\t\tthis.spanMinutes = popover.find('.clockpicker-span-minutes');\r\n\r\n\t\tif (! options.autoclose) {\r\n\t\t\t// If autoclose is not setted, append a button\r\n\t\t\t$('<button type=\"button\" class=\"btn btn-sm btn-default btn-block clockpicker-button\">' + options.donetext + '</button>')\r\n\t\t\t\t.click($.proxy(this.done, this))\r\n\t\t\t\t.appendTo(popover);\r\n\t\t}\r\n\r\n\t\t// Placement and arrow align\r\n\t\tpopover.addClass(options.placement);\r\n\t\tpopover.addClass('clockpicker-align-' + options.align);\r\n\r\n\t\tthis.spanHours.click($.proxy(this.toggleView, this, 'hours'));\r\n\t\tthis.spanMinutes.click($.proxy(this.toggleView, this, 'minutes'));\r\n\r\n\t\t// Show or toggle\r\n\t\tinput.on('focus.clockpicker', $.proxy(this.show, this));\r\n\t\taddon.on('click.clockpicker', $.proxy(this.toggle, this));\r\n\r\n\t\t// Build ticks\r\n\t\tvar tickTpl = $('<div class=\"clockpicker-tick\"></div>'),\r\n\t\t\ti, tick, radian;\r\n\r\n\t\t// Hours view\r\n\t\tfor (i = 0; i < 24; i += 1) {\r\n\t\t\ttick = tickTpl.clone();\r\n\t\t\tradian = i / 6 * Math.PI;\r\n\t\t\tvar inner = i > 0 && i < 13,\r\n\t\t\t\tradius = inner ? innerRadius : outerRadius;\r\n\t\t\ttick.css({\r\n\t\t\t\tleft: dialRadius + Math.sin(radian) * radius - tickRadius,\r\n\t\t\t\ttop: dialRadius - Math.cos(radian) * radius - tickRadius\r\n\t\t\t});\r\n\t\t\tif (inner) {\r\n\t\t\t\ttick.css('font-size', '120%');\r\n\t\t\t}\r\n\t\t\ttick.html(i === 0 ? '00' : i);\r\n\t\t\thoursView.append(tick);\r\n\t\t\ttick.on(mousedownEvent, mousedown);\r\n\t\t}\r\n\r\n\t\t// Minutes view\r\n\t\tfor (i = 0; i < 60; i += 5) {\r\n\t\t\ttick = tickTpl.clone();\r\n\t\t\tradian = i / 30 * Math.PI;\r\n\t\t\ttick.css({\r\n\t\t\t\tleft: dialRadius + Math.sin(radian) * outerRadius - tickRadius,\r\n\t\t\t\ttop: dialRadius - Math.cos(radian) * outerRadius - tickRadius\r\n\t\t\t});\r\n\t\t\ttick.css('font-size', '120%');\r\n\t\t\ttick.html(leadingZero(i));\r\n\t\t\tminutesView.append(tick);\r\n\t\t\ttick.on(mousedownEvent, mousedown);\r\n\t\t}\r\n\r\n\t\t// Clicking on minutes view space\r\n\t\tplate.on(mousedownEvent, function(e){\r\n\t\t\tif ($(e.target).closest('.clockpicker-tick').length === 0) {\r\n\t\t\t\tmousedown(e, true);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t// Mousedown or touchstart\r\n\t\tfunction mousedown(e, space) {\r\n\t\t\tvar offset = plate.offset(),\r\n\t\t\t\tisTouch = /^touch/.test(e.type),\r\n\t\t\t\tx0 = offset.left + dialRadius,\r\n\t\t\t\ty0 = offset.top + dialRadius,\r\n\t\t\t\tdx = (isTouch ? e.originalEvent.touches[0] : e).pageX - x0,\r\n\t\t\t\tdy = (isTouch ? e.originalEvent.touches[0] : e).pageY - y0,\r\n\t\t\t\tz = Math.sqrt(dx * dx + dy * dy),\r\n\t\t\t\tmoved = false;\r\n\r\n\t\t\t// When clicking on minutes view space, check the mouse position\r\n\t\t\tif (space && (z < outerRadius - tickRadius || z > outerRadius + tickRadius)) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\te.preventDefault();\r\n\r\n\t\t\t// Set cursor style of body after 200ms\r\n\t\t\tvar movingTimer = setTimeout(function(){\r\n\t\t\t\t$body.addClass('clockpicker-moving');\r\n\t\t\t}, 200);\r\n\r\n\t\t\t// Place the canvas to top\r\n\t\t\tif (svgSupported) {\r\n\t\t\t\tplate.append(self.canvas);\r\n\t\t\t}\r\n\r\n\t\t\t// Clock\r\n\t\t\tself.setHand(dx, dy, ! space, true);\r\n\r\n\t\t\t// Mousemove on document\r\n\t\t\t$doc.off(mousemoveEvent + '.clockpicker').on(mousemoveEvent + '.clockpicker', function(e){\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\tvar x = (isTouch ? e.originalEvent.touches[0] : e).pageX - x0,\r\n\t\t\t\t\ty = (isTouch ? e.originalEvent.touches[0] : e).pageY - y0;\r\n\t\t\t\tif (! moved && x === dx && y === dy) {\r\n\t\t\t\t\t// Clicking in chrome on windows will trigger a mousemove event\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tmoved = true;\r\n\t\t\t\tself.setHand(x, y, false, true);\r\n\t\t\t});\r\n\r\n\t\t\t// Mouseup on document\r\n\t\t\t$doc.off(mouseupEvent + '.clockpicker').one(mouseupEvent + '.clockpicker', function(e){\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\tvar x = (isTouch ? e.originalEvent.changedTouches[0] : e).pageX - x0,\r\n\t\t\t\t\ty = (isTouch ? e.originalEvent.changedTouches[0] : e).pageY - y0;\r\n\t\t\t\tif ((space || moved) && x === dx && y === dy) {\r\n\t\t\t\t\tself.setHand(x, y);\r\n\t\t\t\t}\r\n\t\t\t\tif (self.currentView === 'hours') {\r\n\t\t\t\t\tself.toggleView('minutes', duration / 2);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (options.autoclose) {\r\n\t\t\t\t\t\tself.minutesView.addClass('clockpicker-dial-out');\r\n\t\t\t\t\t\tsetTimeout(function(){\r\n\t\t\t\t\t\t\tself.done();\r\n\t\t\t\t\t\t}, duration / 2);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tplate.prepend(canvas);\r\n\r\n\t\t\t\t// Reset cursor style of body\r\n\t\t\t\tclearTimeout(movingTimer);\r\n\t\t\t\t$body.removeClass('clockpicker-moving');\r\n\r\n\t\t\t\t// Unbind mousemove event\r\n\t\t\t\t$doc.off(mousemoveEvent + '.clockpicker');\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tif (svgSupported) {\r\n\t\t\t// Draw clock hands and others\r\n\t\t\tvar canvas = popover.find('.clockpicker-canvas'),\r\n\t\t\t\tsvg = createSvgElement('svg');\r\n\t\t\tsvg.setAttribute('class', 'clockpicker-svg');\r\n\t\t\tsvg.setAttribute('width', diameter);\r\n\t\t\tsvg.setAttribute('height', diameter);\r\n\t\t\tvar g = createSvgElement('g');\r\n\t\t\tg.setAttribute('transform', 'translate(' + dialRadius + ',' + dialRadius + ')');\r\n\t\t\tvar bearing = createSvgElement('circle');\r\n\t\t\tbearing.setAttribute('class', 'clockpicker-canvas-bearing');\r\n\t\t\tbearing.setAttribute('cx', 0);\r\n\t\t\tbearing.setAttribute('cy', 0);\r\n\t\t\tbearing.setAttribute('r', 2);\r\n\t\t\tvar hand = createSvgElement('line');\r\n\t\t\thand.setAttribute('x1', 0);\r\n\t\t\thand.setAttribute('y1', 0);\r\n\t\t\tvar bg = createSvgElement('circle');\r\n\t\t\tbg.setAttribute('class', 'clockpicker-canvas-bg');\r\n\t\t\tbg.setAttribute('r', tickRadius);\r\n\t\t\tvar fg = createSvgElement('circle');\r\n\t\t\tfg.setAttribute('class', 'clockpicker-canvas-fg');\r\n\t\t\tfg.setAttribute('r', 3.5);\r\n\t\t\tg.appendChild(hand);\r\n\t\t\tg.appendChild(bg);\r\n\t\t\tg.appendChild(fg);\r\n\t\t\tg.appendChild(bearing);\r\n\t\t\tsvg.appendChild(g);\r\n\t\t\tcanvas.append(svg);\r\n\r\n\t\t\tthis.hand = hand;\r\n\t\t\tthis.bg = bg;\r\n\t\t\tthis.fg = fg;\r\n\t\t\tthis.bearing = bearing;\r\n\t\t\tthis.g = g;\r\n\t\t\tthis.canvas = canvas;\r\n\t\t}\r\n\t}\r\n\r\n\t// Default options\r\n\tClockPicker.DEFAULTS = {\r\n\t\t'default': '',       // default time, 'now' or '13:14' e.g.\r\n\t\tfromnow: 0,          // set default time to * milliseconds from now (using with default = 'now')\r\n\t\tplacement: 'bottom', // clock popover placement\r\n\t\talign: 'left',       // popover arrow align\r\n\t\tdonetext: '完成',    // done button text\r\n\t\tautoclose: false,    // auto close when minute is selected\r\n\t\tvibrate: true        // vibrate the device when dragging clock hand\r\n\t};\r\n\r\n\t// Show or hide popover\r\n\tClockPicker.prototype.toggle = function(){\r\n\t\tthis[this.isShown ? 'hide' : 'show']();\r\n\t};\r\n\r\n\t// Set popover position\r\n\tClockPicker.prototype.locate = function(){\r\n\t\tvar element = this.element,\r\n\t\t\tpopover = this.popover,\r\n\t\t\toffset = element.offset(),\r\n\t\t\twidth = element.outerWidth(),\r\n\t\t\theight = element.outerHeight(),\r\n\t\t\tplacement = this.options.placement,\r\n\t\t\talign = this.options.align,\r\n\t\t\tstyles = {},\r\n\t\t\tself = this;\r\n\t\t\r\n\t\tpopover.show();\r\n\r\n\t\t// Place the popover\r\n\t\tswitch (placement) {\r\n\t\t\tcase 'bottom':\r\n\t\t\t\tstyles.top = offset.top + height;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'right':\r\n\t\t\t\tstyles.left = offset.left + width;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'top':\r\n\t\t\t\tstyles.top = offset.top - popover.outerHeight();\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'left':\r\n\t\t\t\tstyles.left = offset.left - popover.outerWidth();\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\t// Align the popover arrow\r\n\t\tswitch (align) {\r\n\t\t\tcase 'left':\r\n\t\t\t\tstyles.left = offset.left;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'right':\r\n\t\t\t\tstyles.left = offset.left + width - popover.outerWidth();\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'top':\r\n\t\t\t\tstyles.top = offset.top;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'bottom':\r\n\t\t\t\tstyles.top = offset.top + height - popover.outerHeight();\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\tpopover.css(styles);\r\n\t};\r\n\r\n\t// Show popover\r\n\tClockPicker.prototype.show = function(e){\r\n\t\t// Not show again\r\n\t\tif (this.isShown) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar self = this;\r\n\r\n\t\t// Initialize\r\n\t\tif (! this.isAppended) {\r\n\t\t\t// Append popover to body\r\n\t\t\t$body = $(document.body).append(this.popover);\r\n\r\n\t\t\t// Reset position when resize\r\n\t\t\t$win.on('resize.clockpicker' + this.id, function(){\r\n\t\t\t\tif (self.isShown) {\r\n\t\t\t\t\tself.locate();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tthis.isAppended = true;\r\n\t\t}\r\n\r\n\t\t// Get the time\r\n\t\tvar value = ((this.input.prop('value') || this.options['default'] || '') + '').split(':');\r\n\t\tif (value[0] === 'now') {\r\n\t\t\tvar now = new Date(+ new Date() + this.options.fromnow);\r\n\t\t\tvalue = [\r\n\t\t\t\tnow.getHours(),\r\n\t\t\t\tnow.getMinutes()\r\n\t\t\t];\r\n\t\t}\r\n\t\tthis.hours = + value[0] || 0;\r\n\t\tthis.minutes = + value[1] || 0;\r\n\t\tthis.spanHours.html(leadingZero(this.hours));\r\n\t\tthis.spanMinutes.html(leadingZero(this.minutes));\r\n\r\n\t\t// Toggle to hours view\r\n\t\tthis.toggleView('hours');\r\n\r\n\t\t// Set position\r\n\t\tthis.locate();\r\n\r\n\t\tthis.isShown = true;\r\n\r\n\t\t// Hide when clicking on any element except the clock, input and addon\r\n\t\t$doc.on('click.clockpicker.' + this.id, function(e){\r\n\t\t\tvar target = $(e.target);\r\n\t\t\tif (target.closest(self.popover).length === 0 &&\r\n\t\t\t\t\ttarget.closest(self.addon).length === 0 &&\r\n\t\t\t\t\ttarget.closest(self.input).length === 0) {\r\n\t\t\t\tself.hide();\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t// Hide when ESC is pressed\r\n\t\t$doc.on('keyup.clockpicker.' + this.id, function(e){\r\n\t\t\tif (e.keyCode === 27) {\r\n\t\t\t\tself.hide();\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\t// Hide popover\r\n\tClockPicker.prototype.hide = function(){\r\n\t\tthis.isShown = false;\r\n\r\n\t\t// Unbinding events on document\r\n\t\t$doc.off('click.clockpicker.' + this.id);\r\n\t\t$doc.off('keyup.clockpicker.' + this.id);\r\n\r\n\t\tthis.popover.hide();\r\n\t};\r\n\r\n\t// Toggle to hours or minutes view\r\n\tClockPicker.prototype.toggleView = function(view, delay){\r\n\t\tvar isHours = view === 'hours',\r\n\t\t\tnextView = isHours ? this.hoursView : this.minutesView,\r\n\t\t\thideView = isHours ? this.minutesView : this.hoursView;\r\n\r\n\t\tthis.currentView = view;\r\n\r\n\t\tthis.spanHours.toggleClass('text-primary', isHours);\r\n\t\tthis.spanMinutes.toggleClass('text-primary', ! isHours);\r\n\r\n\t\t// Let's make transitions\r\n\t\thideView.addClass('clockpicker-dial-out');\r\n\t\tnextView.css('visibility', 'visible').removeClass('clockpicker-dial-out');\r\n\r\n\t\t// Reset clock hand\r\n\t\tthis.resetClock(delay);\r\n\r\n\t\t// After transitions ended\r\n\t\tclearTimeout(this.toggleViewTimer);\r\n\t\tthis.toggleViewTimer = setTimeout(function(){\r\n\t\t\thideView.css('visibility', 'hidden');\r\n\t\t}, duration);\r\n\t};\r\n\r\n\t// Reset clock hand\r\n\tClockPicker.prototype.resetClock = function(delay){\r\n\t\tvar view = this.currentView,\r\n\t\t\tvalue = this[view],\r\n\t\t\tisHours = view === 'hours',\r\n\t\t\tunit = Math.PI / (isHours ? 6 : 30),\r\n\t\t\tradian = value * unit,\r\n\t\t\tradius = isHours && value > 0 && value < 13 ? innerRadius : outerRadius,\r\n\t\t\tx = Math.sin(radian) * radius,\r\n\t\t\ty = - Math.cos(radian) * radius,\r\n\t\t\tself = this;\r\n\t\tif (svgSupported && delay) {\r\n\t\t\tself.canvas.addClass('clockpicker-canvas-out');\r\n\t\t\tsetTimeout(function(){\r\n\t\t\t\tself.canvas.removeClass('clockpicker-canvas-out');\r\n\t\t\t\tself.setHand(x, y);\r\n\t\t\t}, delay);\r\n\t\t} else {\r\n\t\t\tthis.setHand(x, y);\r\n\t\t}\r\n\t};\r\n\r\n\t// Set clock hand to (x, y)\r\n\tClockPicker.prototype.setHand = function(x, y, roundBy5, dragging){\r\n\t\tvar radian = Math.atan2(x, - y),\r\n\t\t\tisHours = this.currentView === 'hours',\r\n\t\t\tunit = Math.PI / (isHours || roundBy5 ? 6 : 30),\r\n\t\t\tz = Math.sqrt(x * x + y * y),\r\n\t\t\toptions = this.options,\r\n\t\t\tinner = isHours && z < (outerRadius + innerRadius) / 2,\r\n\t\t\tradius = inner ? innerRadius : outerRadius,\r\n\t\t\tvalue;\r\n\r\n\t\t// Radian should in range [0, 2PI]\r\n\t\tif (radian < 0) {\r\n\t\t\tradian = Math.PI * 2 + radian;\r\n\t\t}\r\n\r\n\t\t// Get the round value\r\n\t\tvalue = Math.round(radian / unit);\r\n\r\n\t\t// Get the round radian\r\n\t\tradian = value * unit;\r\n\r\n\t\t// Correct the hours or minutes\r\n\t\tif (isHours) {\r\n\t\t\tif (value === 12) {\r\n\t\t\t\tvalue = 0;\r\n\t\t\t}\r\n\t\t\tvalue = inner ? (value === 0 ? 12 : value) : value === 0 ? 0 : value + 12;\r\n\t\t} else {\r\n\t\t\tif (roundBy5) {\r\n\t\t\t\tvalue *= 5;\r\n\t\t\t}\r\n\t\t\tif (value === 60) {\r\n\t\t\t\tvalue = 0;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Once hours or minutes changed, vibrate the device\r\n\t\tif (this[this.currentView] !== value) {\r\n\t\t\tif (vibrate && this.options.vibrate) {\r\n\t\t\t\t// Do not vibrate too frequently\r\n\t\t\t\tif (! this.vibrateTimer) {\r\n\t\t\t\t\tnavigator[vibrate](10);\r\n\t\t\t\t\tthis.vibrateTimer = setTimeout($.proxy(function(){\r\n\t\t\t\t\t\tthis.vibrateTimer = null;\r\n\t\t\t\t\t}, this), 100);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis[this.currentView] = value;\r\n\t\tthis[isHours ? 'spanHours' : 'spanMinutes'].html(leadingZero(value));\r\n\r\n\t\t// If svg is not supported, just add an active class to the tick\r\n\t\tif (! svgSupported) {\r\n\t\t\tthis[isHours ? 'hoursView' : 'minutesView'].find('.clockpicker-tick').each(function(){\r\n\t\t\t\tvar tick = $(this);\r\n\t\t\t\ttick.toggleClass('active', value === + tick.html());\r\n\t\t\t});\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// Place clock hand at the top when dragging\r\n\t\tif (dragging || (! isHours && value % 5)) {\r\n\t\t\tthis.g.insertBefore(this.hand, this.bearing);\r\n\t\t\tthis.g.insertBefore(this.bg, this.fg);\r\n\t\t\tthis.bg.setAttribute('class', 'clockpicker-canvas-bg clockpicker-canvas-bg-trans');\r\n\t\t} else {\r\n\t\t\t// Or place it at the bottom\r\n\t\t\tthis.g.insertBefore(this.hand, this.bg);\r\n\t\t\tthis.g.insertBefore(this.fg, this.bg);\r\n\t\t\tthis.bg.setAttribute('class', 'clockpicker-canvas-bg');\r\n\t\t}\r\n\r\n\t\t// Set clock hand and others' position\r\n\t\tvar cx = Math.sin(radian) * radius,\r\n\t\t\tcy = - Math.cos(radian) * radius;\r\n\t\tthis.hand.setAttribute('x2', cx);\r\n\t\tthis.hand.setAttribute('y2', cy);\r\n\t\tthis.bg.setAttribute('cx', cx);\r\n\t\tthis.bg.setAttribute('cy', cy);\r\n\t\tthis.fg.setAttribute('cx', cx);\r\n\t\tthis.fg.setAttribute('cy', cy);\r\n\t};\r\n\r\n\t// Hours and minuts is selected\r\n\tClockPicker.prototype.done = function() {\r\n\t\tthis.hide();\r\n\t\tvar last = this.input.prop('value'),\r\n\t\t\tvalue = leadingZero(this.hours) + ':' + leadingZero(this.minutes);\r\n\t\tthis.input.prop('value', value);\r\n\t\tif (value !== last) {\r\n\t\t\tthis.input.triggerHandler('change');\r\n\t\t\tif (! this.isInput) {\r\n\t\t\t\tthis.element.trigger('change');\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\t// Remove clockpicker from input\r\n\tClockPicker.prototype.remove = function() {\r\n\t\tthis.element.removeData('clockpicker');\r\n\t\tthis.input.off('focus.clockpicker');\r\n\t\tthis.addon.off('click.clockpicker');\r\n\t\tif (this.isShown) {\r\n\t\t\tthis.hide();\r\n\t\t}\r\n\t\tif (this.isAppended) {\r\n\t\t\t$win.off('resize.clockpicker' + this.id);\r\n\t\t\tthis.popover.remove();\r\n\t\t}\r\n\t};\r\n\r\n\t// Extends $.fn.clockpicker\r\n\t$.fn.clockpicker = function(option){\r\n\t\tvar args = Array.prototype.slice.call(arguments, 1);\r\n\t\treturn this.each(function(){\r\n\t\t\tvar $this = $(this),\r\n\t\t\t\tdata = $this.data('clockpicker');\r\n\t\t\tif (! data) {\r\n\t\t\t\tvar options = $.extend({}, ClockPicker.DEFAULTS, $this.data(), typeof option == 'object' && option);\r\n\t\t\t\t$this.data('clockpicker', new ClockPicker($this, options));\r\n\t\t\t} else {\r\n\t\t\t\t// Manual operatsions. show, hide, remove, e.g.\r\n\t\t\t\tif (typeof data[option] === 'function') {\r\n\t\t\t\t\tdata[option].apply(data, args);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n}());\r\n"]}]}